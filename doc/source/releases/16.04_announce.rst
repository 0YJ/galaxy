
===========================================================
April 2016 Galaxy Release (v 16.04)
===========================================================

.. include:: _header.rst

Highlights
===========================================================

**Overhaul of Tools and Jobs**
  Including Embedded Pulsar Job Runner.

**New chemical datatypes**
  Galaxy now detects and supports many molecular datatypes. See details at `Pull Request 1941`_
  Thanks to `@bgruening <https://github.com/bgruening>`__.


.. _Pull Request 1941: https://github.com/galaxyproject/galaxy/pull/1941

`Github <https://github.com/galaxyproject/galaxy>`__
===========================================================

New
  .. code-block:: shell

      % git clone -b master https://github.com/galaxyproject/galaxy.git

Update to latest stable release
  .. code-block:: shell

      % git checkout master && pull --ff-only origin master

Update to exact version
  .. code-block:: shell

      % git checkout v16.04


`BitBucket <https://bitbucket.org/galaxy/galaxy-dist>`__
===========================================================

Upgrade
  .. code-block:: shell

      % hg pull
      % hg update latest_16.04


See `our wiki <https://wiki.galaxyproject.org/Develop/SourceCode>`__ for additional details regarding the source code locations.

Deprecation Notices
===========================================================

API for history contents, index:
 * **types**: is no longer a valid parameter but accessible using
  ``?q=history_content_type&qv=[dataset | dataset_collection]``
 * **ids**: is no longer a valid url parameter but is accessible using
  ``?q=type_id-in&qv=<e.g. dataset-abcdef123,dataset_collection-987fedcba, ...>``
 * **deleted** and **visible**: are no longer parameters but are still accessible using
  ``q=deleted&qv=[True | False]&q=visible&qv=[True | False]``

API for history contents, show:
  * **api_type**: removed and unavailable (was :code:`file` and constant across HDAs)
  * **display_apps**, **display_types**, **visualization**: removed from the default :code:`detailed` view but still available by calling url with
   ``?keys=display_apps,display_types,visualization``

API histories (removed from the available serialized data on all calls):
  * **state, state_details, state_ids** - can be replaced by specifically requesting a single array of contents, each containing :code:`{ id, state, deleted, visible }`

Security
===========================================================
Due to security fixes on the Mercurial_ side we had to update the hg version that
both Galaxy and TS depend on because the fixes have not been backported to older versions.
However this has broken the TS's ``hg push`` functionality as Mercurial changed their bundle
format in a non-compatible manner. Given that we deprecated the ``hg push`` API
functionality back in in 15.10 we decided to disable it fully from 16.01 (retroactively).

**Only Tool Sheds newer than 16.01 should be deployed from now on.**

.. _Mercurial: https://www.mercurial-scm.org/wiki/WhatsNew#Mercurial_3.7.3_.282016-3-29.29

Release Notes
===========================================================

.. include:: 16.04.rst
   :start-after: announce_start

.. include:: _thanks.rst
