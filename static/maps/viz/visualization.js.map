{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","GridView","Tabs","Ui","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","dataset_url","add_track_async_url","filters","success_fn","$history_grid","$","history_grid","url_base","Galaxy","root","url_data","dict_format","embedded","empty","append","$el","history_list","Select","View","onchange","history_id","ajax","url","success","response","options","history","push","label","name","value","id","update","library_grid","tabs","add","title","icon","modal","show","body","buttons","Cancel","hide","Add","requests","data","data_type","hda_ldda","attr","length","dataType","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","key","path","image","Image","src","onload","createPattern","get_pattern","canvas","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","deleted_key","shift","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","console","log","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"AAAAA,QAAS,kBAAmB,mBAAoB,qBAAsB,eAAgB,qBAAsB,iBAAkB,kBAAmB,SAASC,EAAGC,EAAUC,EAAUC,EAAYC,EAAUC,EAAMC,GAM7M,GAAIC,IAIAC,OAAQ,WACJ,GAAIC,GAAOC,KACPC,IAQJ,OAPAX,GAAEY,KAAKH,EAAKI,YAAYC,aAAc,SAASC,GAC3C,GAAIC,GAAMP,EAAKQ,IAAIF,EACfA,KAAKN,GAAKI,YAAYK,kBACtBF,EAAMP,EAAKI,YAAYK,gBAAgBH,GAAGC,EAAKP,IAEnDE,EAAKI,GAAKC,IAEPL,IAiBXQ,EAAkB,SAASC,EAAaC,EAAqBC,EAASC,GAGtE,GAAIC,GAAgBC,EAAG,UACnBC,EAAe,GAAItB,IACnBuB,SAAcC,OAAOC,KAAO,sCAC5BC,SAAcR,EACdS,aAAc,EACdC,UAAc,GAElBR,GAAcS,QAAQC,OAAQR,EAAaS,IAC3C,IAAIC,GAAe,GAAI9B,GAAG+B,OAAOC,MAC7BC,SAAU,SAAUC,GAChB,GAAId,GAAe,GAAItB,IACnBuB,SAAcC,OAAOC,KAAO,iDAAmDW,EAC/EV,SAAcR,EACdS,aAAc,EACdC,UAAc,GAElBR,GAAcS,QAAQC,OAAQR,EAAaS,OAGnDV,GAAEgB,MACEC,IAAcd,OAAOC,KAAO,gBAC5Bc,QAAc,SAAUC,GACpB,GAAIC,KACJ7C,GAAEY,KAAMgC,EAAU,SAAUE,GACxBD,EAAQE,MAAOC,MAAOF,EAAQG,KAAMC,MAAOJ,EAAQK,OAEvDf,EAAagB,OAAQP,KAM7B,IAAIQ,GAAe,GAAIjD,IAAYuB,SAAUC,OAAOC,KAAO,+BAAgCC,SAAUR,EAASS,aAAa,EAAMC,UAAU,IACvIsB,EAAO,GAAIjD,GAAKiC,IACpBgB,GAAKC,KAAOJ,GAAU,YACVK,MAAU,YACVC,KAAU,eACVtB,IAAUV,EAAG,UAAWS,OAAQT,EAAG,SAAUS,OAAQ,sBAC7BA,OAAQE,EAAaD,KACrBD,OAAQT,EAAG,SAAUS,OAAQ,wBAC7BA,OAAQV,KAE5C8B,EAAKC,KAAOJ,GAAU,YACVK,MAAU,YACVC,KAAU,iBACVtB,IAAUkB,EAAalB,MAInCP,OAAO8B,MAAMC,MACTH,MAAU,iCACVI,KAAUN,EAAKnB,IACf0B,SACIC,OAAU,WACNlC,OAAO8B,MAAMK,QAEjBC,IAAO,WACH,GAAIC,KACJX,GAAK7B,EAAE,uDAAuDb,KAAK,WAC/D,GAAIsD,IAASC,UAAY,eAAgBC,SAAW,OAChDjB,EAAK1B,EAAEf,MAAMM,KACY,QAAzBS,EAAEf,MAAM2D,KAAK,UACbH,EAAKE,SAAW,QAEpBH,EAASA,EAASK,QAAU7C,EAAEgB,MAC1BC,IAAWrB,EAAsB,IAAM8B,EACvCe,KAAWA,EACXK,SAAW,WAKnB9C,EAAE+C,KAAKC,MAAMhD,EAAGwC,GAAUS,KAAK,WAI3B,GAAIC,GAAeC,UAAU,YAAcC,OACxBpD,EAAEqD,IAAIF,UAAW,SAASG,GAAO,MAAOA,GAAI,MAC1CH,UAAU,GAC/BrD,GAAWoD,KAEf/C,OAAO8B,MAAMK,YAWzBiB,EAAgB,SAASC,GACzBvE,KAAKuE,aAAgCC,SAAjBD,EAA6BA,EAAe,wCAEhEvE,KAAKyE,aAAezE,KAAK0E,aACzB1E,KAAK2E,cAAgB3E,KAAKyE,aAAaG,WAAW,MAClD5E,KAAK2E,cAAcE,KAAO7E,KAAKuE,aAE/BvE,KAAK8E,cAAgB9E,KAAK2E,cAAcI,YAAY,KAAKC,MAEzDhF,KAAKiF,YAGLjF,KAAKkF,aAAc,eAAgB,mCACnClF,KAAKkF,aAAc,cAAe,kCAClClF,KAAKkF,aAAc,mBAAoB,uCACvClF,KAAKkF,aAAc,kBAAmB,sCAG1C5F,GAAE6F,OAAQb,EAAcc,WACpBF,aAAc,SAAUG,EAAKC,GACzB,GAAIL,GAAWjF,KAAKiF,SAChBN,EAAgB3E,KAAK2E,cACrBY,EAAQ,GAAIC,MAChBD,GAAME,IAAMvE,OAAOC,KAAO,gBAAkBmE,EAC5CC,EAAMG,OAAS,WACXT,EAASI,GAAOV,EAAcgB,cAAeJ,EAAO,YAG5DK,YAAa,SAAUP,GACnB,MAAOrF,MAAKiF,SAASI,IAEzBX,WAAY,WACR,GAAImB,GAAS9E,EAAE,aAAa,EAG5B,OADA8E,GAAOC,QAAU9F,KACV6F,IAQf,IAAIE,GAAQC,SAASC,MAAMd,QACvBe,UACIC,aAAc,GAEdC,UAAW,KAEXC,QAAS,MAGbC,WAAY,WACRtG,KAAKuG,SAMTC,QAAS,SAASnB,GACd,GAAIe,GAAYpG,KAAKyG,WAAWL,UAC5BC,EAAUrG,KAAKyG,WAAWJ,QAC1BK,EAAUrB,EAAIsB,WACdC,EAAQtH,EAAEuH,QAAQR,EAAS,SAAShG,GAChC,MAAOA,GAAEsG,aAAeD,GAiBhC,OAbc,KAAVE,IAEIR,EAAUM,GAASI,OAEnBT,EAAQU,OAAOH,EAAO,SACfR,GAAUM,IAIjB1G,KAAKgH,gBAAgB3B,EAAKuB,IAI3BR,EAAUM,IAMrBO,QAAS,SAAS5B,EAAK7C,GACnB,GAAI4D,GAAYpG,KAAKyG,WAAWL,UAC5BC,EAAUrG,KAAKyG,WAAWJ,QAC1BK,EAAUrB,EAAIsB,WACdR,EAAenG,KAAKyG,WAAWN,YAGnC,KAAKC,EAAUM,GAAU,CAGrB,GAAIL,EAAQzC,QAAUuC,EAAc,CAEhC,GAAIe,GAAcb,EAAQc,cACnBf,GAAUc,EAAYP,YAIjCN,EAAQhE,KAAKgD,GAKjB,MADAe,GAAUM,GAAWlE,EACdA,GAOXwE,gBAAiB,SAAS3B,EAAKuB,GAC3B5G,KAAKyG,WAAWJ,QAAQU,OAAOH,EAAO,GACtC5G,KAAKyG,WAAWJ,QAAQhE,KAAKgD,IAMjCkB,MAAO,WACHvG,KAAKyG,WAAWL,aAChBpG,KAAKyG,WAAWJ,YAIpBe,KAAM,WACF,MAAOpH,MAAKyG,WAAWJ,QAAQzC,QAInCyD,oBAAqB,WACjB,MAAuB,KAAhBrH,KAAKoH,OAAe,KAEpBpH,KAAKyG,WAAWJ,QAAQrG,KAAKyG,WAAWJ,QAAQzC,OAAS,MAOpE0D,EAAoBvB,EAAMZ,QAC1Be,SAAU5G,EAAE6F,UAAWY,EAAMX,UAAUc,UACnCqB,QAAS,KACTC,OAAQ,KACRC,UAAW,KACXC,gBAAiB,IACjBC,gBAAiB,KACjBlE,UAAW,OACXmE,qBAAsB,WAAwB,OAAO,GACrDC,WAAY,WAAkB,OAAO,KAMzCvB,WAAY,WACRP,EAAMX,UAAUkB,WAAWwB,KAAK9H,KAGhC,IAAI+H,GAAkB/H,KAAKO,IAAI,YAC3BwH,IACA/H,KAAKgI,SAASD,IAQtBC,SAAU,SAASC,GAEXjI,KAAKO,IAAI,gBAAkB0H,EAAQrE,QACnC5D,KAAKkI,IAAI,eAAgBD,EAAQrE,OAIrC,IAAI7D,GAAOC,IACXV,GAAEY,KAAK+H,EAAS,SAASE,GACrBpI,EAAKqI,SAASD,EAAME,OAAQF,MAQpCG,cAAe,WACX,GAAIf,GAAUvH,KAAKO,IAAI,WACnBgI,EAAiBxH,EAAEyH,WAGnBC,EAAwC,aAA1BzI,KAAKO,IAAI,aAA8B,QACb,SAA1BP,KAAKO,IAAI,aAA0B,2BAA6B,QAC9EmI,EAAc,GAAIlJ,GAASmJ,qBACvBC,eACI5G,IAAKhC,KAAKO,IAAI,WAAWyB,MACzBwB,MACIE,SAAU6D,EAAQhH,IAAI,YACtBkD,UAAWgF,GAEf5E,SAAU,QAEdgF,SAAU,IACVhI,WAAY,SAASqB,GAAY,MAAoB,YAAbA,IAMhD,OAHAnB,GAAE+C,KAAK4E,EAAYI,MAAM9E,KAAK,SAAS9B,GACnCqG,EAAeQ,QAAqB,OAAb7G,GAAkC,SAAbA,KAEzCqG,GAMXS,gBAAiB,SAASC,GACtB,GAAI1B,GAAUvH,KAAKO,IAAI,WACnB2I,GACID,MAAOA,EACPvF,SAAU6D,EAAQhH,IAAI,YACtBkD,UAAW,WAEnB,OAAO1C,GAAEoI,QAAQ5B,EAAQvF,MAAOkH,IAQpCE,UAAW,SAASf,EAAQgB,EAAMC,EAAYC,GAE1C,GAAIhC,GAAUvH,KAAKO,IAAI,WACnB2I,GACYzF,UAAazD,KAAKO,IAAI,aACtBiJ,MAASnB,EAAO9H,IAAI,SACpBkJ,IAAOpB,EAAO9H,IAAI,SAClBmJ,KAAQrB,EAAO9H,IAAI,OACnB8I,KAAQA,EACRC,WAAcA,EACd5F,SAAY6D,EAAQhH,IAAI,YAGxCQ,GAAEoE,OAAO+D,EAAQK,EAGjB,IAAI5B,GAAkB3H,KAAKO,IAAI,kBAC/B,IAAIoH,EAAiB,CAGjB,IAAK,GAFDgC,MACA/I,EAAU+G,EAAgB/G,QACrBgJ,EAAI,EAAGA,EAAIhJ,EAAQgD,OAAQgG,IAChCD,EAAatH,KAAKzB,EAAQgJ,GAAGrH,KAEjC2G,GAAOW,YAAcC,KAAKC,UAAUJ,GAIxC,GAAI7D,GAAU9F,KACVmI,EAAQpH,EAAEoI,QAAQ5B,EAAQvF,MAAOkH,EAAQ,SAAUc,GAE/CA,EAAO3B,OAASA,EAChBvC,EAAQsC,SAASC,EAAQ2B,IAIjC,OADAhK,MAAKoI,SAASC,EAAQF,GACfA,GAMX8B,SAAU,SAAS5B,EAAQgB,EAAMC,EAAYC,GAEzC,GAAIpB,GAAQnI,KAAKwG,QAAQ6B,EACzB,IAAKF,IACE3I,EAAS0K,YAAY/B,IAAUnI,KAAKO,IAAI,wBAAwB4H,EAAOkB,IAC1E,MAAOlB,EAWX,KAAK,GADDgC,GAAcC,EAFd/D,EAAUrG,KAAKO,IAAI,WACnB6F,EAAYpG,KAAKO,IAAI,aAEhBqJ,EAAI,EAAGA,EAAIvD,EAAQzC,OAAQgG,IAGhC,GAFAO,EAAe9D,EAAQuD,GAEnBO,EAAaE,SAAShC,KACtB+B,GAAe,EAIfjC,EAAQ/B,EAAU+D,EAAaxD,YAC1BnH,EAAS0K,YAAY/B,IACpBnI,KAAKO,IAAI,wBAAwB4H,EAAOkB,IAASrJ,KAAKO,IAAI,cAAc4H,IAAW,CAIrF,GAHAnI,KAAKgH,gBAAgBmD,EAAcP,IAG7BpK,EAAS0K,YAAY/B,GAAS,CAChC,GAAImC,GAAetK,KAAKsK,aAAanC,EAAOE,EAC5CrI,MAAKoI,SAASC,EAAQiC,GACtBnC,EAAQmC,EAGZ,MAAOnC,GASnB,IAAKiC,GAAgB/B,EAAOzE,SAAW5D,KAAKyG,WAAWiB,gBAAiB,CAMpEW,EAASA,EAAOkC,MAGhB,IAAIC,GAAexK,KAAKqH,uBACnBmD,GAAiBnC,EAAO9H,IAAI,SAAWiK,EAAajK,IAAI,SAEzD8H,EAAOH,IAAI,MAAOG,EAAO9H,IAAI,SAAWP,KAAKyG,WAAWiB,iBAIxDW,EAAOH,IAAI,QAASG,EAAO9H,IAAI,OAASP,KAAKyG,WAAWiB,iBAI5DW,EAAOH,IAAI,SAAUlI,KAAKyG,WAAWe,QACrCa,EAAOoC,OAGX,MAAOzK,MAAKoJ,UAAUf,EAAQgB,EAAMC,EAAYC,IAMpDnB,SAAU,SAASC,EAAQF,GACvBnI,KAAKiH,QAAQoB,EAAQF,IAIzBuC,cAAe,OAGfC,eAAgB,UAKhBC,cAAe,SAASvC,EAAQgB,EAAMC,EAAYC,EAAcsB,GAC5D,GAAIC,GAAW9K,KAAK+K,YAAY1C,EAChC,KAAMyC,IAAY9K,KAAKO,IAAI,wBAAwBuK,EAAUzB,GAEzD,WADA2B,SAAQC,IAAI,wEAOhB,IAAIC,GAAY7C,EAAO9H,IAAI,QACvBsK,KAAa7K,KAAK0K,cAElB3J,EAAEoE,OAAOoE,GAAe4B,UAAWL,EAAStH,KAAKI,OAAS,IAErDiH,IAAa7K,KAAK2K,iBAGvBO,GAAaJ,EAASM,SAAWN,EAASM,SAAWN,EAAStH,KAAKsH,EAAStH,KAAKI,OAAS,GAAG,IAAM,EAEvG,IAAIyH,GAAehD,EAAOkC,OAAOrC,IAAI,QAASgD,GAM1CI,EAAetL,KACfuL,EAAmBvL,KAAKoJ,UAAUiC,EAAchC,EAAMC,EAAYC,GAClEiC,EAAqBzK,EAAEyH,UAmB3B,OAhBAxI,MAAKoI,SAASC,EAAQmD,GACtBzK,EAAE+C,KAAKyH,GAAkBvH,KAAK,SAASgG,GAE/BA,EAAOxG,OACPwG,EAAOxG,KAAOsH,EAAStH,KAAKiI,OAAOzB,EAAOxG,MACtCwG,EAAO0B,UACP1B,EAAO0B,QAAUZ,EAASY,SAE1B1B,EAAO2B,UAEP3B,EAAO2B,QAAU3B,EAAO2B,QAAQC,QAAQ,SAAU5B,EAAOxG,KAAKI,UAGtE0H,EAAalD,SAASC,EAAQ2B,GAC9BwB,EAAmBzC,QAAQiB,KAExBwB,GAMXK,2BAA4B,SAASxD,GACjC,GAAIyC,GAAW9K,KAAKwG,QAAQ6B,EAI5B,OAAkC,WAA1ByC,EAASgB,cAA6BhB,EAAStH,KAAKI,OAAS,KAMzEmI,uBAAwB,SAAS1D,EAAQgB,EAAMC,EAAY0C,EAAmBzC,GAE1E,GAAIuB,GAAW9K,KAAK+K,YAAY1C,EAChC,OAAKyC,IAKAvB,IAAgBA,MAGS,WAA1BuB,EAASgB,eAETvC,EAAa0C,YAAc,IAAOD,GAG/BhM,KAAKoJ,UAAUf,EAAQgB,EAAMC,EAAYC,QAZ5CyB,SAAQC,IAAI,sDAkBpBF,YAAa,SAAS1C,GAClB,GAAIF,GAAQnI,KAAKwG,QAAQ6B,EAKzB,OAJKF,IACD6C,QAAQC,IAAI,oCAAqCjL,KAAKO,IAAI,WAAY8H,EAAO1B,YAEjFwB,EAAMrB,OAAQ,EACPqB,GAQX+D,qBAAsB,SAAS1E,GAG3B,GAAIzH,GAAOC,KACPmM,GAAqB,EAGrBC,EAAU9M,EAAE8E,IAAIoD,EAAOjH,IAAI,eAAe8L,WAAY,SAASA,GAC3D,GAAIC,GAAavM,EAAKyG,QAClB,GAAI+F,IACA/C,MAAO6C,EAAW7C,MAClBgD,MAAO,EACPC,IAAKJ,EAAWK,MAOxB,OAFKJ,KAAcH,GAAqB,GAEjCG,GAIf,IAAIH,EACA,MAAOC,EAKX,IAAIO,GAAW5L,EAAEyH,UAMjB,OALAzH,GAAEoI,QAAQnJ,KAAKO,IAAI,WAAWyB,OAASyB,UAAW,eAAiB,SAASmJ,GACxE7M,EAAKiI,SAAS4E,EAAiBpJ,MAC/BmJ,EAAS5D,QAAQ6D,EAAiBpJ,QAG/BmJ,GAMXrC,aAAc,SAASnC,EAAO0E,GAE1B,GAAIC,IACAC,OAAQ,SAASvJ,EAAMqJ,GACnB,MAAOvN,GAAE0N,OAAOxJ,EAAM,SAASyJ,GAC3B,MAAOA,GAAW,IAAMJ,EAAUtM,IAAI,UAC/B0M,EAAW,IAAMJ,EAAUtM,IAAI,UAG9C2M,OAAQ,SAAS1J,EAAMqJ,GACnB,GAAIM,GAAYN,EAAUtM,IAAI,SAAW4H,EAAME,OAAO9H,IAAI,QAC1D,OAAO4H,GAAM3E,KAAK4J,MAAMD,EAAWA,EAAYN,EAAUjJ,YAK7DyJ,EAAiBlF,EAAM3E,IAM3B,QALK2E,EAAME,OAAOiF,KAAKT,IAAc1E,EAAM2D,eAAgBgB,KACvDO,EAAiBP,EAAW3E,EAAM2D,cAAc3D,EAAM3E,KAAMqJ,KAK5DxE,OAAQwE,EACRrJ,KAAM6J,EACNvB,aAAc3D,EAAM2D,iBAK5ByB,EAA6BjG,EAAkBnC,QAC/CmB,WAAY,SAASnE,GAEjB,GAAIqL,GAAsB,GAAIxH,UAASC,KACvCuH,GAAoBC,QAAUtL,EAAQuL,SACtC1N,KAAKkI,IAAI,UAAWsF,IAGxBpE,UAAW,SAASf,EAAQgB,EAAMC,EAAYC,GAE1C,MAASlB,GAAOzE,UAAY,IACnB0D,EAAkBlC,UAAUgE,UAAUtB,KAAK9H,KAAMqI,EAAQgB,EAAMC,EAAYC,IACzE/F,KAAM,KAAM6E,OAAQA,MAOnCsF,EAAS3H,SAASC,MAAMd,QACxBe,UACI3D,KAAM,KACN8C,IAAK,KACLuI,YAAa,MAGjBtH,WAAY,SAASnE,GACjBnC,KAAKyC,GAAKN,EAAQ0L,OAMtBC,gBAAiB,WACb,MAAO9N,MAAKyG,WAAWmH,YAAYvB,YAMvC0B,iBAAkB,SAASC,GAEvB,GAAI3B,GAAa/M,EAAE2O,KAAKjO,KAAK8N,kBAAmB,SAASzB,GACrD,MAAOA,GAAW7C,QAAUwE,GAEhC,OAAO,IAAIzB,IACP/C,MAAO6C,EAAW7C,MAClBiD,IAAKJ,EAAWK,OAKxBwB,cAAe,SAASF,GAEpB,MAAO1O,GAAE2O,KAAKjO,KAAK8N,kBAAmB,SAASzB,GAC3C,MAAOA,GAAW7C,QAAUwE,IAC7BtB,OAOPH,EAAevG,SAASC,MAAMd,QAC9Be,UACIsD,MAAO,KACPgD,MAAO,EACPC,IAAK,EACL0B,QAAS,KACT3G,OAAQ,MAOZ8F,KAAM,SAASjF,GACX,MAAOrI,MAAKyG,WAAW+C,QAAUnB,EAAO9H,IAAI,UACrCP,KAAKyG,WAAW+F,QAAUnE,EAAO9H,IAAI,UACrCP,KAAKyG,WAAWgG,MAAQpE,EAAO9H,IAAI,QAM9C+F,WAAY,SAASnE,GACjB,GAAIA,EAAQiM,SAAU,CAClB,GAAIC,GAASlM,EAAQiM,SAASE,MAAM,KAChC9E,EAAQ6E,EAAO,GACfE,EAAYF,EAAO,GAAGC,MAAM,IAChCtO,MAAKkI,KACDsB,MAAOA,EACPgD,MAAOgC,SAASD,EAAU,GAAI,IAC9B9B,IAAK+B,SAASD,EAAU,GAAI,MAKpCvO,KAAKyG,WAAW0H,QAAUnO,KAAKO,IAAI,SAAW,IAAMP,KAAKO,IAAI,SAAW,IAAMP,KAAKO,IAAI,OAGvFP,KAAKyO,GAAG,SAAU,WACdzO,KAAKyG,WAAW0H,QAAUnO,KAAKO,IAAI,SAAW,IAAMP,KAAKO,IAAI,SAAW,IAAMP,KAAKO,IAAI,QACxFP,OAGPuK,KAAM,WACF,MAAO,IAAIgC,IACP/C,MAAOxJ,KAAKO,IAAI,SAChBiM,MAAOxM,KAAKO,IAAI,SAChBkM,IAAKzM,KAAKO,IAAI,UAItBqD,OAAQ,WACJ,MAAO5D,MAAKO,IAAI,OAASP,KAAKO,IAAI,UAItCoG,SAAU,WACN,MAAO3G,MAAKyG,WAAW0H,SAG3BrO,OAAQ,WACJ,OACI0J,MAAOxJ,KAAKO,IAAI,SAChBiM,MAAOxM,KAAKO,IAAI,SAChBkM,IAAKzM,KAAKO,IAAI,SAQtBmO,gBAAiB,SAASC,GACtB,GAGIC,GAHAC,EAAc7O,KAAKO,IAAI,SAAUuO,EAAeH,EAASpO,IAAI,SAC7DwO,EAAc/O,KAAKO,IAAI,SAAUyO,EAAeL,EAASpO,IAAI,SAC7D0O,EAAYjP,KAAKO,IAAI,OAAQ2O,EAAaP,EAASpO,IAAI,MAI3D,OAAIsO,IAAeC,GAAgBD,IAAgBC,EACxCvC,EAAa4C,gBAAgBC,WAMhCR,EAFUI,EAAdD,EACgBC,EAAZC,EACU1C,EAAa4C,gBAAgBE,OAEtBH,EAAZD,EACK1C,EAAa4C,gBAAgBG,cAG7B/C,EAAa4C,gBAAgBI,SAGtCR,EAAcC,EACfD,EAAcG,EACJ3C,EAAa4C,gBAAgBK,MAErBN,GAAbD,EACK1C,EAAa4C,gBAAgBM,aAG7BlD,EAAa4C,gBAAgBO,YAIhCT,GAAaC,EACb3C,EAAa4C,gBAAgBI,SAC7BhD,EAAa4C,gBAAgBM,cAShDhF,KAAM,WAOF,GALIzK,KAAKyG,WAAW+F,MAAQ,IACxBxM,KAAKyG,WAAW+F,MAAQ,GAIxBxM,KAAKyG,WAAWe,OAAQ,CACxB,GAAImI,GAAY3P,KAAKyG,WAAWe,OAAO0G,cAAclO,KAAKyG,WAAW+C,MACjExJ,MAAKyG,WAAWgG,IAAMkD,IACtB3P,KAAKyG,WAAWgG,IAAMkD,EAAY,GAI1C,MAAO3P,OAMXqK,SAAU,SAASsE,GACf,MAAO3O,MAAK0O,gBAAgBC,KAAcpC,EAAa4C,gBAAgBI,UAM3EK,SAAU,SAASjB,GACf,MACuJ,KADhJrP,EAAEuQ,cAAe7P,KAAK0O,gBAAgBC,KACrBpC,EAAa4C,gBAAgBC,WAAY7C,EAAa4C,gBAAgBE,OAAQ9C,EAAa4C,gBAAgBK,QAAS5L,UAIhJuL,iBACIC,WAAY,IACZC,OAAQ,KACRE,SAAU,KACVD,cAAe,KACfI,YAAa,KACbD,aAAc,KACdD,MAAO,QAIXM,EAAyB9J,SAAS+J,WAAW5K,QAC7C6K,MAAOzD,IAMP0D,EAAkBjK,SAASC,MAAMd,QACjCe,UACImC,OAAQ,KACR6H,KAAM,IAGV5J,WAAY,SAASnE,GACjBnC,KAAKkI,IAAI,SAAU,GAAIqE,GAAapK,EAAQkG,YAOhD8H,EAA4BnK,SAAS+J,WAAW5K,QAChD6K,MAAOC,IAOPG,EAAgBpK,SAASC,MAAMd,OAAOtF,GAAcsF,QACpDe,UACImD,KAAM,QAGV/C,WAAY,SAASnE,GACjBnC,KAAKkI,IAAI,UAAW,GAAI3I,GAAS8Q,QAAQlO,EAAQoF,SAGjD,IAAI+I,KACEjL,IAAK,OAAQkL,cAAevQ,KAAKO,IAAI,WAAWA,IAAI,UACpD8E,IAAK,UACLA,IAAK,YAAa/C,MAAO,YAAakO,KAAM,QAASD,cAAe,IACpElL,IAAK,YAAa/C,MAAO,YAAakO,KAAM,QAASD,cAAe,GAG1EvQ,MAAKkI,IAAI,SAAUzI,EAAWgR,wBAAwBC,6BAA6BJ,EAAQnO,EAAQwO,OAGnG,IAAIC,GAAiB5Q,KAAKO,IAAI,iBAE1BqQ,GADAA,EACiBA,EAAepN,QAKpCxD,KAAKkI,IAAI,eAAgB,GAAIZ,IACzBC,QAASvH,KAAKO,IAAI,WAClBkH,UAAWmJ,QAMnBxQ,cACI,aACA,UACA,QACA,OACA,UACA,cAEJI,iBACImQ,MAAO,SAASE,EAAG9Q,GAOf,MANkB,KAAdT,EAAE8H,KAAKyJ,KACPA,GACItO,KAAMxC,EAAKQ,IAAI,UAAUA,IAAI,QAAQA,IAAI,SACzCuQ,MAAO/Q,EAAKQ,IAAI,UAAUA,IAAI,SAASA,IAAI,WAG5CsQ,GAEXtJ,QAAS,SAASwJ,GACd,OACItO,GAAIsO,EAAEtO,GACNiB,SAAUqN,EAAExQ,IAAI,iBAM5ByQ,EAA0BhL,SAAS+J,WAAW5K,QAC9C6K,MAAOI,IAMPa,EAAgBjL,SAASC,MAAMd,QAC/Be,UACIpD,MAAO,GACP0N,KAAM,IAGV/C,QAASvM,OAAOC,KAAO,qBAOvB+P,KAAM,WACF,MAAOnQ,GAAEgB,MACLC,IAAKhC,KAAKgC,MACVwO,KAAM,OACN3M,SAAU,OACVL,MACI2N,SAAUrH,KAAKC,UAAU/J,YASrCoR,EAAsBH,EAAc9L,OAAOtF,GAAcsF,QACzDe,SAAU5G,EAAE6F,UAAW8L,EAAc7L,UAAUc,UAC3C2H,MAAO,GACPwD,UAAW,KACXC,UAAW,KACXC,SAAU,OAGdjL,WAAY,SAASnE,GAEjBnC,KAAKkI,IAAI,YAAa,GAAI8I,GAAwB7O,EAAQqP,QAE1D,IAAIlB,KACJtQ,MAAKkI,IAAI,SAAUzI,EAAWgR,wBAAwBC,6BAA6BJ,EAAQnO,EAAQwO,QAGnG3Q,KAAKyR,MAAM,UACXzR,KAAKO,IAAI,aAAaL,KAAK,SAAS6Q,GAChCA,EAAEU,MAAM,qBAOhBC,WAAY,SAASF,GACjBxR,KAAKO,IAAI,aAAasC,IAAI2O,MAK9BpR,cACI,OACA,WACA,aAGJI,iBACImR,KAAQ,SAASC,EAAO7R,GACpB,OACI8R,SAAU,OACVlB,OACIpO,KAAMxC,EAAKQ,IAAI,SACfuR,iBAAiB,GAErBT,UAAWtR,EAAKQ,IAAI,kBAchCwR,EAAqB/L,SAASgM,OAAO7M,QACrCmB,WAAY,SAASnE,GACjBnC,KAAK2R,KAAOxP,EAAQwP,KAIpB3R,KAAKiS,MAAM,WAAY,mBACvBjS,KAAKiS,MAAM,4BAA6B,kBAGxC,IAAIlS,GAAOC,IACXD,GAAK4R,KAAKlD,GAAG,WAAY,SAASyD,GAC9BnS,EAAKoS,SAASD,MAItBE,gBAAiB,SAASF,GACtBlS,KAAK2R,KAAKU,MAAMH,KAIxB,QACI9B,cAAeA,EACfH,gBAAiBA,EACjBE,0BAA2BA,EAC3BpK,MAAOA,EACPzB,cAAeA,EACfqJ,OAAQA,EACRrG,kBAAmBA,EACnBiF,aAAcA,EACduD,uBAAwBA,EACxBsB,oBAAqBA,EACrB7D,2BAA4BA,EAC5BwE,mBAAoBA,EACpBd,cAAeA,EACfxQ,gBAAiBA"}