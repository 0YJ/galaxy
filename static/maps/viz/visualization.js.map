{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","GridView","Tabs","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","filters","success_fn","history_grid","url_base","Galaxy","root","dict_format","embedded","library_grid","tabs","View","add","id","title","$el","$","append","modal","show","body","closing_events","buttons","Cancel","hide","Add","requests","length","ajax","url","dataType","data","data_type","hda_ldda","current","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","key","path","image","Image","src","onload","createPattern","get_pattern","canvas","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","value","deleted_key","shift","push","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","response","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","name","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","console","log","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","options","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","label","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"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"}