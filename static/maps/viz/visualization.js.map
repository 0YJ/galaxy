{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","GridView","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","dataset_url","add_track_async_url","filters","success_fn","grid","url_base","url_data","dict_format","embedded","Galaxy","modal","show","title","body","$el","buttons","Cancel","hide","Add","requests","$","data","data_type","hda_ldda","id","attr","length","ajax","url","dataType","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","key","path","image","Image","src","root","onload","createPattern","get_pattern","canvas","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","value","deleted_key","shift","push","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","response","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","name","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","console","log","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","options","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","label","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","add","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"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"}