{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","GridView","Tabs","Ui","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","dataset_url","add_track_async_url","filters","success_fn","history_grid","url_base","Galaxy","root","dict_format","embedded","history_list","Select","View","onchange","grid","add_filter","value","key","substr","update_grid","$","ajax","url","success","response","options","item","push","label","name","id","update","trigger","library_grid","url_data","tabs","add","title","$el","append","modal","show","body","closing_events","buttons","Cancel","hide","Add","requests","length","dataType","data","data_type","hda_ldda","current","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","path","image","Image","src","onload","createPattern","get_pattern","canvas","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","deleted_key","shift","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","console","log","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"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"}