{"version":3,"file":"visualization.js","sources":["../../src/viz/visualization.js"],"names":["define","_","data_mod","util_mod","config_mod","CustomToJSON","toJSON","self","this","json","each","constructor","to_json_keys","k","val","get","to_json_mappers","select_datasets","dataset_url","add_track_async_url","filters","success_fn","$","ajax","url","data","error","alert","success","table_html","Galaxy","modal","show","title","body","buttons","Cancel","hide","Add","requests","data_type","hda_ldda","id","attr","length","dataType","when","apply","then","track_defs","arguments","Array","map","arg","CanvasManager","default_font","undefined","dummy_canvas","new_canvas","dummy_context","getContext","font","char_width_px","measureText","width","patterns","load_pattern","extend","prototype","key","path","image","Image","src","root","onload","createPattern","get_pattern","canvas","window","G_vmlCanvasManager","initElement","manager","Cache","Backbone","Model","defaults","num_elements","obj_cache","key_ary","initialize","clear","get_elt","attributes","key_str","toString","index","indexOf","stale","splice","move_key_to_end","set_elt","value","deleted_key","shift","push","size","most_recently_added","GenomeDataManager","dataset","genome","init_data","min_region_size","filters_manager","data_mode_compatible","can_subset","call","initial_entries","add_data","entries","set","entry","set_data","region","data_is_ready","ready_deferred","Deferred","query_type","ss_deferred","ServerStateDeferred","ajax_settings","interval","response","go","resolve","search_features","query","params","getJSON","load_data","mode","resolution","extra_params","chrom","low","high","filter_names","i","name","filter_cols","JSON","stringify","result","get_data","is_deferred","entry_region","is_subregion","contains","subset_entry","copy","last_request","trim","DEEP_DATA_REQ","BROAD_DATA_REQ","get_more_data","req_type","cur_data","_mark_stale","console","log","query_low","start_val","max_high","query_region","data_manager","new_data_request","new_data_available","concat","max_low","message","replace","can_get_more_detailed_data","dataset_type","get_more_detailed_data","detail_multiplier","num_samples","get_genome_wide_data","all_data_available","gw_data","chrom_info","chrom_data","GenomeRegion","start","end","len","deferred","genome_wide_data","subregion","subset_fns","bigwig","filter","data_point","refseq","seq_start","slice","subregion_data","same","GenomeReferenceDataManager","options","dataset_placeholder","urlRoot","data_url","Genome","chroms_info","dbkey","get_chroms_info","get_chrom_region","chr_name","find","get_chrom_len","str_val","from_str","pieces","split","start_end","parseInt","on","compute_overlap","a_region","overlap","first_chrom","second_chrom","first_start","second_start","first_end","second_end","overlap_results","DIF_CHROMS","BEFORE","OVERLAP_START","CONTAINS","AFTER","CONTAINED_BY","OVERLAP_END","chrom_len","overlaps","intersection","GenomeRegionCollection","Collection","model","BrowserBookmark","note","BrowserBookmarkCollection","BackboneTrack","Dataset","models","default_value","label","type","ConfigSettingCollection","from_models_and_saved_values","prefs","preloaded_data","p","color","d","BackboneTrackCollection","Visualization","save","vis_json","GenomeVisualization","drawables","bookmarks","viewport","tracks","unset","add_tracks","add","view","dummy","obj_type","content_visible","TrackBrowserRouter","Router","route","new_loc","navigate","change_location","go_to"],"mappings":"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"}