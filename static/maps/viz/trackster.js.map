{"version":3,"file":"trackster.js","sources":["../../src/viz/trackster.js"],"names":["ui","view","browser_router","require","mod_utils","cssLoadFile","define","_","tracks","visualization","mod_icon_btn","query_string","Base","this","initialize","apply","arguments","extend","Backbone","Model","TracksterUI","baseURL","save_viz","Galaxy","modal","show","title","body","bookmarks","$","each","push","position","children","text","annotation","overview_track_name","overview_drawable","config","get_value","viz_config","to_dict","viewport","chrom","start","low","end","high","overview","ajax","url","galaxy_config","root","type","dataType","data","id","vis_id","dbkey","vis_json","JSON","stringify","success","vis_info","hide","has_changes","window","history","pushState","location","hash","error","buttons","Cancel","createButtonMenu","self","menu","create_icon_buttons_menu","icon_class","on_click","select_datasets","f-dbkey","new_tracks","track","add_drawable","object_from_template","DrawableGroup","name","force_right_panel","css","handle_unsaved_changes","tooltip_config","placement","buttonMenu","add_bookmarks","alert","table_html","Insert","first","val","attr","hda_id","ldda_id","then","i","length","row","add_bookmark","editable","bookmarks_container","new_bookmark","addClass","appendTo","position_div","annotation_div","click","go_to","delete_icon_container","prependTo","slideUp","remove","make_text_editable","num_rows","use_textarea","help_text","create_visualization","view_config","viewport_config","drawables_config","bookmarks_config","TracksterView","header","editor","when","load_chroms_deferred","chrom_info","overview_drawable_name","undefined","change_chrom","drawables","set_overview","bookmark","set_up_router","options","TrackBrowserRouter","init_keyboard_nav","document","keyup","e","srcElement","is","which","move_fraction","Math","round","viewport_container","height","scrollTop","Leave without Saving","off","Save","View","$el","append","resize_window","app","view_existing","get","choose_existing_or_new","view_new","listTracksParams","dataset_params","dataset_id","hda_ldda","param","view_in_saved","show_choice","Add to visualization","parent","find","View in saved visualization","View in new visualization","console","debug","container","init_editor","response","template_view_new","Create","create_browser","dbkeys_in_genomes","map","r","default_dbkey","contains","focus","select2","html","trigger","gene_region","add_dataset","data_type","track_data","on","GalaxyApp"],"mappings":"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"}