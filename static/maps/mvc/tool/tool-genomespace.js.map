{"version":3,"sources":["mvc/tool/tool-genomespace.js"],"names":["openFileBrowser","options","GS_UPLOAD_URL","window","Galaxy","config","genomespace_ui_url","newWin","GS_UI_URL","addEventListener","successCalBack","e","data","focus","setCallbackOnGSUploadError"],"mappings":"oIAIIA,gBAAiB,SAASC,GACtB,IACIC,EADYC,OAAOC,OAAOC,OAAOC,mBACjC,oDADJC,EAAIC,OAAYL,KAChBD,EAII,2BAFJ,4BAOAC,eAAOM,EAAAA,gBAGCC,OAAAA,iBACH,UAFD,SAAAC,GAMJJ,eAAAI,EAAAC,QAEA,GAFAL,EAAOM,QAEyB,MAA5BZ,EAAA,gBACAM,EAAOO,2BAA6BT,OAAA","file":"../../../scripts/mvc/tool/tool-genomespace.js","sourcesContent":["// Provides support for interacting with the GenomeSpace File Browser popup dialogue\n\n// tool form templates\nexport default {\n    openFileBrowser: function(options) {\n        var GS_UI_URL = window.Galaxy.config.genomespace_ui_url;\n        var GS_UPLOAD_URL = `${GS_UI_URL}upload/loadUrlToGenomespace.html?getLocation=true`;\n\n        var newWin = window.open(\n            GS_UPLOAD_URL,\n            \"GenomeSpace File Browser\",\n            \"height=360px,width=600px\"\n        );\n\n        successCalBack = options[\"successCallback\"];\n        window.addEventListener(\n            \"message\",\n            e => {\n                successCalBack(e.data);\n            },\n            false\n        );\n\n        newWin.focus();\n\n        if (options[\"errorCallback\"] != null)\n            newWin.setCallbackOnGSUploadError = config[\"errorCallback\"];\n    }\n};\n"]}