{"version":3,"file":"tool-form-composite.js","sources":["../../../src/mvc/tool/tool-form-composite.js"],"names":["define","Utils","Ui","Form","FormData","ToolFormBase","View","Backbone","extend","initialize","options","self","this","workflow_id","id","forms","steps","links","setElement","$header","$","addClass","append","Label","title","name","$el","Button","icon","onclick","_","each","form","portlet","collapse","expand","step","i","Galaxy","emit","debug","merge","parseInt","help","description","annotation","citations","needs_update","collapsible","collapsed","sustain_version","sustain_repeats","sustain_conditionals","narrow","text_enable","text_disable","cls_enable","cls_disable","sub_step","connections_by_name","output_connections","connection","step_id","input_step_id","input_name","matchIds","inputs","input","linked","step_type","type","output_name","visitInputs","data_resolved","undefined","isObject","is_data_input","indexOf","is_workflow_parameter","_isWorkflowParameter","value","startsWith","length","is_workflow","__class__","optional","isEmpty","collapsible_value","collapsible_preview","String","onchange","input_value","data","create","link","trigger","matchContext","reference","output_connection","matched_input","field_list","match","push","wp_fields","wp_inputs","wp_count","wp_style","wp_field","wp_color","wp_cls","$wp_input","css","color","border-color","wp_name","wp_element","element_list","disable","label","wp_form","wp_value","sanitize","input_list","post_job_actions","reduce","memo","short_str","history_form","history_id","test_param","cases","execute_btn","cls","floating","_execute","job_def","parameters","validated","job_inputs","order_index","job_input_id","input_id","input_def","values","highlight","console","log","JSON","stringify","_enabled","request","url","root","success","response","parent","currHistoryPanel","refreshContents","error","err_data","error_messages","matchResponse","modal","show","body","err_msg","ToolTemplate","buttons","Close","hide","complete","enabled","unwait","wait","enable","substring"],"mappings":"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"}