{"version":3,"file":"tool-form-composite.js","sources":["../../../src/mvc/tool/tool-form-composite.js"],"names":["define","Utils","Ui","Form","FormData","ToolFormBase","View","Backbone","extend","initialize","options","self","this","workflow_id","id","forms","steps","links","setElement","$header","$","addClass","append","Label","title","name","$el","Button","icon","onclick","_","each","form","portlet","collapse","expand","step","i","Galaxy","emit","debug","merge","parseInt","help","description","annotation","citations","needs_update","collapsible","collapsed","sustain_version","sustain_repeats","sustain_conditionals","narrow","text_enable","text_disable","cls_enable","cls_disable","sub_step","connections_by_name","output_connections","connection","step_id","input_step_id","input_name","matchIds","inputs","input","linked","step_type","type","output_name","visitInputs","data_resolved","undefined","isObject","is_data_input","indexOf","startsWith","length","is_workflow","value","__class__","_isWorkflowParameter","collapsible_value","collapsible_preview","String","onchange","input_value","data","create","link","trigger","matchContext","reference","output_connection","matched_input","field_list","match","push","wp_fields","wp_inputs","wp_count","wp_style","wp_field","wp_color","wp_cls","$wp_input","css","color","border-color","wp_name","wp_element","element_list","disable","label","isEmpty","wp_form","wp_value","sanitize","input_list","post_job_actions","reduce","memo","short_str","history_form","history_id","test_param","cases","execute_btn","cls","floating","_execute","job_def","parameters","validated","job_inputs","order_index","job_input_id","input_id","input_def","values","highlight","optional","console","log","JSON","stringify","_enabled","request","url","root","success","response","parent","currHistoryPanel","refreshContents","error","err_data","error_messages","matchResponse","modal","show","body","err_msg","ToolTemplate","buttons","Close","hide","complete","enabled","unwait","wait","enable","substring"],"mappings":"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"}