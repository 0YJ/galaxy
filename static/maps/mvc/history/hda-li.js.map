{"version":3,"sources":["mvc/history/hda-li.js"],"names":["_datasetLi","require","_baseMvc","_localization","_super","_datasetLi2","default","DatasetListItemView","HDAListItemView","extend","className","prototype","initialize","attributes","options","call","this","model","templates","_baseMvc2","modelString","titleBarTemplate","warnings","_","hidden","wrapTemplate","titleBar"],"mappings":"4IAAA,IAAAA,WAAAC,QAAA,yEACAC,SAAAD,QAAA,2DACAE,cAAAF,QAAA,2EAGIG,OAASC,YAAAC,QAAWC,oBAMpBC,gBAAkBJ,OAAOK,QAErBC,UAAWN,OAAOO,UAAUD,UAAY,mBAExCE,WAAY,SAASC,EAAYC,GAC7BV,OAAOO,UAAUC,WAAWG,KAAKC,KAAMH,EAAYC,IAX3DV,SAAS,WAkBD,MAAO,oBAjBnBY,KAAAC,MAAAD,KAAAC,MAAA,GAAA,cAiBsD,OAOtDT,gBAAgBG,UAAUO,UAAa,WAf/BN,IAAAA,EAAYO,UAAAb,QAASO,cAmBjB,6CAfJ,mCACA,sBAEQO,+CACJ,gDACH,SAbT,QA+BY,0BAdZ,wFACA,wCACAZ,4DACQa,UAEI,YACA,UAGA,UAcJ,WAMQC,EAAAC,EAAAd,UAAAL,OAAAO,UAAAO,UAAAI,UACAE,OAAAL,UAAAb,QAAAmB,cAUHhB,gCACLiB,gDACAJ,EAAAA,eAAAA,SAAUA,gCAFd,SAtCJ,WA4CA,aANI,OAAOC,EAAEd,UAAWL,OAAOO,UAAUO,WACjCQ,SAAUL,EACVC,SAAUA,IAxCqB,oBA8CnCd,gBAAiBA","file":"../../../scripts/mvc/history/hda-li.js","sourcesContent":["import DATASET_LI from \"mvc/dataset/dataset-li\";\nimport BASE_MVC from \"mvc/base-mvc\";\nimport _l from \"utils/localization\";\n\n//==============================================================================\nvar _super = DATASET_LI.DatasetListItemView;\n/** @class Read only view for HistoryDatasetAssociation.\n *      Since there are no controls on the HDAView to hide the dataset,\n *      the primary thing this class does (currently) is override templates\n *      to render the HID.\n */\nvar HDAListItemView = _super.extend(\n    /** @lends HDAListItemView.prototype */ {\n        className: _super.prototype.className + \" history-content\",\n\n        initialize: function(attributes, options) {\n            _super.prototype.initialize.call(this, attributes, options);\n        },\n\n        // ......................................................................... misc\n        /** String representation */\n        toString: function() {\n            var modelString = this.model ? this.model + \"\" : \"(no model)\";\n            return \"HDAListItemView(\" + modelString + \")\";\n        }\n    }\n);\n\n// ............................................................................ TEMPLATES\n/** underscore templates */\nHDAListItemView.prototype.templates = (function() {\n    var titleBarTemplate = BASE_MVC.wrapTemplate(\n        [\n            // adding the hid display to the title\n            '<div class=\"title-bar clear\" tabindex=\"0\">',\n            '<span class=\"state-icon\"></span>',\n            '<div class=\"title\">',\n            //TODO: remove whitespace and use margin-right\n            '<span class=\"hid\"><%- dataset.hid %></span> ',\n            '<span class=\"name\"><%- dataset.name %></span>',\n            \"</div>\",\n            \"</br>\",\n            '<span class=\"nametags\">',\n            \"<% _.each(_.sortBy(_.uniq(dataset.tags), function(x) { return x }), function(tag){ %>\",\n            '<% if (tag.indexOf(\"name:\") == 0){ %>',\n            '<span class=\"label label-info\"><%- tag.slice(5) %></span>',\n            \"<% } %>\",\n            \"<% }); %>\",\n            \"</span>\",\n            \"</div>\"\n        ],\n        \"dataset\"\n    );\n\n    var warnings = _.extend({}, _super.prototype.templates.warnings, {\n        hidden: BASE_MVC.wrapTemplate(\n            [\n                // add a warning when hidden\n                \"<% if( !dataset.visible ){ %>\",\n                '<div class=\"hidden-msg warningmessagesmall\">',\n                _l(\"This dataset has been hidden\"),\n                \"</div>\",\n                \"<% } %>\"\n            ],\n            \"dataset\"\n        )\n    });\n\n    return _.extend({}, _super.prototype.templates, {\n        titleBar: titleBarTemplate,\n        warnings: warnings\n    });\n})();\n\n//==============================================================================\nexport default {\n    HDAListItemView: HDAListItemView\n};\n"]}