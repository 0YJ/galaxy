{"version":3,"sources":["mvc/history/hda-li.js"],"names":["define","DATASET_LI","BASE_MVC","_l","_super","DatasetListItemView","HDAListItemView","extend","className","prototype","options","initialize","call","this","attributes","toString","model","modelString","templates","titleBarTemplate","wrapTemplate","hidden","_","titleBar","warnings"],"mappings":"aAAAA,QACI,yBADJA,eAGI,sBAGJ,SAAAC,EAAAC,EAAAC,GAIA,IAAAC,EAAAH,EAAAI,oBAMAC,EAAAF,EAAAG,QAEIC,UAAYJ,EAAOK,UAAUD,UAAY,mBAGrCJ,WAAAA,SAAOK,EAAPC,GACHN,EANkCK,UAAAE,WAAAC,KAAAC,KAAAC,EAAAJ,IAW/BK,SAAA,WAEH,MAAA,oBADUF,KAAAG,MAAqBC,KAAAA,MAAc,GAA1C,cACH,OA+CD,OA1CJX,EAAgBG,UAAUS,UAAa,WAG/B,IAAAC,EAAAjB,EAAAkB,cAIQ,6CACA,mCAFJ,sBAiBJC,+CACI,gDACA,SAHR,QAVQ,0BAqBDC,wFACHC,wCACWC,4DAFf,UAjCJ,YAkBY,UAuBZ,UACI,WAAAA,EAAAF,EAAAf,UAAAH,EAAAK,UAAAS,UAAAM,UA5EJH,OAAAnB,EAAAkB,cA2DY,gCACI,+CACIjB,EAAI,gCACR,SACJ,WACD,aAGP,OAAOmB,EAAEf,UAAYH,EAAOK,UAAUS,WAClCK,SAAWJ,EACXK,SAAWA,IAnCoB,IA2C/BlB,gBAAmBA","file":"../../../scripts/mvc/history/hda-li.js","sourcesContent":["define([\n    \"mvc/dataset/dataset-li\",\n    \"mvc/base-mvc\",\n    \"utils/localization\"\n], function( DATASET_LI, BASE_MVC, _l ){\n\n'use strict';\n\n//==============================================================================\nvar _super = DATASET_LI.DatasetListItemView;\n/** @class Read only view for HistoryDatasetAssociation.\n *      Since there are no controls on the HDAView to hide the dataset,\n *      the primary thing this class does (currently) is override templates\n *      to render the HID.\n */\nvar HDAListItemView = _super.extend(\n/** @lends HDAListItemView.prototype */{\n\n    className : _super.prototype.className + \" history-content\",\n\n    initialize : function( attributes, options ){\n        _super.prototype.initialize.call( this, attributes, options );\n    },\n\n    // ......................................................................... misc\n    /** String representation */\n    toString : function(){\n        var modelString = ( this.model )?( this.model + '' ):( '(no model)' );\n        return 'HDAListItemView(' + modelString + ')';\n    }\n});\n\n// ............................................................................ TEMPLATES\n/** underscore templates */\nHDAListItemView.prototype.templates = (function(){\n\n    var titleBarTemplate = BASE_MVC.wrapTemplate([\n        // adding the hid display to the title\n        '<div class=\"title-bar clear\" tabindex=\"0\">',\n            '<span class=\"state-icon\"></span>',\n            '<div class=\"title\">',\n                //TODO: remove whitespace and use margin-right\n                '<span class=\"hid\"><%- dataset.hid %></span> ',\n                '<span class=\"name\"><%- dataset.name %></span>',\n            '</div>',\n            '</br>',\n            '<span class=\"nametags\">',\n                '<% _.each(_.sortBy(_.uniq(dataset.tags), function(x) { return x }), function(tag){ %>',\n                    '<% if (tag.indexOf(\"name:\") == 0){ %>',\n                        '<span class=\"label label-info\"><%- tag.slice(5) %></span>',\n                    '<% } %>',\n                '<% }); %>',\n            '</span>',\n        '</div>'\n    ], 'dataset' );\n\n    var warnings = _.extend( {}, _super.prototype.templates.warnings, {\n        hidden : BASE_MVC.wrapTemplate([\n            // add a warning when hidden\n            '<% if( !dataset.visible ){ %>',\n                '<div class=\"hidden-msg warningmessagesmall\">',\n                    _l( 'This dataset has been hidden' ),\n                '</div>',\n            '<% } %>'\n        ], 'dataset' )\n    });\n\n    return _.extend( {}, _super.prototype.templates, {\n        titleBar : titleBarTemplate,\n        warnings : warnings\n    });\n}());\n\n\n\n//==============================================================================\n    return {\n        HDAListItemView  : HDAListItemView\n    };\n});\n"]}