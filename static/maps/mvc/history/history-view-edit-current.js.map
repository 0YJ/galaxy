{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","listenTo","collection","get","storage","removeItemView","_setUpModelListeners","change:nice_size change:size","arguments","change:id","once","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}