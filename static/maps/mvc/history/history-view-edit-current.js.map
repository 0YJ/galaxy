{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","debug","loadHistoryWithDetails","then","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","Galaxy","root","createNewHistory","user","isAnonymous","displayMessage","$","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","collection","get","storage","removeItemView","_setUpModelListeners","quotaMeter","listenTo","update","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}