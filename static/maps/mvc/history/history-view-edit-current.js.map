{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","listenTo","collection","get","storage","removeItemView","_setUpModelListeners","change:nice_size change:size","arguments","change:id","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}