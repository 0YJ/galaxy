{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpModelListeners","listenTo","change:nice_size change:size","arguments","change:id","once","_setUpCollectionListeners","collection","get","storage","removeItemView","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","galaxy_main:load","data","pathToMatch","fullpath","hdaId","useToURLRegexMap","display","edit","report_error","rerun","show_params","regex","result","match","center-panel:load","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}