{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","listenTo","collection","get","storage","removeItemView","_setUpModelListeners","arguments","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}