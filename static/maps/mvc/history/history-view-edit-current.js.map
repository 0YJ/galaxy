{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","debug","loadHistoryWithDetails","then","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","Galaxy","root","createNewHistory","user","isAnonymous","displayMessage","$","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","listenTo","collection","get","storage","removeItemView","_setUpModelListeners","arguments","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","$controls","find","css","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}