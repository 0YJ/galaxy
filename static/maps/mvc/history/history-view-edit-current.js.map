{"version":3,"file":"history-view-edit-current.js","sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpModelListeners","listenTo","change:nice_size change:size","arguments","change:id","once","_setUpCollectionListeners","collection","get","storage","includeHidden","removeItemView","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","emptyMsg","join","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","events","clone","click .uploader-link","ev","upload","show","click .get-data-link","$toolMenu","parent","click","listenToGalaxy","galaxy","galaxy_main:load","data","pathToMatch","fullpath","hdaId","useToURLRegexMap","display","edit","report_error","rerun","show_params","regex","result","match","center-panel:load","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","unhideHidden","self","confirm","contents","_filterAndUpdate","visible","deleted","purged","jQuery","deleteHidden","quotaMsgTemplate","wrapTemplate"],"mappings":"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"}