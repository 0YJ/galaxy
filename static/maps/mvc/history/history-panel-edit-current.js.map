{"version":3,"file":"history-panel-edit-current.js","sources":["../../../src/mvc/history/history-panel-edit-current.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","DC_PANEL","BASE_MVC","_l","HistoryPanelPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryPanelEdit","CurrentHistoryPanel","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","$scrollContainer","on","$el","is","set","$","scrollTop","loadCurrentHistory","debug","loadHistoryWithDetails","then","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","galaxy_config","root","createNewHistory","Galaxy","currUser","isAnonymous","displayMessage","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","collection","get","storage","removeItemView","_setUpModelListeners","quotaMeter","listenTo","update","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","$where","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","currentContentView","viewFromModelId","setCurrentContent","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","removeClass","addClass","push","add","$list","hide","parentName","append","pop","connectToQuotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}