{"version":3,"file":"history-panel-edit-current.js","sources":["../../../src/mvc/history/history-panel-edit-current.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","DC_PANEL","BASE_MVC","_l","HistoryPanelPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryPanelEdit","CurrentHistoryPanel","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","debug","loadHistoryWithDetails","then","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","galaxy_config","root","createNewHistory","Galaxy","currUser","isAnonymous","displayMessage","$","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","collection","get","storage","removeItemView","_setUpModelListeners","quotaMeter","listenTo","update","_setUpBehaviors","_debouncedScrollCaptureHandler","debounce","$el","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","$where","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}