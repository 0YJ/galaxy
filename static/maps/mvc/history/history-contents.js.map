{"version":3,"file":"history-contents.js","sources":["../../../src/mvc/history/history-contents.js"],"names":["define","HISTORY_CONTENT","HDA_MODEL","HDCA_MODEL","HISTORY_PREFS","BASE_MVC","_super","ControlledFetchCollection","HistoryContents","extend","LoggableMixin","_logNamespace","model","attrs","options","history_content_type","HistoryDatasetAssociation","collection_type","HistoryListDatasetCollection","HistoryPairDatasetCollection","HistoryListPairedDatasetCollection","validationError","initialize","models","this","historyId","prototype","idAttribute","urlRoot","Galaxy","root","url","order","comparator","a","b","createTimeA","get","createTimeB","console","log","running","filterFn","c","inReadyState","filter","getByHid","hid","_","first","content","hidden","deleted","visibleAndUndeleted","haveDetails","all","hasDetails","fetch","data","defaults","v","details","expandedIds","HistoryPrefs","values","join","call","fetchUpdated","since","filters","update_time-ge","toISOString","_buildFetchData","_fetchDefaults","includeDeleted","purged","includeHidden","visible","_fetchOptions","concat","fetchAllDetails","detailsFlag","ajaxQueue","ajaxFn","deferred","jQuery","Deferred","startingLength","length","responses","resolve","ajaxFns","chain","reverse","map","i","xhr","done","response","notify","curr","total","always","push","shift","value","isCopyable","contentsJSON","copyableModelClasses","isObject","id","contains","model_class","copy","json","type","contentType","isString","LibraryDatasetDatasetAssociation","HistoryDatasetCollectionAssociation","collection","post","source","add","fail","trigger","matches","matchesWhat","set","isArray","each","type_id","typeIdStr","Backbone","Collection","createHDCA","elementIdentifiers","collectionType","name","contents","typeToModel","list","paired","hdca","history_id","element_identifiers","save","status","message","clone","toString"],"mappings":"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"}