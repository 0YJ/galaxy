{"version":3,"file":"history-contents.js","sources":["../../../src/mvc/history/history-contents.js"],"names":["define","HISTORY_CONTENT","HDA_MODEL","HDCA_MODEL","BASE_MVC","HistoryContents","Backbone","Collection","extend","LoggableMixin","_logNamespace","model","attrs","options","history_content_type","HistoryDatasetAssociation","collection_type","HistoryListDatasetCollection","HistoryPairDatasetCollection","HistoryListPairedDatasetCollection","validationError","initialize","models","this","historyId","prototype","idAttribute","urlRoot","Galaxy","root","url","running","filterFn","c","inReadyState","filter","getByHid","hid","_","first","content","get","hidden","deleted","visibleAndUndeleted","haveDetails","all","hasDetails","fetch","data","defaults","v","call","fetchUpdated","since","traditional","name","value","concat","_filtersFromMap","update_time-ge","toISOString","merge","remove","filterMap","filters","each","val","key","push","fetchAllDetails","detailsFlag","details","ajaxQueue","ajaxFn","deferred","jQuery","Deferred","startingLength","length","responses","resolve","ajaxFns","chain","reverse","map","i","xhr","done","response","notify","curr","total","always","shift","isCopyable","contentsJSON","copyableModelClasses","isObject","id","contains","model_class","copy","json","type","contentType","isString","LibraryDatasetDatasetAssociation","HistoryDatasetCollectionAssociation","collection","post","source","add","fail","trigger","matches","matchesWhat","createHDCA","elementIdentifiers","collectionType","contents","typeToModel","list","paired","hdca","history_id","element_identifiers","save","status","message","clone","toString","join"],"mappings":"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"}