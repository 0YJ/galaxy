{"version":3,"file":"history-contents.js","sources":["../../../src/mvc/history/history-contents.js"],"names":["define","HISTORY_CONTENT","HDA_MODEL","HDCA_MODEL","BASE_MVC","HistoryContents","Backbone","Collection","extend","LoggableMixin","model","attrs","options","history_content_type","HistoryDatasetAssociation","collection_type","HistoryListDatasetCollection","HistoryPairDatasetCollection","HistoryListPairedDatasetCollection","TypeError","initialize","models","this","historyId","prototype","idAttribute","on","debug","arguments","urlRoot","galaxy_config","root","url","ids","map","item","get","notReady","filter","content","inReadyState","running","idList","each","isRunning","push","getByHid","hid","_","first","getVisible","show_deleted","show_hidden","filters","filteredHdas","isVisible","filter_fn","isFunction","haveDetails","all","hasDetails","fetchAllDetails","detailsFlag","details","data","fetch","ajaxQueue","ajaxFn","deferred","jQuery","Deferred","startingLength","length","responses","resolve","ajaxFns","chain","reverse","i","xhr","call","done","response","notify","curr","total","always","shift","value","isCopyable","contentsJSON","copyableModelClasses","isObject","id","contains","model_class","copy","json","type","contentType","isString","LibraryDatasetDatasetAssociation","HistoryDatasetCollectionAssociation","collection","post","source","add","fail","trigger","matches","matchesWhat","set","type_id","typeIdStr","promoteToHistoryDatasetCollection","history","full_collection_type","element_identifiers","name","hda","attributes","content_type","log","src","JSON","stringify","ajax","refresh","error","responseJSON","responseText","clone","print","contents","c","elements","toString","join"],"mappings":"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"}