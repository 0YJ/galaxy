{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","historyCopyDialog","ERROR_MODAL","baseMVC","ajaxQueue","logNamespace","HistoryInnerView","HistoryViewEdit","extend","HistoryViewColumn","Backbone","View","LoggableMixin","_logNamespace","tagName","className","id","this","model","get","initialize","options","purgeAllowed","_","isUndefined","panel","createPanel","setUpListeners","panelOptions","defaults","dragItems","$scrollContainer","$el","column","once","trigger","setUpPanelListeners","listenTo","rendered","view:expanded view:rendered","view","$","off","inView","viewLeft","viewRight","columnLeft","offset","left","columnRight","width","$panel","render","speed","undefined","modelData","toJSON","html","template","renderPanel","css","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","history","controlsRightTemplate","join","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","done","click .undelete-history","undelete","click .purge-history","confirm","_l","purge","click .copy-history","copy","variable","toString","MultiPanelColumns","log","addClass","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","perPage","hdaQueue","NamedAjaxQueue","collection","columnMap","columnOptions","historySearch","datasetSearch","setCollection","histories","multipanel","on","fetchMore","stopListening","HistoryCollection","setUpCollectionListeners","createColumns","clear","addModels","models","isArray","forEach","addColumn","error","errorHandler","add","all-fetched","_postFetchAll","new-current","addAsCurrentColumn","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","sort","renderColumns","remove","scrollLeft","oldCurrentColumn","findWhere","height","newCurrentColumn","currentHistoryId","_recalcFirstColumnHeight","includeDeleted","removeColumn","xhr","status","readyState","isString","message","title","errorModal","badGatewayErrorModal","ajaxErrorModal","_ajaxErrorHandler","apply","toArray","arguments","create","current","each","createColumn","Galaxy","config","allow_user_dataset_purge","setUpColumnListeners","searchItems","queueHdaFetchDetails","newColumn","queueHdaFetch","widthToRemove","fadeOut","checkColumnsInView","in-view","view:draggable:dragstart","ev","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","filter","json","contents","isCopyable","queue","reverse","content","name","fn","start","fetch","columnMapLength","Object","keys","length","sortedFilteredColumns","filters","sortedColumns","filtered","every","map","call","sorted","fxSpeed","mainTemplate","isNumber","self","sortedAndFiltered","$middle","empty","_addColumns","allFetched","append","loadingIndicatorTemplate","columns","numExisting","children","_calcMiddleWidth","delegateEvents","appendTo","numColumns","preventStackWidthAdj","contentsShown","fetchOptions","silent","ids","values","storage","allExpanded","details","fetchCurrentPage","renderItems","running","needsContentsLoaded","haveDetails","progressivelyFetchDetails","_renderEmptyMessage","renderInfo","msg","text","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","window","location","root","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","is","toggleOptionsPopover","show","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","orderDescriptions","setOrder","currentHistoryModel","slice","fetchFirst","unshift","_scrollLeft","val","_moreOptionsPopover","searchInput","placeholder","onfirstsearch","fetchAll","onsearch","searchFor","matchesAll","onclear","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","viewport","_viewport","checkForEndOfScroll","parent","scroll","popover","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","find","$outerMiddle","right","columnsInView","vp","END_PADDING","scrollRight","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","update_time","update_time-asc","name-dsc","size","size-asc"],"mappings":"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"}