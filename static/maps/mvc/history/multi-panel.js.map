{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","historyCopyDialog","baseMVC","ajaxQueue","logNamespace","HistoryInnerView","HistoryViewEdit","extend","_scrollDistanceToBottom","SLOP","innerViewHeight","this","$el","children","toArray","map","e","$","outerHeight","reduce","a","c","scrollBottom","scrollTop","innerHeight","distanceToBottom","HistoryViewColumn","Backbone","View","LoggableMixin","_logNamespace","tagName","className","id","model","get","initialize","options","purgeAllowed","_","isUndefined","panel","createPanel","setUpListeners","panelOptions","defaults","dragItems","$scrollContainer","column","once","trigger","setUpPanelListeners","listenTo","rendered","inView","viewLeft","viewRight","columnLeft","offset","left","columnRight","width","$panel","render","speed","undefined","modelData","toJSON","html","template","renderPanel","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","history","view","controlsRightTemplate","join","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","fail","xhr","status","error","alert","_l","done","click .undelete-history","undelete","click .purge-history","confirm","purge","click .copy-history","copy","variable","toString","MultiPanelColumns","log","addClass","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","perPage","hdaQueue","NamedAjaxQueue","collection","columnMap","columnOptions","historySearch","datasetSearch","setCollection","histories","multipanel","on","fetchMore","stopListening","HistoryCollection","setUpCollectionListeners","createColumns","clear","addModels","models","isArray","forEach","addColumn","_ajaxErrorHandler","add","all-fetched","_postFetchAll","new-current","addAsCurrentColumn","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","sort","renderColumns","console","remove","scrollLeft","oldCurrentColumn","findWhere","height","newCurrentColumn","currentHistoryId","_recalcFirstColumnHeight","includeDeleted","removeColumn","errArgs","arguments","window","Galaxy","handleErrors","apply","responseText","create","current","each","createColumn","config","allow_user_dataset_purge","setUpColumnListeners","searchItems","queueHdaFetchDetails","newColumn","queueHdaFetch","widthToRemove","fadeOut","checkColumnsInView","in-view","view:draggable:dragstart","ev","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","filter","json","contents","isCopyable","queue","reverse","content","name","fn","start","fetch","columnMapLength","Object","keys","length","sortedFilteredColumns","filters","sortedColumns","filtered","every","call","sorted","fxSpeed","mainTemplate","isNumber","sortedAndFiltered","$middle","empty","_calcMiddleWidth","appendTo","delegateEvents","allFetched","append","loadingIndicatorTemplate","numColumns","preventStackWidthAdj","shown","ids","values","storage","fetchOptions","details","fetchFirst","running","haveDetails","progressivelyFetchDetails","_renderEmptyMessage","renderInfo","msg","text","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","location","root","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","is","toggleOptionsPopover","show","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","orderDescriptions","setOrder","currentHistoryModel","slice","unshift","silent","_scrollLeft","val","_moreOptionsPopover","searchInput","placeholder","onfirstsearch","fetchAll","onsearch","searchFor","matchesAll","onclear","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","viewport","_viewport","checkForEndOfScroll","parent","scroll","popover","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","find","$outerMiddle","right","columnsInView","vp","END_PADDING","scrollRight","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","columns","update_time","update_time-asc","name-dsc","size","size-asc"],"mappings":"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"}