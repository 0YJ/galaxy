{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","baseMVC","ajaxQueue","historyCopyDialog","history","options","validateName","name","Galaxy","modal","$","size","$invalidTitle","attr","css","color","margin-top","addClass","text","_l","append","copyHistory","$copyIndicator","copy","fail","alert","always","hide","checkNameAndCopy","val","historyName","get","defaultCopyName","show","_","extend","title","body","join","buttons","Cancel","Copy","focus","select","on","ev","keyCode","HistoryPanelColumn","Backbone","View","LoggableMixin","tagName","className","id","this","model","initialize","purgeAllowed","isUndefined","panel","createPanel","setUpListeners","panelOptions","dragItems","HistoryPanelEdit","_renderEmptyMessage","__patch_renderEmptyMessage","$whereTo","hdaCount","chain","values","flatten","value","length","$emptyMsg","$emptyMessage","isEmpty","hdaViews","contents","empty","searchFor","noneFoundMsg","emptyMsg","column","once","trigger","setUpPanelListeners","listenTo","rendered","inView","viewLeft","viewRight","columnLeft","$el","offset","left","columnRight","width","$panel","render","speed","undefined","modelData","toJSON","html","template","renderPanel","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","view","controlsRightTemplate","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","xhr","status","error","done","click .undelete-history","undelete","click .purge-history","confirm","purge","click .copy-history","variable","toString","MultiPanelColumns","log","currentHistoryId","Error","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","order","_initSortOrders","hdaQueue","NamedAjaxQueue","collection","columnMap","columnOptions","setCollection","histories","_comparator","getter","a","b","asc","sortOrders","update","fn","h","Date","name-dsc","size-dsc","stopListening","HistoryCollection","setUpCollectionListeners","sortCollection","silent","createColumns","addModels","models","multipanel","isArray","forEach","addColumn","add","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","new-current","addAsCurrentColumn","sort","renderColumns","oldCurrentColumn","height","newCurrentColumn","_recalcFirstColumnHeight","includeDeleted","removeColumn","sortOrder","comparator","is","popover","create","current","each","createColumn","config","allow_user_dataset_purge","setUpColumnListeners","newColumn","queueHdaFetch","widthToRemove","fadeOut","remove","checkColumnsInView","in-view","view:draggable:dragstart","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","filter","json","isCopyable","queue","content","start","fetch","columnMapLength","Object","keys","sortedFilteredColumns","filters","sortedColumns","filtered","every","map","call","sorted","fxSpeed","mainTemplate","sortedAndFiltered","$middle","appendTo","delegateEvents","renderColumn","xhrData","ids","storage","dataset_details","renderItems","running","queueHdaFetchDetails","haveDetails","details","renderInfo","msg","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","destination","root","galaxy_config","window","location","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","_moreOptionsPopover","searchInput","placeholder","onsearch","matchesAll","onclear","onfirstsearch","clear","searchItems","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","viewport","_viewport","checkForEndOfScroll","parent","scroll","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","find","$outerMiddle","right","columnsInView","vp","END_PADDING","scrollRight","scrollLeft","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","columns"],"mappings":"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"}