{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","baseMVC","ajaxQueue","historyCopyDialog","history","options","validateName","name","Galaxy","modal","$","size","$invalidTitle","attr","css","color","margin-top","addClass","text","_l","append","copyHistory","$copyIndicator","copy","fail","alert","always","hide","checkNameAndCopy","val","historyName","_","escape","get","defaultCopyName","show","extend","title","body","join","buttons","Cancel","Copy","focus","select","on","ev","keyCode","HistoryPanelColumn","Backbone","View","LoggableMixin","tagName","className","id","this","model","initialize","purgeAllowed","isUndefined","panel","createPanel","setUpListeners","panelOptions","dragItems","HistoryPanelEdit","_renderEmptyMessage","__patch_renderEmptyMessage","$whereTo","hdaCount","chain","values","flatten","value","length","$emptyMsg","$emptyMessage","isEmpty","hdaViews","contents","empty","searchFor","noneFoundMsg","emptyMsg","column","once","trigger","setUpPanelListeners","listenTo","rendered","inView","viewLeft","viewRight","columnLeft","$el","offset","left","columnRight","width","$panel","render","speed","undefined","modelData","toJSON","html","template","renderPanel","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","view","controlsRightTemplate","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","xhr","status","error","done","click .undelete-history","undelete","click .purge-history","confirm","purge","click .copy-history","variable","toString","MultiPanelColumns","log","currentHistoryId","Error","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","order","_initSortOrders","hdaQueue","NamedAjaxQueue","collection","setCollection","histories","columnMap","createColumns","columnOptions","_comparator","getter","a","b","asc","sortOrders","update","fn","h","Date","name-dsc","size-dsc","models","multipanel","stopListening","sortCollection","silent","setUpCollectionListeners","add","addAsCurrentColumn","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","sort","renderColumns","oldCurrentColumn","height","newCurrentColumn","_recalcFirstColumnHeight","includeDeleted","removeColumn","sortOrder","comparator","is","popover","create","current","each","createColumn","config","allow_user_dataset_purge","setUpColumnListeners","sortedFilteredColumns","filters","sortedColumns","filter","filtered","every","map","call","sorted","addColumn","newColumn","queueHdaFetch","widthToRemove","fadeOut","remove","checkColumnsInView","in-view","view:draggable:dragstart","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","json","isCopyable","queue","forEach","content","start","fetch","columnMapLength","Object","keys","fxSpeed","mainTemplate","sortedAndFiltered","$middle","appendTo","delegateEvents","renderColumn","xhrData","ids","storage","dataset_details","renderItems","running","queueHdaFetchDetails","haveDetails","details","renderInfo","msg","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","destination","root","galaxy_config","window","location","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","_moreOptionsPopover","searchInput","placeholder","onsearch","matchesAll","onclear","onfirstsearch","clear","searchItems","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","parent","scroll","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","find","_viewport","right","columnsInView","vp","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","columns"],"mappings":"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"}