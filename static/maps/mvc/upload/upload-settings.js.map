{"version":3,"sources":["mvc/upload/upload-settings.js"],"names":["_utils","require","Backbone","View","extend","options","class_check","class_uncheck","parameters","id","title","model","$","addClass","this","$el","append","self","setElement","render","$cover","trigger","$table","empty","parameter","$checkbox","get","on","set"],"mappings":"4IACA,IAAAA,OAAAC,QAAA,sEACeC,SAASC,KAAKC,QACzBC,SACIC,YAAa,oBACbC,cAAe,cAJvBC,aAOgBC,GAAI,eACJC,MAAO,2BAGPD,GAVDP,iBACFQ,MAAA,wBAMGA,WAAAA,SAAOL,GAGPI,KAAAA,MAAIJ,EAAAM,MACJD,KAAAA,WAAOE,EAAA,UAAAC,SAAA,oBAFXC,KALQC,IAAAC,OAAAJ,EAAA,UAAAC,SAAA,0BAJgBC,KAAAC,IAAAC,OAsBxBJ,EAAE,YANEC,SAAA,0CACJI,OAAJ,aAEAH,KAAKI,OAAAA,KAAaN,EAAA,0BAClBE,KAAKC,OAAIC,KAASJ,EAAA,kCAClBE,KAAKC,SAAIC,KACHL,MAAA,SACGE,KAASM,OAAAL,MAGlBA,KAAKM,MAALC,QAAmBT,WAGnBO,OAAA,WA7B4B,IAAAF,EAAAH,KAkC5BA,KAAKQ,OAAOC,QAFhBJ,EAAAA,KAAQL,KAAAT,QAAAG,WAAW,SAAAgB,GACXP,IAAAA,EAAJL,EAAA,UACKU,SAAL,UAAAE,EAAAf,GAAA,0BACOI,SACCY,EAAAA,MAAcC,IAAAF,EACbX,KAOQF,EAAMe,QAAIpB,aARvBW,EAAAZ,QAAAE,eADJoB,GAAA,QAAA,WAqBaV,EAAKN,MAAMe,IAAI,YAC/BT,EAAAN,MAAAiB,IA3DLJ,EAAAf,IAiD6BQ,EAAKN,MAAMe,IAAIF,EAAUf,OAG1CQ,EAAKK,OAAON,OACRJ,EAAE,SACGI,OAAOJ,EAAE,SAASI,OAAOS,IACzBT,OAAOJ,EAAE,SAASI,OAAOQ,EAAUd,WAGhDI,KAAKM,OAAQN,KAAKH,MAAMe,IAAI,YAAc,QAAW","file":"../../../scripts/mvc/upload/upload-settings.js","sourcesContent":["/** This renders the content of the settings popup, allowing users to specify flags i.e. for space-to-tab conversion **/\nimport Utils from \"utils/utils\";\nexport default Backbone.View.extend({\n    options: {\n        class_check: \"fa-check-square-o\",\n        class_uncheck: \"fa-square-o\",\n        parameters: [\n            {\n                id: \"space_to_tab\",\n                title: \"Convert spaces to tabs\"\n            },\n            {\n                id: \"to_posix_lines\",\n                title: \"Use POSIX standard\"\n            }\n        ]\n    },\n\n    initialize: function(options) {\n        var self = this;\n        this.model = options.model;\n        this.setElement($(\"<div/>\").addClass(\"upload-settings\"));\n        this.$el.append($(\"<div/>\").addClass(\"upload-settings-cover\"));\n        this.$el.append(\n            $(\"<table/>\")\n                .addClass(\"upload-settings-table ui-table-striped\")\n                .append(\"<tbody/>\")\n        );\n        this.$cover = this.$(\".upload-settings-cover\");\n        this.$table = this.$(\".upload-settings-table > tbody\");\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.model.trigger(\"change\");\n    },\n\n    render: function() {\n        var self = this;\n        this.$table.empty();\n        _.each(this.options.parameters, function(parameter) {\n            var $checkbox = $(\"<div/>\")\n                .addClass(\"upload-\" + parameter.id + \" upload-icon-button fa\")\n                .addClass(\n                    (self.model.get(parameter.id) &&\n                        self.options.class_check) ||\n                        self.options.class_uncheck\n                )\n                .on(\"click\", function() {\n                    self.model.get(\"enabled\") &&\n                        self.model.set(\n                            parameter.id,\n                            !self.model.get(parameter.id)\n                        );\n                });\n            self.$table.append(\n                $(\"<tr/>\")\n                    .append($(\"<td/>\").append($checkbox))\n                    .append($(\"<td/>\").append(parameter.title))\n            );\n        });\n        this.$cover[(this.model.get(\"enabled\") && \"hide\") || \"show\"]();\n    }\n});\n"]}