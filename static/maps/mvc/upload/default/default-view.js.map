{"version":3,"file":"default-view.js","sources":["../../../../src/mvc/upload/default/default-view.js"],"names":["define","Utils","UploadModel","UploadRow","UploadFtp","UploadExtension","Popover","Select","Ui","LazyLoader","Backbone","View","extend","initialize","options","self","this","$container","collection","new_content","max","on","_scroll","container_scroll","container_height","content_height","content_list","scrollTop","refresh","_size","_","size","reset","each","content","model_id","remove","$el","height","done","append","$","addClass","limit","i","models","model","id","upload_size","Collection","counter","announce","success","error","running","app","list_extensions","list_genomes","ui_button","ftp_upload_site","currentFtp","setElement","_template","$uploadbox","$uploadtable","btnLocal","Button","title","onclick","uploadbox","select","icon","btnFtp","_eventFtp","btnCreate","_eventCreate","btnStart","_eventStart","btnStop","_eventStop","btnReset","_eventReset","btnClose","modal","hide","button","prepend","url","nginx_upload_path","index","file","_eventAnnounce","toData","get","history_id","progress","percentage","_eventProgress","message","_eventSuccess","_eventError","complete","_eventComplete","ondragover","ondragleave","removeClass","ftp","container","select_extension","css","data","filter","ext","composite_files","value","default_extension","onchange","extension","updateExtension","e","target","text","list","placement","preventDefault","select_genome","default_genome","genome","updateGenome","loader","$content","upload_row","find","render","_eventRemove","_updateScreen","new_model","Model","file_name","name","file_size","file_mode","mode","file_path","path","file_data","add","it","set","_uploadPercentage","status","upload_completed","Galaxy","currHistoryPanel","refreshContents","info","visible","empty","onadd","ftp_file","onremove","model_index","show","currentHistory","start","html","stop","defaults_only","compatible","enable_reset","enable_start","enable_sources","show_table"],"mappings":"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"}