{"version":3,"file":"repository-view.js","sources":["../../../src/mvc/toolshed/repository-view.js"],"names":["define","toolshed_model","jstree","Utils","Modal","FormView","ToolShedRepositoryView","Backbone","View","extend","el","initialize","params","this","options","_","defaults","model","RepositoryCollection","listenTo","render","shed","tool_shed","replace","url","repository_id","tool_shed_url","category","fetch","repo_details_template","templateRepoDetails","models","repository","get","changesets","Object","keys","metadata","current_changeset","length","current_metadata","tools","repository_dependencies_template","templateRepoDependencies","repository_dependency_template","templateRepoDependency","tps_template_global_select","templateGlobalSectionSelect","tps_template_tool_select","templateToolSectionSelect","tps_select_options","templatePanelSelectOptions","tool_dependencies","shed_tool_conf","templateShedToolConf","stc_html","panel_section_dict","api_url","Galaxy","root","$el","html","checkInstalled","bindEvents","$","css","that","on","find","text","reDraw","tpsSelection","ev","preventDefault","repositories","JSON","stringify","attr","val","tool_shed_repository_ids","install_tool_dependencies","install_repository_dependencies","install_resolver_dependencies","panelSelect","tool_panel_section","changeset","prepareInstall","each","key","repository_metadata","select_tps","substr","queue_key","changeset_revision","queued_repos","localStorage","parse","hasOwnProperty","check_queue","new_value","default_tps","removeAttr","guid","name","desc","tsr_id","data","cls","toolform","deepeach","inputs","input","type","indexOf","info","textify","extensions","modal","modal_title","show","closing_events","title","body","buttons","Close","hide","owner","already_installed","repoQueued","index","installed","deleted","uninstalled","changeset_match","installed_changeset_revision","prop","tool_panel_section_id","new_tool_panel_section","element_name","tool_guid","action","empty","queueKey","shed_url","new_tps","post","iri_parameters","doInstall","controller_url","console","log","window","location","assign","template","join","templateToolDependency","templateGlobalSectionCreate","templateToolSectionCreate","RepoDetails"],"mappings":"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wGACA,0FACJ,YACJ,YACA,wMACA,6IACA,kIACJ,SACJ,SACA,wBACA,4DACI,gIACA,6BACI,oDACI,yEACA,uFACJ,OACA,0FACA,oEACI,2BACI,wEACI,qGACJ,OACJ,SACA,4DACJ,SACJ,SACJ,UACA,2DACI,qDACA,6BACI,kDACI,uEACA,mFACJ,OACA,8CACI,mEACA,2EACJ,OACA,8DACI,2BACI,kEACI,6FACJ,OACJ,SACA,8HACI,UACI,sGACI,4CACA,mBACA,gBACJ,QACJ,WACA,yBACI,4EACI,0EACI,mCACA,8BACA,qCACA,kCACJ,QACJ,YACJ,WACJ,WACJ,SACJ,SACJ,UACA,yEACI,6IACA,6BACI,yDACI,kHACI,UACI,sGACI,4CACA,uBACA,mBACA,gHACR,WACA,6BACQ,wDACI,0GACI,mCACI,wFACI,gPACJ,SACJ,QACA,mCACA,kDACA,0DACI,iHACJ,QACJ,QACJ,YACR,WACJ,WACJ,SACJ,SACJ,UACJ,UACJ,UACFC,KAAK,KAEPhH,yBAA0B5B,EAAE2I,UACxB,2DACA,uFACI,wGACA,oCACI,2CACI,+DACI,oFACA,oDACJ,YACJ,UACJ,QACJ,UAAUC,KAAK,KAEnB9G,uBAAwB9B,EAAE2I,UACtB,wGACI,6HACJ,QACA,2CACI,kCACI,+DACI,oFACA,oDACJ,YACJ,QACJ,WACFC,KAAK,KAEPrG,qBAAsBvC,EAAE2I,UACpB,iEACA,6BACI,yBACI,kBACA,kJACJ,SACJ,UACFC,KAAK,KAEPC,uBAAwB7I,EAAE2I,UACtB,2CACI,+DACI,qDACI,uEACA,8CACJ,UACJ,YACJ,WACFC,KAAK,KAEPE,4BAA6B9I,EAAE2I,UAC3B,gCACI,sCACI,yGACA,+FACA,mDACI,0EACJ,SACJ,SACJ,UACFC,KAAK,KAEP5G,4BAA6BhC,EAAE2I,UAC3B,gCACI,sDACA,6BACI,yCACI,iDACI,sDACJ,YACA,qFACA,mDACI,mFACJ,SACJ,SACJ,SACJ,UACFC,KAAK,KAEPG,0BAA2B/I,EAAE2I,UACzB,uFACI,+KACA,uLACJ,UACFC,KAAK,KAEP1G,0BAA2BlC,EAAE2I,UACzB,6FACI,kMACI,sDACJ,YACA,8NACA,yDACJ,UACFC,KAAK,KAEPxG,2BAA4BpC,EAAE2I,UAC1B,6CACI,iEACJ,aACFC,KAAK,MAGX,QACII,YAAazJ"}