{"version":3,"sources":["mvc/toolshed/shed-list-view.js"],"names":["define","toolshed_model","toolshed_util","ShedListView","Backbone","View","extend","tool_sheds","url","name","initialize","options","_","defaults","this","self","ShedsCollection","render","model","fetch","el","toolshed_list_template","templateToolshedList","title","models","queue","queueLength","reDraw","$el","empty","template","join"],"mappings":"aAAAA,QAAQ,8BAA+B,qBAAsB,SAASC,EAAgBC,GAsDlF,OACIC,aAvDAC,SAAAC,KAAAC,QAEAD,UAGIE,aAAcC,IAAO,kCAAmCC,KAAQ,2BAD1DC,WAFkB,SAAAC,GAM5BD,KAAAA,QAAYE,EAAAC,SAAAC,KAASH,YAASG,KAAAD,UAC1BC,KAAIC,MAAO,IAAXd,EAAAe,gBACAF,KAAKH,SAALG,KAAiBD,MAAS,OAAKF,KAALM,QAC1BH,KAAKI,MAALC,SAGHC,GAZ2B,UAc5BA,OAAI,SAdwBT,GAiBxBG,KAAKH,QAAUC,EAAEC,SAASC,KAAKH,YAAeA,EAASG,KAAKD,UADhEI,IAAQI,EAAkBP,KAAAQ,qBACtBR,KAAKH,IAAAA,KAALU,GAA0BE,MAAX,+BAAfhB,WAAAO,KAAAI,MAAAM,OAAAC,MAAAvB,EAAAwB,kBAGHC,OApB2B,SAAAhB,GAuBxBG,KAAKc,IAAIC,QADbF,KAAQV,OAAAN,IAGPW,qBAzB2BV,EAAAkB,UA4BxB,yEADJR,6DAGQ,wJA9BZ,SAgCQ,uDAoBD,yBACHnB,uBADJ,4CAtDJ,4BAuCgC,OACI,wEACI,8GACJ,SACJ,QACJ,QACJ,YACJ,WACJ,SACA,kCACJ,UACF4B,KAAK","file":"../../../scripts/mvc/toolshed/shed-list-view.js","sourcesContent":["define(['mvc/toolshed/toolshed-model', 'mvc/toolshed/util'], function(toolshed_model, toolshed_util) {\n\n    var View = Backbone.View.extend({\n\n        defaults: {\n            tool_sheds: [{\"url\": \"https://toolshed.g2.bx.psu.edu/\", \"name\": \"Galaxy Main Tool Shed\"}]\n        },\n\n        initialize: function(options) {\n            var self = this;\n            this.options = _.defaults(this.options || {}, this.defaults);\n            this.model = new toolshed_model.ShedsCollection();\n            this.listenTo(this.model, 'sync', this.render);\n            this.model.fetch();\n        },\n\n        el: '#center',\n\n        render: function(options) {\n            this.options = _.defaults(this.options || {}, options, this.defaults);\n            var toolshed_list_template = this.templateToolshedList;\n            this.$el.html(toolshed_list_template({title: 'Configured Galaxy Tool Sheds', tool_sheds: this.model.models, queue: toolshed_util.queueLength()}));\n        },\n\n        reDraw: function(options){\n            this.$el.empty();\n            this.render(options);\n        },\n\n        templateToolshedList: _.template([\n            '<div class=\"unified-panel-header\" id=\"panel_header\" unselectable=\"on\">',\n                '<div class=\"unified-panel-header-inner\"><%= title %></div>',\n                '<div class=\"unified-panel-header-inner\" style=\"position: absolute; right: 5px; top: 0px;\"><a href=\"#/queue\">Repository Queue (<%= queue %>)</a></div>',\n            '</div>',\n            '<div class=\"unified-panel-body\" id=\"list_toolsheds\">',\n                '<div class=\"form-row\">',\n                    '<table class=\"grid\">',\n                        '<% _.each(tool_sheds, function(shed) { %>',\n                            '<tr class=\"libraryTitle\">',\n                                '<td>',\n                                    '<div style=\"float: left; margin-left: 1px;\" class=\"menubutton split\">',\n                                        '<a class=\"view-info shed-selector\" href=\"#/categories/s/<%= shed.get(\"url\") %>\"><%= shed.get(\"name\") %></a>',\n                                    '</div>',\n                                '</td>',\n                            '</tr>',\n                        '<% }); %>',\n                    '</table>',\n                '</div>',\n                '<div style=\"clear: both\"></div>',\n            '</div>',\n        ].join(''))\n\n    });\n\n    return {\n        ShedListView: View,\n    };\n\n});"]}