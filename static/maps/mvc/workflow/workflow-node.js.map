{"version":3,"file":"workflow-node.js","sources":["../../../src/mvc/workflow/workflow-node.js"],"names":["define","NodeView","Node","Backbone","Model","extend","initialize","app","attr","this","element","input_terminals","output_terminals","tool_errors","workflow_outputs","getWorkflowOutput","outputName","_","findWhere","output_name","isWorkflowOutput","undefined","removeWorkflowOutput","splice","addWorkflowOutput","push","connectedOutputTerminals","_connectedTerminals","terminals","connectedTerminals","$","each","t","connectors","length","hasConnectedOutputTerminals","outputTerminals","connectedMappedInputTerminals","_connectedMappedTerminals","hasConnectedMappedInputTerminals","inputTerminals","inputName","inputTerminal","isMappedOver","mapped_outputs","mapOver","isCollection","mappedInputTerminals","_mappedTerminals","mappedTerminals","hasMappedOverInputTerminals","found","redraw","destroy","k","workflow","remove_node","remove","make_active","addClass","make_inactive","get","p","removeChild","appendChild","parentNode","removeClass","init_field_data","data","type","name","form_html","tool_state","tooltip","annotation","post_job_actions","label","uuid","node","nodeView","el","data_inputs","i","input","addDataInput","data_outputs","addRule","output","addDataOutput","render","node_changed","update_field_data","pja_in","parseJSON","renderToolErrors","old_body","new_body","newInputsDiv","newTerminalViews","terminalView","difference","values","terminalViews","unusedView","terminal","updateDataOutput","replaceWith","markChanged","error","text","b","find","tmp","html"],"mappings":"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"}