{"version":3,"file":"workflow-view.js","sources":["../../../src/mvc/workflow/workflow-view.js"],"names":["define","Utils","Globals","Workflow","WorkflowCanvas","Node","ToolForm","Form","Ui","async_save_text","reset_tool_search","initValue","tool_menu_frame","$","contents","length","document","this","removeClass","find","hide","show","each","attr","hasClass","search_input","val","NODE_ICONS","tool","data_input","data_collection_input","subworkflow","pause","add_node_icon","$to_el","nodeType","iconStyle","$icon","addClass","before","Backbone","View","extend","initialize","options","workflow_save_as","body","window","show_modal","OK","rename_name","self","workflow","name","rename_annotation","ajax","url","urls","type","data","workflow_name","workflow_annotation","workflow_data","JSON","stringify","to_simple","done","id","onbeforeunload","undefined","location","hide_modal","fail","alert","Cancel","layout_editor","layout","fit_canvas_to_nodes","scroll_to_nodes","canvas_manager","draw_overview","show_overview","jStorage","set","css","hide_overview","app","active_ajax_call","close_editor","check_changes_in_active_form","has_changes","do_close","workflow_index","Save Changes","save_current_workflow","Don't Save","eventObj","success_callback","show_message","rectify_workflow_outputs","savefn","callback","save_workflow","_","dataType","success","text","message","errors","errlist","i","v","appendTo","append","stored","showWorkflowParameters","Ok","bind","unbind","click","focus","select","keyup","value","lastValue","q","timer","clearTimeout","setTimeout","get","tool_search","s","map","n","index","parent","this_label","next","no_visible_tools","is","reset","datatypes","parse","Galaxy","root","async","responseText","datatypes_mapping","ext_to_type","ext_to_class_name","type_to_type","class_to_classes","_workflowLoadAjax","from_simple","upgrade_message","steps","step","step_id","details","upgrade_messages","m","parseInt","nodes","Continue","beforeSubmit","ajaxStart","ajaxError","e","x","statusText","Ignore error","make_popupmenu","Save","Save As","Run","run_workflow","Edit Attributes","clear_active_node","Auto Re-layout","Close","overview_size","width","height","d","op","offsetParent","opo","offset","new_size","Math","max","offsetX","left","offsetY","top","workflows","_buildToolPanelWorkflows","wrap","last_expanded","slideUp","slideDown","rename_async","annotate_async","$section","copy","ButtonIcon","icon","cls","tooltip","onclick","step_count","copy_into_workflow","modal","title","buttons","Copy","$add","html","on","add_node_for_subworkflow","latest_id","$el","workflowId","k","vv","remove_all","cv","cc","merge","load_workflow","cache","_moduleInitAjax","node","request_data","request","console","log","init_field_data","update_field_data","activate_node","add_node_for_tool","create_node","tool_id","content_id","add_node_for_module","display_pja","pja","get_pja_form","action_to_rem","closest","children","remove","active_node","post_job_actions","active_form_has_changes","display_pja_list","pja_list","display_file_list","addlist","out_terminal","output_terminals","new_pja","action_type","target","output_name","parameter_re","workflow_parameters","wf_parm_container","wf_parm_box","new_parameter_content","matches","config_form","inputs","deepeach","form_matches","match","concat","action_arguments","action_argument","arg_matches","element","inArray","push","substring","showAttributes","showForm","content","$container","form","unshift","label","help","annotation","area","onchange","create","message_status","scrollTop","isSubType","child","prebuildNode","title_text","$f","$title","scrollLeft","tmp","destroy","o","position","p","prependTo","node_changed","po","y","terminal","redraw"],"mappings":"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"}