{"version":3,"file":"workflow-view.js","sources":["../../../src/mvc/workflow/workflow-view.js"],"names":["define","Utils","Globals","Workflow","WorkflowCanvas","Node","ToolForm","Form","Ui","async_save_text","reset_tool_search","initValue","tool_menu_frame","$","contents","length","document","this","removeClass","find","hide","show","each","attr","hasClass","search_input","val","NODE_ICONS","tool","data_input","data_collection_input","subworkflow","pause","add_node_icon","$to_el","nodeType","iconStyle","$icon","addClass","before","Backbone","View","extend","initialize","options","workflow_save_as","body","window","show_modal","OK","rename_name","self","workflow","name","rename_annotation","ajax","url","urls","type","data","workflow_name","workflow_annotation","workflow_data","JSON","stringify","to_simple","done","id","onbeforeunload","undefined","location","hide_modal","fail","alert","Cancel","layout_editor","layout","fit_canvas_to_nodes","scroll_to_nodes","canvas_manager","draw_overview","edit_workflow_attributes","clear_active_node","show_overview","jStorage","set","css","hide_overview","app","active_ajax_call","close_editor","check_changes_in_active_form","has_changes","do_close","workflow_index","Save Changes","save_current_workflow","Don't Save","eventObj","success_callback","show_message","rectify_workflow_outputs","savefn","callback","save_workflow","_","dataType","success","text","message","errors","errlist","i","v","appendTo","append","stored","showWorkflowParameters","Ok","bind","unbind","click","focus","select","keyup","value","lastValue","q","timer","clearTimeout","setTimeout","get","tool_search","s","map","n","index","parent","this_label","next","no_visible_tools","is","reset","datatypes","parse","Galaxy","root","async","responseText","datatypes_mapping","ext_to_type","ext_to_class_name","type_to_type","class_to_classes","_workflowLoadAjax","from_simple","upgrade_message","steps","step","step_id","details","upgrade_messages","m","parseInt","nodes","Continue","beforeSubmit","ajaxStart","ajaxError","e","x","statusText","Ignore error","make_popupmenu","Save","Save As","Run","run_workflow","Edit Attributes","Auto Re-layout","Close","overview_size","width","height","d","op","offsetParent","opo","offset","new_size","Math","max","offsetX","left","offsetY","top","workflows","_buildToolPanelWorkflows","wrap","last_expanded","slideUp","slideDown","rename_async","annotate_async","$section","copy","ButtonIcon","icon","cls","tooltip","onclick","step_count","copy_into_workflow","modal","title","buttons","Copy","$add","html","on","add_node_for_subworkflow","latest_id","$el","workflowId","k","vv","remove_all","cv","cc","merge","load_workflow","cache","_moduleInitAjax","node","request_data","get_new_module_info","global","init_field_data","error","status","add_node_for_tool","create_node","content_id","add_node_for_module","display_pja","pja","get_pja_form","action_to_rem","closest","children","remove","active_node","post_job_actions","active_form_has_changes","display_pja_list","pja_list","display_file_list","addlist","out_terminal","output_terminals","new_pja","action_type","target","output_name","showToolForm","content","$container","$current","form","inputs","workflowView","push","label","help","annotation","area","onchange","request","create","update_field_data","scrollTop","isSubType","child","prebuildNode","title_text","$f","$title","scrollLeft","element","tmp","config_form","destroy","o","position","p","prependTo","activate_node","node_changed","po","y","terminal","redraw"],"mappings":"AAAAA,OAAO,oCACPA,QACI,cACA,gCACA,gCACA,+BACA,6BACA,8BACA,qBACA,iBACA,wBACA,cACA,oBACD,SAAUC,EAAOC,EAASC,EAAUC,EAAgBC,EAAMC,EAAUC,EAAMC,EAAIC,GAG7E,QAASC,GAAmBC,GAGxB,GAAIC,GAAkBC,EAAE,iBAAiBC,UAyBzC,IAxB+B,IAA3BF,EAAgBG,SAChBH,EAAkBC,EAAEG,WAIxBH,EAAEI,MAAMC,YAAY,iBACpBN,EAAgBO,KAAK,cAAcD,YAAY,gBAG/CN,EAAgBO,KAAK,oBAAoBC,OACzCR,EAAgBO,KAAK,cAAcE,OACnCT,EAAgBO,KAAK,mBAAmBE,OACxCT,EAAgBO,KAAK,uBAAuBG,KAAM,WACnB,0BAAvBT,EAAEI,MAAMM,KAAK,MAEbV,EAAEI,MAAMI,OACDR,EAAEI,MAAMO,SAAS,sBACxBX,EAAEI,MAAMI,SAGhBT,EAAgBO,KAAK,sBAAsBC,OAG3CR,EAAgBO,KAAK,mBAAmBC,OACpCT,EAAW,CACX,GAAIc,GAAeb,EAAgBO,KAAK,qBACxCM,GAAaC,IAAI,iBAqBzB,MAjBAC,aACIC,KAAQ,YACRC,WAAc,YACdC,sBAAyB,cACzBC,YAAe,2BACfC,MAAS,YAGbC,cAAgB,SAASC,EAAQC,GAC7B,GAAIC,GAAYT,WAAWQ,EAC3B,IAAGC,EAAW,CACV,GAAIC,GAAQxB,EAAE,iCAAiCyB,SAASF,EACxDF,GAAOK,OAAOF,KAKfG,SAASC,KAAKC,QACjBC,WAAY,SAASC,GAqPjB,QAASC,KACL,GAAIC,GAAOjC,EAAE,qSAETkC,QAAOC,WAAW,yBAA0BF,GACxCG,GAAM,WACF,GAAIC,GAAcrC,EAAE,oBAAoBa,MAAMX,OAAS,EAAIF,EAAE,oBAAoBa,MAAQ,WAAayB,EAAKC,SAASC,KAChHC,EAAoBzC,EAAE,kBAAkBa,MAAMX,OAAS,EAAIF,EAAE,kBAAkBa,MAAQ,EAC3Fb,GAAE0C,MACEC,IAAKL,EAAKM,KAAKZ,iBACfa,KAAM,OACNC,MACIC,cAAeV,EACfW,oBAAqBP,EACrBQ,cAAe,WAAa,MAAOC,MAAKC,UAAWb,EAAKC,SAASa,iBAEtEC,KAAK,SAASC,GACbpB,OAAOqB,eAAiBC,OACxBtB,OAAOuB,SAAW,uBAAyBH,EAC3CI,eACDC,KAAK,WACJD,aACAE,MAAM,6EAGdC,OAAUH,aAwCtB,QAASI,KACLxB,EAAKC,SAASwB,SACdzB,EAAKC,SAASyB,sBACd1B,EAAK2B,kBACL3B,EAAK4B,eAAeC,gBAGxB,QAASC,KACL9B,EAAKC,SAAS8B,oBACdrE,EAAE,kBAAkBO,OACpBP,EAAE,oBAAoBQ,OA4B1B,QAAS8D,KACLtE,EAAEuE,SAASC,IAAI,gBAAgB,GAC/BxE,EAAE,oBAAoByE,IAAI,QAAS,OACnCzE,EAAE,mBAAmByE,IAAI,sBAAuB,WAGpD,QAASC,KACL1E,EAAEuE,SAASC,IAAI,gBAAgB,GAC/BxE,EAAE,oBAAoByE,IAAI,QAAS,WACnCzE,EAAE,mBAAmByE,IAAI,sBAAuB,YAnWpD,GAAInC,GAAOjD,EAAQsF,IAAMvE,IACzBA,MAAK2B,QAAUA,EACf3B,KAAKwC,KAAOb,GAAWA,EAAQa,SAC/BxC,KAAKwE,kBAAmB,CACxB,IAAIC,GAAe,WACfvC,EAAKC,SAASuC,+BACTvC,UAAYD,EAAKC,SAASwC,aAC3BC,SAAW,WACP9C,OAAOqB,eAAiBC,OACxBtB,OAAO/B,SAASsD,SAAWnB,EAAKM,KAAKqC,gBAEzC/C,OAAOC,WAAY,wBACP,kEAEI0B,OAAWH,WACXwB,eAAiB,WACbC,EAAuB,KAAMH,aAGjCI,aAAcJ,YAG9B9C,OAAO/B,SAASsD,SAAWnB,EAAKM,KAAKqC,gBAGzCE,EAAwB,SAAWE,EAAUC,GAG7C,GAFAC,aAAc,kBAAmB,YACjCjD,EAAKC,SAASuC,gCACTxC,EAAKC,SAASwC,YAKf,MAJArB,mBACK4B,GACDA,IAIRhD,GAAKC,SAASiD,0BACd,IAAIC,GAAS,SAASC,GAClB1F,EAAE0C,MACEC,IAAKL,EAAKM,KAAK+C,cACf9C,KAAM,OACNC,MACIQ,GAAIhB,EAAKP,QAAQuB,GACjBL,cAAe,WAAa,MAAOC,MAAKC,UAAWb,EAAKC,SAASa,cACjEwC,EAAK,QAETC,SAAU,OACVC,QAAS,SAAUhD,GACf,GAAIb,GAAOjC,EAAE,eAAe+F,KAAMjD,EAAKkD,QACvC,IAAKlD,EAAKmD,OAAS,CACfhE,EAAKR,SAAU,cACf,IAAIyE,GAAUlG,EAAG,QACjBA,GAAES,KAAMqC,EAAKmD,OAAQ,SAAUE,EAAGC,GAC9BpG,EAAE,aAAa+F,KAAMK,GAAIC,SAAUH,KAEvCjE,EAAKqE,OAAQJ,OAEbjE,GAAKR,SAAU,WAEnBa,GAAKC,SAASC,KAAOM,EAAKN,KAC1BF,EAAKC,SAASwC,aAAc,EAC5BzC,EAAKC,SAASgE,QAAS,EACvBjE,EAAKkE,yBACA1D,EAAKmD,OACN/D,OAAOC,WAAY,kBAAmBF,GAAQwE,GAAO/C,cAEjDgC,GACAA,IAEJhC,iBAQZpB,GAAKsC,iBACL5E,EAAEG,UAAUuG,KAAK,yBAA0B,WACvC1G,EAAEG,UAAUwG,OAAO,0BACnBlB,IACAzF,EAAEG,UAAUwG,OAAO,0BACnBrE,EAAKsC,kBAAmB,IAG5Ba,EAAOH,GAKftF,GAAE,sBAAsB4G,MAAO,WAC3B5G,EAAEI,MAAMyG,QACR7G,EAAEI,MAAM0G,WAEXC,MAAO,WAIJ,GAFA/G,EAAEI,MAAMqE,IAAI,aAAc,UAErBrE,KAAK4G,MAAM9G,OAAS,EACrBL,GAAkB,OACf,IAAKO,KAAK4G,OAAS5G,KAAK6G,UAAY,CAEvCjH,EAAEI,MAAMqB,SAAS,gBAGjB,IAAIyF,GAAI9G,KAAK4G,KAET5G,MAAK+G,OACLC,aAAahH,KAAK+G,OAGtBnH,EAAE,mBAAmBQ,OACrBJ,KAAK+G,MAAQE,WAAW,WACpBrH,EAAEsH,IAAIhF,EAAKM,KAAK2E,aAAeL,EAAGA,GAAK,SAAUpE,GAQ7C,GALA9C,EAAE,sBAAsBO,OAExBP,EAAE,uBAAuBO,OAEzBP,EAAE,uBAAuBM,KAAK,cAAcC,OACxB,GAAfuC,EAAK5C,OAAc,CAEpB,GAAIsH,GAAIxH,EAAEyH,IAAK3E,EAAM,SAAU4E,GAAS,MAAO,QAAUA,GAEzD1H,GAAEwH,GAAG/G,KAAM,SAASkH,EAAMrE,GAEtBtD,EAAE,QAAQsD,EAAG,MAAMsE,SAASnG,SAAS,gBACrCzB,EAAE,QAAQsD,EAAG,MAAMsE,SAASpH,OAAOoH,SAASA,SAASpH,OAAOoH,SAASpH,SAGzER,EAAE,mBAAmBS,KAAM,WAKxB,IAJA,GAAIoH,GAAa7H,EAAEI,MACf0H,EAAOD,EAAWC,OAClBC,GAAmB,EAEA,IAAhBD,EAAK5H,QAAgB4H,EAAKnH,SAAS,cAAc,CACpD,GAAImH,EAAKE,GAAG,YAAa,CACrBD,GAAmB,CACnB,OAEAD,EAAOA,EAAKA,OAGfC,GACAF,EAAWtH,aAInBP,GAAE,sBAAsBQ,MAE5BR,GAAE,mBAAmBO,QACtB,SACJ,KAEPH,KAAK6G,UAAY7G,KAAK4G,QAI1B5G,KAAK8D,eAAiB7E,EAAQ6E,eAAiB,GAAI3E,GAAgBa,KAAMJ,EAAE,oBAAqBA,EAAE,cAGlGI,KAAK6H,QAGL7H,KAAK8H,UAAYhF,KAAKiF,MAAMnI,EAAE0C,MAC1BC,IAAUyF,OAAOC,KAAO,gBACxBC,OAAU,IACXC,cAGHnI,KAAKoI,kBAAoBtF,KAAKiF,MAAMnI,EAAE0C,MAClCC,IAAUyF,OAAOC,KAAO,wBACxBC,OAAU,IACXC,cAGHnI,KAAKqI,YAAcrI,KAAKoI,kBAAkBE,kBAC1CtI,KAAKuI,aAAevI,KAAKoI,kBAAkBI,iBAG3CxI,KAAKyI,kBAAkBvG,EAAKP,QAAQuB,IAChCwC,QAAS,SAAUhD,GACdR,EAAK2F,QACL3F,EAAKC,SAASuG,YAAahG,GAAM,GACjCR,EAAKC,SAASwC,aAAc,EAC5BzC,EAAKC,SAASyB,sBACd1B,EAAK2B,kBACL3B,EAAK4B,eAAeC,gBAEpB4E,gBAAkB,GAClBnD,EAAEnF,KAAMqC,EAAKkG,MAAO,SAAUC,EAAMC,GACjC,GAAIC,GAAU,EACTF,GAAKhD,SACNkD,GAAW,OAASF,EAAKhD,OAAS,SAEtCL,EAAEnF,KAAMqC,EAAKsG,iBAAkBF,GAAW,SAAUG,GAChDF,GAAW,OAASE,EAAI,UAEvBF,IACDJ,iBAAmB,aAAgBO,SAAUJ,EAAS,IAAO,GAAM,KAAO5G,EAAKC,SAASgH,MAAOL,GAAU1G,KAAO,OAAS2G,EAAU,gBAGrIJ,gBACF7G,OAAOC,WAAY,+BAAgC,+FAAiG4G,gBAAkB,aAAeS,SAAa9F,aAElMA,aAEHpB,EAAKkE,0BAETiD,aAAc,WACVlE,aAAc,mBAAoB,eAK3CvF,EAAEG,UAAUuJ,UAAW,WACnBpH,EAAKsC,kBAAmB,EACxB5E,EAAEG,UAAUuG,KAAM,kBAAmB,WACjCpE,EAAKsC,kBAAmB,MAIhC5E,EAAEG,UAAUwJ,UAAW,SAAWC,EAAGC,GAEjC,GAAI7D,GAAU6D,EAAEtB,cAAgBsB,EAAEC,YAAc,6BAEhD,OADA5H,QAAOC,WAAY,eAAgB6D,GAAW+D,eAAiBrG,cACxD,IAGXxB,OAAO8H,gBAAkBA,eAAgBhK,EAAE,6BACvCiK,KAAS9E,EACT+E,UAAWlI,EACXmI,IAAO,WACHjI,OAAOuB,SAAWnB,EAAKM,KAAKwH,cAGhCC,kBAAoBjG,EAEpBkG,iBAAkBxG,EAElByG,MAAS1F,IAkFb2F,cAAgBxK,EAAEuE,SAAS+C,IAAI,iBACT9D,SAAlBgH,eACAxK,EAAE,oBAAoByE,KAClBgG,MAAOD,cACPE,OAAQF,gBAKZxK,EAAEuE,SAAS+C,IAAI,gBACf5C,IAEAJ,IAIJtE,EAAE,oBAAoB0G,KAAM,UAAW,SAAUkD,EAAGe,GAChD,GAAIC,GAAK5K,EAAEI,MAAMyK,eACbC,EAAMF,EAAGG,SACTC,EAAWC,KAAKC,IAAKN,EAAGH,SAAYE,EAAEQ,QAAUL,EAAIM,MAC/BR,EAAGF,UAAaC,EAAEU,QAAUP,EAAIQ,KACzDtL,GAAEuE,SAASC,IAAI,gBAAiBwG,EAAW,QAgB/ChL,EAAE,mBAAmB4G,MAAO,WACoB,QAAvC5G,EAAE,oBAAoByE,IAAI,SAC3BC,IAEAJ,MAKRpC,OAAOqB,eAAiB,WACpB,MAAKhB,WAAYD,EAAKC,SAASwC,YACpB,iEADX,QAKJ3E,KAAK2B,QAAQwJ,UAAUrL,OAAS,GAAKF,EAAG,SAAUM,KAAM,aAAcgG,OAAQlG,KAAKoL,4BAGnFxL,EAAG,uBAAwBO,OAC3BP,EAAG,+BAAgCyL,KAAM,mBACzC,IAAIC,GAAgB,IACpB1L,GAAG,wBAAyBS,KAAM,WAC/B,GAAIwB,GAAOjC,EAAEI,MAAM0H,KAAM,sBACzB9H,GAAEI,MAAMwG,MAAO,WACN3E,EAAK+F,GAAI,YACL0D,GAAgBA,EAAcC,QAAS,QAC5CD,EAAgBzJ,EAChBA,EAAK2J,UAAW,UAGhB3J,EAAK0J,QAAS,QACdD,EAAgB,UAM3B9L,EAAgB,gBAAiB,gBAAiB0C,EAAKM,KAAKiJ,aAAc,YAG1E7L,EAAE,iBAAiB4G,MAAO,WAEtB,MADA5G,GAAE,aAAa4G,SACR,IAGXhH,EAAgB,sBAAuB,sBAAuB0C,EAAKM,KAAKkJ,eAAgB,iBAAkB,IAAI,EAAM,IAGxHN,yBAA0B,WACtB,GAAIlJ,GAAOlC,KACP2L,EAAW/L,EAAK,kLAoCpB,OA5BA4F,GAAEnF,KAAML,KAAK2B,QAAQwJ,UAAW,SAAUhJ,GACtC,GAAIA,EAASe,KAAOhB,EAAKP,QAAQuB,GAAK,CAClC,GAAI0I,GAAO,GAAIrM,GAAGsM,YACdC,KAAc,aACdC,IAAc,uBACdC,QAAc,mCACdC,QAAc,WACN9J,EAAS+J,WAAa,EACtBhK,EAAKiK,mBAAoBhK,EAASe,GAAIf,EAASC,MAG/C4F,OAAOoE,MAAMhM,MACTiM,MAAU,UACVxK,KAAU,kBAAoBM,EAAS+J,WAAa,iCACpDI,SACI7I,OAAW,WAAauE,OAAOoE,MAAMjM,QACrCoM,KAAW,WAAavE,OAAOoE,MAAMjM,OAAQ+B,EAAKiK,mBAAoBhK,EAASe,GAAIf,EAASC,aAM5GoK,EAAO5M,EAAG,QAASU,KAAM,OAAQ,KAAMmM,KAAMtK,EAASC,MAAOsK,GAAI,QAAS,WAC1ExK,EAAKyK,yBAA0BxK,EAASyK,UAAWzK,EAASC,OAEhEuJ,GAASzL,KAAM,kBAAmBgG,OAAQtG,EAAG,UAAWyB,SAAU,aAAc6E,OAAQsG,GAAOtG,OAAQ0F,EAAKiB,SAG7GlB,GAGXQ,mBAAoB,SAASW,GAEzB,GAAI5K,GAAOlC,IACXA,MAAKyI,kBAAkBqE,GACnBpH,QAAS,SAAUhD,GACfR,EAAKC,SAASuG,YAAahG,GAAM,GAEjCiG,gBAAkB,GAClB/I,EAAES,KAAMqC,EAAKsG,iBAAkB,SAAU+D,EAAG/G,GACzC2C,iBAAqB,aAAgBO,SAAS6D,EAAG,IAAM,GAAM,KAAO7K,EAAKC,SAASgH,MAAM4D,GAAG3K,KAAO,OAClGxC,EAAES,KAAM2F,EAAG,SAAUD,EAAGiH,GACpBrE,iBAAmB,OAASqE,EAAI,UAEpCrE,iBAAmB,eAEjBA,gBACF7G,OAAOC,WAAY,oCACP,kJAAoJ4G,gBAAkB,SACpKS,SAAa9F,aAE3BA,cAGP+F,aAAc,WACXlE,aAAc,qBAAsB,gBAM/C0C,MAAO,WACH7H,KAAKmC,UAAYnC,KAAKmC,SAAS8K,aAC/BjN,KAAKmC,SAAWlD,EAAQkD,SAAW,GAAIjD,GAAUc,KAAMJ,EAAE,uBAG7DiE,gBAAiB,WACb,GAEIqH,GAAKF,EAFLkC,EAAKtN,EAAE,oBACPuN,EAAKvN,EAAE,oBAGPoL,GADCmC,EAAG9C,QAAU6C,EAAG7C,SACR6C,EAAG7C,QAAU8C,EAAG9C,SAAY,EAE9B,EAGPa,EADCiC,EAAG7C,SAAW4C,EAAG5C,UACV4C,EAAG5C,SAAW6C,EAAG7C,UAAa,EAEhC,EAEV6C,EAAG9I,KAAO2G,KAAMA,EAAME,IAAKA,KAG/BzC,kBAAmB,SAASqE,EAAYnL,GACpC/B,EAAE0C,KAAKtD,EAAMoO,MAAMzL,GACfY,IAAKvC,KAAKwC,KAAK6K,cACf3K,MAAQQ,GAAI4J,EAAYtH,EAAK,QAC7BC,SAAU,OACV6H,OAAO,MAIfC,gBAAiB,SAASC,EAAMC,GAC5B7N,EAAE0C,MACEC,IAAKvC,KAAKwC,KAAKkL,oBACfhL,KAAM+K,EACNE,QAAQ,EACRlI,SAAU,OACVC,QAAS,SAAUhD,GACf8K,EAAKI,gBAAiBlL,IAE1BmL,MAAO,SAAUpE,GACb,GAAIR,GAAI,0BACU,KAAbQ,EAAEqE,SACH7E,GAAK,wBAETuE,EAAKK,MAAO5E,OAMxB8E,kBAAmB,SAAW7K,EAAImJ,GAC9BmB,KAAOxN,KAAKmC,SAAS6L,YAAa,OAAQ3B,EAAOnJ,GACjDlD,KAAKuN,gBAAgBC,MAAQ/K,KAAM,OAAQwL,WAAY/K,EAAIsC,EAAK,UAIpEmH,yBAA0B,SAAWzJ,EAAImJ,GACrCmB,KAAOxN,KAAKmC,SAAS6L,YAAa,cAAe3B,EAAOnJ,GACxDlD,KAAKuN,gBAAgBC,MAAQ/K,KAAM,cAAewL,WAAY/K,EAAIsC,EAAK,UAG3E0I,oBAAqB,SAAWzL,EAAM4J,GAClCmB,KAAOxN,KAAKmC,SAAS6L,YAAavL,EAAM4J,GACxCrM,KAAKuN,gBAAgBC,MAAQ/K,KAAMA,EAAM+C,EAAK,UAIlD2I,YAAa,SAAUC,EAAKZ,GAExB,GAAItL,GAAOlC,IACXJ,GAAE,kBAAkBsG,OAAQmI,aAAaD,EAAKZ,IAC9C5N,EAAE,yDAAyD4G,MAAM,WAC7D8H,cAAgB1O,EAAEI,MAAMuO,QAAQ,YAAa,eAAeC,SAAS,qBAAqB7I,OAC1F/F,EAAEI,MAAMuO,QAAQ,aAAaE,eACtBvM,GAAKC,SAASuM,YAAYC,iBAAiBL,eAClDpM,EAAKC,SAASyM,yBAA0B,KAIhDC,iBAAkB,WACd,MAAOC,WAGXC,kBAAmB,SAAUvB,GACzBwB,QAAU,oDACV,KAAK,GAAIC,KAAgBzB,GAAK0B,iBAC1BF,SAAW,kBAAoBC,EAAe,KAAMA,EAAc,WAGtE,OADAD,UAAW,YACJA,SAGXG,QAAS,SAAUC,EAAaC,EAAQ7B,GAKpC,GAJ8BpK,SAA1BoK,EAAKmB,mBAELnB,EAAKmB,qBAEyCvL,SAA9CoK,EAAKmB,iBAAiBS,EAAYC,GAAuB,CACzD,GAAIF,KAOJ,OANAA,GAAQC,YAAcA,EACtBD,EAAQG,YAAcD,EACtB7B,EAAKmB,iBAAiBS,EAAYC,GAAU,KAC5C7B,EAAKmB,iBAAiBS,EAAYC,GAAWF,EAC7ChB,YAAYgB,EAAS3B,GACrBxN,KAAKmC,SAASyM,yBAA0B,GACjC,EAEP,OAAO,GAIfxI,uBAAwB,aA4CxBmJ,aAAc,SAAWC,EAAShC,GAE9B,GAAIzB,GAAM,gBACN7I,EAAM6I,EAAM,IAAMyB,EAAKtK,GAGvBuM,EAAa7P,EAAE,IAAMmM,GAGrB2D,EAAWD,EAAWvP,KAAK,IAAMgD,EAKrC,IAJIwM,EAAS5P,OAAS,GAA6C,GAAxC4P,EAASxP,KAAK,gBAAgBJ,QACrD4P,EAASjB,SAG2B,GAApCgB,EAAWvP,KAAK,IAAMgD,GAAIpD,OAAa,CACvC,GAAI+M,GAAMjN,EAAE,YAAcsD,EAAK,YAAc6I,EAAM,OAC/C4D,EAAO,IACX,IAAiB,QAAbnC,EAAK/K,KAAgB,CACrB,GAAId,GAAU6N,CACd7N,GAAQ6L,KAAOA,EACf7L,EAAQQ,SAAWnC,KAAKmC,SACxBR,EAAQmG,UAAY9H,KAAK8H,UACzB6H,EAAO,GAAItQ,GAASmC,KAAKG,OACtB,IAAK6N,GAAWA,EAAQI,OAAS,CACpC,GAAIjO,IACA8K,KAAM+C,EACNhC,KAAMA,EACNqC,aAAc7P,KAElBwP,GAAQzD,IAAM,oBACdyD,EAAQI,OAAOE,MACXrN,KAAU,OACVL,KAAU,QACV2N,MAAU,QACVnJ,MAAU4G,EAAKuC,MACfC,KAAU,sBAEdR,EAAQI,OAAOE,MACXrN,KAAU,OACVL,KAAU,aACV2N,MAAU,aACVnJ,MAAU4G,EAAKyC,WACfC,MAAU,EACVF,KAAU,kGAEdR,EAAQW,SAAW,WACfnR,EAAMoR,SACF3N,KAAU,OACVF,IAAWyF,OAAOC,KAAO,6BACzBvF,MACIQ,GAAUsK,EAAKtK,GACfT,KAAU+K,EAAK/K,KACfmN,OAAUD,EAAKjN,KAAK2N,UAExB3K,QAAU,SAAUhD,GAChB8K,EAAK8C,kBAAmB5N,OAIpCiN,EAAO,GAAIrQ,GAAMkQ,GAEhBG,IACD9C,EAAI3G,OAAOyJ,EAAK9C,KAChB4C,EAAWvJ,OAAO2G,IAK1BjN,EAAE,IAAMmM,GAAK5L,OAGbsP,EAAWvP,KAAK,IAAMgD,GAAI9C,OAC1BqP,EAAWrP,OACXqP,EAAWc,aAGfC,UAAW,SAAWC,EAAOjJ,GAGzB,MAFAiJ,GAAQzQ,KAAKqI,YAAYoI,GACzBjJ,EAASxH,KAAKqI,YAAYb,GACjBxH,KAAKuI,aAAakI,IAAcjJ,IAAUxH,MAAKuI,aAAakI,IAGzEC,aAAc,SAAWjO,EAAMkO,EAAY1C,GACvC,GAAI/L,GAAOlC,KACP4Q,EAAKhR,EAAE,iDACPiR,EAASjR,EAAE,mEAAqE+Q,EAAa,eACjG3P,eAAc6P,EAAO3Q,KAAK,cAAeuC,GACzCmO,EAAG1K,OAAQ2K,GACXD,EAAGvM,IAAK,OAAQzE,EAAEkC,QAAQgP,aAAe,IACzCF,EAAGvM,IAAK,MAAOzE,EAAEkC,QAAQyO,YAAc,IACvCK,EAAG1K,OAAOtG,EAAE,oCACZ,IAAI4N,GAAO,GAAIpO,GAAMY,MAAQ+Q,QAASH,GACtCpD,GAAK/K,KAAOA,EACZ+K,EAAKS,WAAaA,CAClB,IAAI+C,GAAM,6CAA+ChJ,OAAOC,KAAO,wEACvE2I,GAAG1Q,KAAK,iBAAiBgG,OAAO8K,GAChCxD,EAAKyD,YAAcD,CAGnB,IAAI1E,GAAU1M,EAAE,oDAChB0M,GAAQpG,OAAQtG,EAAE,UAAUyB,SAAS,8BAA8BmF,MAAO,WACtEgH,EAAK0D,aAGTN,EAAG3K,SAAU,oBAEb,IAAIkL,GAAIvR,EAAE,qBAAqBwR,WAC3BC,EAAIzR,EAAE,qBAAqB4H,SAC3B6C,EAAQuG,EAAGvG,QACXC,EAASsG,EAAGtG,QAwBhB,OAvBAsG,GAAGvM,KAAO2G,MAAUmG,EAAEnG,KAAWqG,EAAEhH,QAAU,EAAQA,EAAQ,EAAKa,KAASiG,EAAEjG,IAAUmG,EAAE/G,SAAW,EAAQA,EAAS,IACrHgC,EAAQgF,UAAWV,EAAG1Q,KAAK,mBAC3BmK,GAAWiC,EAAQjC,QAAU,GAC7BuG,EAAGvM,IAAK,QAASgG,GACjBuG,EAAGtK,KAAM,YAAa,WAClBpE,EAAKC,SAASoP,cAAe/D,KAC9BlH,KAAM,UAAW,WAChBpE,EAAKC,SAASqP,aAAcxR,MAC5BkC,EAAKC,SAASyB,sBACd1B,EAAK4B,eAAeC,kBACrBuC,KAAM,gBAAiB,WACtBpE,EAAKC,SAASoP,cAAe/D,KAC9BlH,KAAM,OAAQ,SAAUkD,EAAGe,GAE1B,GAAIkH,GAAK7R,EAAEI,MAAMyK,eAAeE,SAC5BlB,EAAIc,EAAEQ,QAAU0G,EAAGzG,KACnB0G,EAAInH,EAAEU,QAAUwG,EAAGvG,GACvBtL,GAAEI,MAAMqE,KAAO2G,KAAMvB,EAAGyB,IAAKwG,IAE7B9R,EAAEI,MAAME,KAAM,aAAcG,KAAM,WAC9BL,KAAK2R,SAASC,aAGfpE"}