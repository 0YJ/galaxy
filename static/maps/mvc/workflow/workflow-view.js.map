<<<<<<< HEAD
{"version":3,"file":"workflow-view.js","sources":["../../../src/mvc/workflow/workflow-view.js"],"names":["define","Utils","Globals","Workflow","WorkflowCanvas","Node","ToolForm","async_save_text","reset_tool_search","initValue","tool_menu_frame","$","contents","length","document","this","removeClass","find","hide","show","each","attr","hasClass","search_input","val","EditorFormView","Backbone","View","extend","initialize","options","merge","$el","workflowView","node","html","setElement","id","after","_genericStepAttributesTemplate","ajaxForm","type","dataType","success","data","workflow","active_form_has_changes","update_field_data","showWorkflowParameters","beforeSubmit","push","name","value","tool_state","form","change","submit","bind","_annotationTemplate","annotation","layout_editor","self","layout","fit_canvas_to_nodes","scroll_to_nodes","canvas_manager","draw_overview","edit_workflow_attributes","clear_active_node","show_overview","jStorage","set","css","hide_overview","app","urls","active_ajax_call","close_editor","check_changes_in_active_form","has_changes","do_close","window","onbeforeunload","undefined","location","workflow_index","show_modal","Cancel","hide_modal","Save Changes","save_current_workflow","Don't Save","eventObj","success_callback","show_message","rectify_workflow_outputs","savefn","callback","ajax","url","save_workflow","workflow_data","JSON","stringify","to_simple","_","body","text","message","errors","addClass","errlist","i","v","appendTo","append","stored","Ok","unbind","click","focus","select","keyup","lastValue","q","timer","clearTimeout","setTimeout","get","tool_search","s","map","n","index","parent","this_label","next","no_visible_tools","is","reset","datatypes","parse","Galaxy","root","async","responseText","datatypes_mapping","ext_to_type","ext_to_class_name","type_to_type","class_to_classes","load_workflow","cache","from_simple","upgrade_message","upgrade_messages","k","parseInt","nodes","vv","Continue","ajaxStart","ajaxError","e","x","statusText","Ignore error","make_popupmenu","Save","Run","run_workflow","Edit Attributes","Auto Re-layout","Close","overview_size","width","height","d","op","offsetParent","opo","offset","new_size","Math","max","offsetX","left","offsetY","top","wrap","last_expanded","slideUp","slideDown","rename_async","annotate_async","remove_all","cv","cc","add_node_for_tool","title","create_node","get_new_module_info","tool_id","global","init_field_data","error","m","status","add_node_for_module","display_pja","pja","get_pja_form","action_to_rem","closest","children","remove","active_node","post_job_actions","display_pja_list","pja_list","display_file_list","addlist","out_terminal","output_terminals","new_pja","action_type","target","output_name","parameter_re","workflow_parameters","wf_parm_container","wf_parm_box","new_parameter_content","matches","form_matches","form_html","match","concat","action_arguments","action_argument","arg_matches","element","inArray","substring","showToolForm","cls","$container","$current","formView","isJSON","scrollTop","isSubType","child","prebuildNode","title_text","f","scrollLeft","b","tmp","buttons","destroy","o","position","p","prependTo","activate_node","node_changed","po","y","terminal","redraw"],"mappings":"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"}
=======
{"version":3,"file":"workflow-view.js","sources":["../../../src/mvc/workflow/workflow-view.js"],"names":["define","Utils","Globals","Workflow","WorkflowCanvas","Node","ToolsForm","async_save_text","Toastr","reset_tool_search","initValue","tool_menu_frame","$","contents","length","document","this","removeClass","find","hide","show","each","attr","hasClass","search_input","val","NODE_ICONS","tool","data_input","data_collection_input","pause","add_node_icon","$to_el","nodeType","iconStyle","$icon","addClass","before","EditorFormView","Backbone","View","extend","initialize","options","merge","$el","workflowView","node","html","setElement","id","after","_genericStepAttributesTemplate","type","$titleText","data","text","make_text_editable","on_finish","newLabel","lastValue","workflow","attemptUpdateNodeLabel","submit","name","warning","ajaxForm","dataType","success","active_form_has_changes","update_field_data","showWorkflowParameters","beforeSubmit","push","value","tool_state","form","change","bind","_annotationTemplate","annotation","layout_editor","self","layout","fit_canvas_to_nodes","scroll_to_nodes","canvas_manager","draw_overview","edit_workflow_attributes","clear_active_node","show_overview","jStorage","set","css","hide_overview","app","urls","active_ajax_call","close_editor","check_changes_in_active_form","has_changes","do_close","window","onbeforeunload","undefined","location","workflow_index","show_modal","Cancel","hide_modal","Save Changes","save_current_workflow","Don't Save","eventObj","success_callback","show_message","rectify_workflow_outputs","savefn","callback","ajax","url","save_workflow","workflow_data","JSON","stringify","to_simple","_","body","message","errors","errlist","i","v","appendTo","append","stored","Ok","unbind","click","focus","select","keyup","q","timer","clearTimeout","setTimeout","get","tool_search","s","map","n","index","parent","this_label","next","no_visible_tools","is","reset","datatypes","parse","Galaxy","root","async","responseText","datatypes_mapping","ext_to_type","ext_to_class_name","type_to_type","class_to_classes","load_workflow","cache","from_simple","upgrade_message","upgrade_messages","k","parseInt","nodes","vv","Continue","ajaxStart","ajaxError","e","x","statusText","Ignore error","make_popupmenu","Save","Run","run_workflow","Edit Attributes","Auto Re-layout","Close","overview_size","width","height","d","op","offsetParent","opo","offset","new_size","Math","max","offsetX","left","offsetY","top","wrap","last_expanded","slideUp","slideDown","rename_async","annotate_async","remove_all","cv","cc","_moduleInitAjax","request_data","get_new_module_info","global","init_field_data","error","m","status","add_node_for_tool","title","create_node","content_id","add_node_for_subworkflow","subworkflow_id","add_node_for_module","display_pja","pja","get_pja_form","action_to_rem","closest","children","remove","active_node","post_job_actions","display_pja_list","pja_list","display_file_list","addlist","out_terminal","output_terminals","new_pja","action_type","target","output_name","parameter_re","workflow_parameters","wf_parm_container","wf_parm_box","new_parameter_content","matches","form_matches","form_html","match","concat","action_arguments","action_argument","arg_matches","element","inArray","substring","showToolForm","cls","$container","$current","formView","isJSON","scrollTop","isSubType","child","$newNodeElement","title_text","$f","$title","scrollLeft","$b","prebuildNode","tmp","buttons","destroy","o","position","p","prependTo","activate_node","node_changed","po","y","terminal","redraw"],"mappings":"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"}
>>>>>>> dd429b640ffeb656a1fd61b49e88db890e7743cf
