{"version":3,"file":"workflow.js","sources":["../../../src/mvc/workflow/workflow.js"],"names":["define","mod_toastr","TAGS","WORKFLOWS","WorkflowItemView","Backbone","View","extend","tagName","initialize","_","bindAll","this","options","timeOut","events","click #show-in-tool-panel","click #delete-workflow","click #rename-workflow","click #copy-workflow","render","$","el","html","_rowTemplate","showInToolPanel","model","set","get","save","window","location","Galaxy","root","removeWorkflow","wfName","confirm","destroy","success","remove","renameWorkflow","oldName","newName","prompt","name","copyWorkflow","self","getJSON","urlRoot","id","wfJson","currentOwner","user","attributes","username","collection","create","at","wait","error","resp","errorThrown","jqXHR","responseJSON","err_msg","show","wfId","checkboxHtml","trHtml","escape","_templateActions","renderTagEditor","TagEditor","TagsEditor","find","workflow_mode","toggle","workflow","owner","slug","WorkflowListView","setElement","WorkflowCollection","fetch","done","bind","appendItem","on","dragleave","drop","dragover","ev","addClass","preventDefault","unhighlightDropZone","removeClass","e","f","files","dataTransfer","i","readWorkflowFiles","reader","FileReader","onload","wf_json","JSON","parse","result","readAsText","header","_templateHeader","templateActions","_templateActionButtons","tableTemplate","_templateWorkflowTable","$el","models","each","item","confirmDelete","minQueryLength","searchWorkflow","adjustActiondropdown","workflowItemView","append","$el_shared_wf_link","click","$el_searchinput","$el_tabletr","min_querylen","query","val","length","regular_expression","RegExp","hide","filter","test","text","css","_templateNoWorkflow","tableHtml","ImportWorkflowView","empty","_mainTemplate","url","myexperiment_target_url"],"mappings":"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"}