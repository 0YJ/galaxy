{"version":3,"file":"library-library-view.js","sources":["../../../src/mvc/library/library-library-view.js"],"names":["define","mod_toastr","mod_library_model","mod_select","LibraryView","Backbone","View","extend","el","model","options","events","click .toolbtn_save_permissions","initialize","this","_","id","fetchLibrary","Library","that","fetch","success","show_permissions","showPermissions","render","error","response","responseJSON","err_msg","onclick","Galaxy","libraries","library_router","back","$","remove","template","templateLibrary","$el","html","item","tooltip","shareDataset","info","goBack","undefined","fetched_permissions","set","access_library_role_list","length","is_unrestricted","is_admin","currUser","isAdmin","templateLibraryPermissions","library","self","get","done","prepareSelectBoxes","fail","css","_serializeRoles","role_list","selected_roles","i","push","selected_access_library_roles","selected_add_item_roles","add_library_item_role_list","selected_manage_library_roles","manage_library_role_list","selected_modify_library_roles","modify_library_role_list","accessSelectObject","_createSelectOptions","addSelectObject","manageSelectObject","modifySelectObject","init_data","is_library_access","select_options","minimumInputLength","multiple","placeholder","container","find","ajax","url","dataType","quietMillis","data","term","page","q","page_limit","results","more","total","roles","formatResult","role","name","type","formatSelection","initSelection","element","callback","val","split","each","initialData","dropdownCssClass","comingSoon","warning","copyToClipboard","href","history","location","lastIndexOf","substr","window","prompt","makeDatasetPrivate","post","removeDatasetRestrictions","_extractIds","roles_list","ids_list","savePermissions","access_ids","select2","add_ids","manage_ids","modify_ids","access_ids[]","add_ids[]","manage_ids[]","modify_ids[]","tmpl_array","join"],"mappings":"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"}