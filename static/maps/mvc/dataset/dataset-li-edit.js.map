{"version":3,"file":"dataset-li-edit.js","sources":["../../../src/mvc/dataset/dataset-li-edit.js"],"names":["define","STATES","DATASET_LI","TAGS","ANNOTATIONS","faIconButton","BASE_MVC","_l","_super","DatasetListItemView","DatasetListItemEdit","extend","initialize","attributes","prototype","call","this","hasUser","purgeAllowed","tagsEditorShown","annotationEditorShown","_renderPrimaryActions","actions","model","get","NOT_VIEWABLE","concat","_renderEditButton","_renderDeleteButton","self","DISCARDED","purged","deleted","editBtnData","title","href","Galaxy","root","id","faIcon","classes","onclick","ev","router","preventDefault","push","dataset_id","disabled","_","contains","UPLOAD","NEW","deletedAlready","isDeletedOrPurged","$el","find","trigger","_renderDetails","$details","state","OK","FAILED_METADATA","_renderTags","_renderAnnotation","_makeDbkeyEditLink","_setUpBehaviors","_renderToolHelpButton","datasetID","jobID","creating_job","parseToolBuild","data","helpString","name","help","append","$","parseHTML","parseToolID","ajax","url","tool_id","done","fail","user","length","toggle","console","log","_renderSecondaryActions","ERROR","unshift","_renderErrButton","_renderRerunButton","_renderVisualizationsButton","urls","rerun","target","linkTarget","job_id","visualizations","hasData","isEmpty","isObject","warn","$visualizations","templates","attr","_addScratchBookFn","addBack","$links","click","frame","active","add","stopPropagation","$where","view","tagsEditor","TagsEditor","el","onshowFirstTime","render","onshow","onhide","$activator","appendTo","annotationEditor","AnnotationEditor","editableDbkey","edit","replaceWith","events","clone","click .undelete-link","click .purge-link","click .edit-btn","click .delete-btn","click .rerun-btn","click .report-err-btn","click .visualization-btn","click .dbkey a","_clickUndeleteLink","undelete","_clickPurgeLink","confirm","purge","toString","modelString","warnings","failed_metadata","wrapTemplate","visualizationsTemplate"],"mappings":"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"}