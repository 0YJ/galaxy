{"version":3,"file":"dataset-li-edit.js","sources":["../../../src/mvc/dataset/dataset-li-edit.js"],"names":["define","STATES","DATASET_LI","TAGS","ANNOTATIONS","faIconButton","BASE_MVC","ToolsForm","_l","_super","DatasetListItemView","DatasetListItemEdit","extend","initialize","attributes","prototype","call","this","hasUser","purgeAllowed","tagsEditorShown","annotationEditorShown","_renderPrimaryActions","actions","model","get","NOT_VIEWABLE","concat","_renderEditButton","_renderDeleteButton","DISCARDED","purged","deleted","editBtnData","title","href","urls","edit","target","linkTarget","faIcon","classes","disabled","_","contains","UPLOAD","NEW","self","deletedAlready","isDeletedOrPurged","onclick","$el","find","trigger","_fetchModelDetails","view","inReadyState","hasDetails","fetch","silent","has","jQuery","when","data","keys","join","_renderDetails","$details","state","OK","FAILED_METADATA","_renderTags","_renderAnnotation","_makeDbkeyEditLink","_setUpBehaviors","_renderSecondaryActions","ERROR","unshift","_renderErrButton","_renderRerunButton","_renderVisualizationsButton","report_error","creating_job","rerun","ev","preventDefault","form","View","job_id","deferred","execute","Galaxy","app","display","visualizations","hasData","isEmpty","isObject","warn","$visualizations","$","templates","attr","_addScratchBookFn","addBack","$links","click","frame","active","add","type","content","stopPropagation","$where","tagsEditor","TagsEditor","el","onshowFirstTime","render","onshow","onhide","$activator","appendTo","toggle","annotationEditor","AnnotationEditor","editableDbkey","replaceWith","events","clone","click .undelete-link","click .purge-link","click .edit-btn","click .delete-btn","click .rerun-btn","click .report-err-btn","click .visualization-btn","click .dbkey a","_clickUndeleteLink","undelete","_clickPurgeLink","purge","toString","modelString","warnings","failed_metadata","wrapTemplate","visualizationsTemplate"],"mappings":"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"}