{"version":3,"sources":["mvc/ui/ui-select-ftp.js"],"names":["define","Utils","List","View","Backbone","extend","initialize","options","self","this","ftpfile_list","name","optional","multiple","onchange","value","setElement","$el","get","url","Galaxy","root","success","response","push","data","i","label","val"],"mappings":"kCACAA,QAAQ,cAAe,kBAAmB,SAASC,EAAOC,GA0CjD,OAtC2BC,KAHhCC,SAAAD,KAAAE,QAKIC,WAAY,SAASC,GADrB,IAAAC,EAAAC,KAGIA,KAAAC,aAAA,IAAAR,EAAAC,MAIIQ,KAAM,OAFVC,SAAAL,EAAAK,SACAC,SAAKH,EAALG,SACIF,SAAM,WACNC,EAAAA,UAAkBA,EAFYE,SAAAN,EAAAO,YAAAN,KAAdO,WAApBP,KAAAC,aAAAO,KAUAhB,EAAAiB,KAIIC,IAAKC,OAAOC,KAAO,mBAFvBC,QAAA,SAAAC,GACAtB,IAAMiB,KACFC,IAAKC,IAAAA,KAAOC,EACZC,EAASE,MACDC,MAAOF,EAAXG,GAAW,KACXC,MAAAJ,EAAcA,GAAd,OAGQI,EAAAA,aAAAA,OAAOJ,OAM1BR,MAjC2B,SAAAa,GAqCxB,OAAOnB,KAAKC,aAAaK,MAAMa","file":"../../../scripts/mvc/ui/ui-select-ftp.js","sourcesContent":["// dependencies\ndefine([\"utils/utils\", \"mvc/ui/ui-list\"], function(Utils, List) {\n    /**\n * FTP file selector\n */\n    var View = Backbone.View.extend({\n        // initialize\n        initialize: function(options) {\n            // link this\n            var self = this;\n\n            // create ui-list view to keep track of selected ftp files\n            this.ftpfile_list = new List.View({\n                name: \"file\",\n                optional: options.optional,\n                multiple: options.multiple,\n                onchange: function() {\n                    options.onchange && options.onchange(self.value());\n                }\n            });\n\n            // create elements\n            this.setElement(this.ftpfile_list.$el);\n\n            // initial fetch of ftps\n            Utils.get({\n                url: Galaxy.root + \"api/remote_files\",\n                success: function(response) {\n                    var data = [];\n                    for (var i in response) {\n                        data.push({\n                            value: response[i][\"path\"],\n                            label: response[i][\"path\"]\n                        });\n                    }\n                    self.ftpfile_list.update(data);\n                }\n            });\n        },\n\n        /** Return/Set currently selected ftp datasets */\n        value: function(val) {\n            return this.ftpfile_list.value(val);\n        }\n    });\n\n    return {\n        View: View\n    };\n});\n"]}