{"version":3,"sources":["mvc/ui/ui-buttons.js"],"names":["define","Utils","ButtonDefault","Backbone","View","initialize","options","model","Model","uid","title","id","floating","icon","cls","wait","wait_text","wait_cls","disabled","percentage","$","attr","append","this","$icon","$title","render","$progress","$progress_bar","self","removeClass","addClass","tooltip","placement","on","hide","onclick","css","width","$el","prop","html","show","disable","set","enable","unwait","setIcon","ButtonLink","setElement","extend","listenTo","href","target","onchange","ButtonCheck","icons","attributes","off","new_val","total","undefined","get","value","ButtonIcon","$button","pull","visible","tag","collection","Collection","ButtonMenu","$menu","display","e","length","$root","suboptions","submodel","divider","float","where","merge","preventDefault","remove","$link","addMenu","add"],"mappings":"YACAA,SAAU,eAAiB,SAAUC,GAArCD,GAAUE,GAAiBC,SAAAC,KAAUH,QACjCI,WAAA,SAAAC,GACIJ,KAAAA,MAAgBC,GAASC,EAATG,OAAqB,GAAAJ,UAAAK,OACrCH,GAAYJ,EAAAQ,MACRC,MAAaJ,GACTK,SAAc,QACdD,KAFwD,GAGxDE,IAAc,kBACdC,MAJwD,EAKxDC,UAAc,aACdC,SANwD,eAOxDC,UAAc,EACdC,YAAc,IACdC,IAAAA,GACAC,KAAAA,WAAeC,EAAA,aAAAC,KAAA,OAAA,UAVnBC,OAAAC,KAAAC,MAAAJ,EAAA,SAYkCC,OAAjBE,KAA+BE,OACNL,EAAA,YAG1CE,OAA0CI,KAA1CC,UAAAP,EAAA,UAAAE,OAAAC,KAAAK,cAAAR,EAAA,aACAG,KAAKG,SAALH,KAAAhB,MAAA,SAAAgB,KAAAG,OAAAH,MAnBiCA,KAAAG,UAuBjCA,OAAIG,WACJ,GAAIvB,GAAAA,KACJA,EAASwB,KAAAA,MACAC,UAMGX,MAAAA,IAAGU,cACHxB,SAAA,qBAEH0B,SAAWtB,EAAOJ,UAAiB2B,YACvCN,KAAUI,KAAAA,EAAUpB,IACpBiB,KAAAA,WAALtB,EAA6BY,UACxBM,IAAMM,QAAXxB,EAAyByB,UACpBN,IAAOK,SAAZI,GAA0BH,QAAU,WACvBhB,EAAAA,YAAOoB,OAChB7B,EAASyB,UAAkBd,EAAAA,UAAiBX,EAAY8B,YAEnDX,SAALf,MAAkBJ,EAAQU,QAA1BiB,UAAA,WACHV,KAJDI,UAIOI,SAAA,YAAAM,IAAA,WAAA,IAAA/B,EAAAa,WAAA,QAAA,QACHI,KAAAK,cAASG,SAAUzB,gBAAnB+B,KAAAC,MAAAhC,EAAAa,WAAA,MACAI,KAAAC,MAAKA,cAAgBlB,SAAQO,WAC7BU,KAAAE,OAAKA,cAAanB,SAAlB,SACAA,EAAQO,MACXU,KAAAgB,IAAAR,SAAAzB,EAAAW,UAAAuB,KAAA,YAAA,GAjDgCjB,KAAAC,MAAAO,SAAA,sCA2C7BR,KAAKE,OAAOgB,KAAMnC,EAAQU,aAU5BO,KAAAgB,IAAAR,SAAWzB,EAAAQ,KACbS,KAASmB,MAATX,SAAAzB,EAAAO,MAtDiCU,KAAAE,OAAAgB,KAAAnC,EAAAI,OAgD7BJ,EAAQO,MAAQP,EAAQI,OAASa,KAAKC,MAAMO,SAAU,qBAK9DW,KAAM,WASNnB,KAAAgB,IAAAG,QAJAP,KAAM,WASNZ,KAAAgB,IAAAJ,QAJAQ,QAAS,WASTpB,KAAAhB,MAAAqC,IAAA,YAAA,IAJAC,OAAQ,WASRtB,KAAAhB,MAAAqC,IAAA,YAAA,IAJA7B,KAAM,WASNQ,KAAAhB,MAAAqC,IAAA,QAAA,IAlFJE,OAAA,WA+EQvB,KAAKhB,MAAMqC,IAAK,QAAQ,IAYxBG,QAAKxC,SAAQD,GACTK,KAAAA,MAAcV,IAAMQ,OADoCI,MAM5DmC,EAAKC,EAAeC,QACpB7C,WAAK8C,SAAU7C,GACfiB,KAAKG,MAALpB,GAAAA,EAAAC,OAAA,GAAAJ,UAAAK,OAV8BG,GAAAV,EAAAQ,MAI1BC,MAAc,GASdG,KAAA,GACAP,IAAU,KACdsC,IAAAtC,GAGiB8C,KAAAA,WAAa9C,EAAQ8C,QAAQ9B,OAAAC,KAAAC,MAD/BJ,EAAA,aAEEV,KAAAA,SAAaJ,KAAQI,MAFvB,SAAAa,KAAAG,OAAAH,MAGE8B,KAAAA,UAKR3B,OAVT,WAWA,GAAApB,GAAWwB,KAAAA,MAAcC,UAC5BR,MAAAgB,IAAAT,cA3BLC,SAAAzB,EAAAQ,KAiBiBO,MAAQV,GAAaL,EAAQK,GAa9CyC,KAAA9C,EAAA8C,MAAA,qBACkBjD,MAAAG,EAAqBI,MACvB2C,OAAU/C,EAAU+C,QAAA,OACf/C,SAAWA,EAAXY,WACKjB,SAD0CgC,UAAA,WAExDvB,IAAc,SAAAwB,GAAA,QAF0C,WAGxC5B,EAAA8B,UAAe9B,EAAAY,UAAqBZ,EAAA8B,YAEpDkB,KAAAA,MAAAA,cAAcvB,SAAYzB,EAAAO,SAMjC0C,EAbkCpD,SAAAC,KAAA8C,QACnC7C,WAAY,SAAUC,GActBoB,KAAQnB,MAAAD,GAAUA,EAAUC,OAAA,GAAAJ,UAAAK,OACpBqB,GAAJ5B,EAAAQ,MACIH,MAAU,sBACdkD,OAAmB,cAAnB,oBAC2B,qBACf3B,MAAA,EACAvB,SAAQ8B,eAHpBQ,IAAAtC,GAKAiB,KAAKE,WAAanB,EAAAA,UAAlBgB,OAAAC,KAAAC,MAAAJ,EAAA,YAEWW,OAAUR,KAAAE,OAAAL,EAAA,aAzBUG,KAAA4B,SAAA5B,KAAAhB,MAAA,SAAAgB,KAAAG,OAAAH,MAY/BA,KAAKG,UAGTA,OAAQ,SAAUpB,GACd,GAAIuB,GAAON,KACPjB,EAAUiB,KAAKhB,MAAMkD,UACzBlC,MAAKgB,IAAIR,SAAU,mBAiBhB2B,IAAA,SAAWC,GAASC,QAAQ,WAC1BD,EAAYE,MAAAA,IAAY,QAAA,IAAAhC,EAAAtB,MAAAuD,IAAA,UAAA,GAAA,GACpBF,EAASD,SAAdrD,EAA8B8B,YAE7Bb,KAAAE,OAAAgB,KAAAnC,EAAAI,OACDa,KAAAC,MAAKjB,cACAA,SAAW,2BACnBwB,SAAAzB,EAAAkD,MAAAlD,EAAAyD,SASGpD,MAAAA,SAAoBF,EADoCmD,GAU5D,WAV4DC,KAExDnD,IACAE,GAHwD,IAG1C+C,IACd9C,EAJwD8C,IAAAC,GAAA,GAAA,GAMxD1C,KAAAA,MAAc0B,IAAA,QAAAe,GACff,KAAKtC,MAPRwD,IAAA,YAAAvC,KAAAhB,MAAAuD,IAAA,WAUKX,KAAAA,MAAUW,IAAKvD,WAkH5B,QACIL,cAAkBA,EAClB8C,WAAkBA,EAClBgB,WAhHQnC,EAAJqB,QACA7C,WAAIC,SAAUA,GACdiB,KAAKgB,MAAIT,GACAC,EAAUzB,OAAQQ,GAClBiB,UAAUzB,OAKPc,GAAgBe,EAAhB1B,MACAC,MAASQ,GARrBN,SAAA,QAUAC,KAAakB,GACbjB,IAAWgB,iBACXZ,UAAYa,IACZzB,IAAQO,GACXU,KAAA0B,WAAA7B,EAAA,UAAAE,OAAAC,KAAA0C,QAAA7C,EAAA,UAAAE,OAAAC,KAAAC,MAAAJ,EAAA,SAjCLE,OAAAC,KAAAE,OAAAL,EAAA,cAYQG,KAAK4B,SAAU5B,KAAKhB,MAAO,SAAUgB,KAAKG,OAAQH,MAwB1DA,KAAAG,UAGIrB,OAAAA,SAAYC,GACR,GACIK,GADwDY,KAAAhB,MAAAkD,UAExD/C,MAAAA,IAAAA,cACAE,SAAkBN,EAHsCQ,KAIxDoD,SAJwD5D,EAAAY,UAAA,YAKxDL,KALwD,WAAAP,EAAAY,UAMxDkB,KAAkB,KANsC9B,EAAAK,IAOtC0B,IAAA,QAAA/B,EAAAM,UAClBoB,IAAkB,SARsCE,GAAA,QAAA,WAStCd,EATsC,YAAAe,QAAA7B,EAAAY,UAAAZ,EAAA8B,SAAA9B,EAAA8B,YAYxD+B,KAAAA,QAAkBpC,SAZsC,UAAAC,SAAAtB,MAAAJ,EAAA0B,QAAAC,UAAA,WAaxDmC,KAAAA,MAAkBtC,cAAAC,SAAA,WAAAA,SAAAzB,EAAAO,MAbsCU,KAczDqB,OAAKtC,SAdR,SAAAmC,KAAAnC,EAAAI,OAeAJ,EAAK+D,MAAL/D,EAAsBH,OAASmE,KAAAA,MAA/BvC,SAAA,sBA2EJwB,YAAkBA,EAClBgB,WA9FkCrE,EAAAgD,QAClCsB,MAAO,KAyBP9C,WAAQ,SAAApB,GACJiB,KAAIM,MAAOvB,GAAXA,EAAAC,OAAA,GAAAJ,UAAAK,OACIF,GAAeC,GACnBG,MAAA,GAKgB+D,SAAkBN,QAClCD,KAAqB,QAIL9C,KAAA,KACAsD,QAAA,KACApE,IAAA,gCANhB0B,QAAA,GAQAqB,OAAA,GACAD,KAAYtB,GACZxB,SAAgBA,KAChB6D,SAAmBK,EACdJ,IAAgBO,KACjB/B,IAAAtC,GAGAiB,KAAA8C,WAAS/C,GAAQnB,UAAjBmE,WACH/C,KAAA0B,WAAA7B,EAAA,UAAAE,OAAAC,KAAAqD,MAAAxD,EAAA,UAAAE,OAAAC,KAAAC,MAAAJ,EAAA,SAC0CE,OAAAC,KAAAE,OAAAL,EAAA,cACvCG,KAAA4B,SAAI0B,KAAAA,MAAaC,SAASrB,KAA1B/B,OAAAH,MACAA,KAAA4B,SAAK0B,KAAWV,WAAU,0BAAA5C,KAAAG,OAAAH,MACtBA,KAAAG,UASgCmD,OAAAA,WACH,GAAAhD,GAAAN,KACLjB,EAXxBiB,KAAAhB,MAAAkD,UAYA5B,MAAAA,IAAAA,cACAgD,SAAWE,YACdhD,SAAAzB,EAAAQ,KAjBLO,KAAA,KAAAf,EAAAK,IArD8B0B,KAAA2C,MAAA1E,EAAAM,SAkCd6D,QAAUnE,EAAQ6D,SAAW5C,KAAK8C,WAAWY,OAASd,SAAS,IAASQ,OAAS,EAAI,QAAU,SAwCnHpD,KAAAqD,MAAA7C,SAAA,+BACSV,KAAA,cAAqB,YACrBgD,SAAgBpE,MAAMiF,EAAO5E,QAAS2B,UAAA,WACzByB,IADyB,SAAAxB,GAAA,QAAA,SAAAwC,GAAAtD,EAAA,YAAAe,OAAAuC,EAAAS,iBAIzB7E,EAJyB8B,SAAA9B,EAAA8B,YAMvC+B,KAAAA,MAAAA,cANuCpC,SAAA,WAAAA,SAAAzB,EAAAO,MAOvCA,KAAAA,OAAciB,cAPyBC,SAAA,SAAAU,KAAAnC,EAAAI,OAQvCI,EAAAA,MAAcR,EAAAI,OAAAa,KAAAC,MAAAO,SAAA,mBARyBR,KAA3CiD,OAAAjD,KAAAiD,MAAAY,SAUH7D,KAAA8C,WAAAM,OAAA,IAtFLpD,KAAAiD,MAAApD,EAAA,SAAAW,SAAA,sBAiDsCA,SAAU,QAAUF,EAAKtB,MAAMuD,IAAK,SAwCnEzC,KAAA,OAAA,QACHnB,KAAAA,IAAkBA,OAAAA,KADfsE,QAGHR,KAAAA,WAAkBA,KAHf,SAAAc,GAIHvB,GAAAA,GAJGuB,EAAArB,UAKHc,IAAkBA,EAAAA,QAAAA,CALtB,GAAAc,GAAAjE,EAAA,QAAAW,SAAA,iBAxSJV,MAAA+B,KAAAyB,EAAAzB,KAAAC,OAAAwB,EAAAxB,SAyQ4C/B,OAAQF,EAAG,QAASW,SAAU,MACVA,SAAU8C,EAAWhE,MACrBwB,IAAK,UAAWwC,EAAWhE,KAAO,eAAiB,SACvES,OAAQuD,EAAWnE,OACnBwB,GAAI,QAAS,SAAUwC,GACdG,EAAWzC,UACZsC,EAAES,iBACFN,EAAWzC,YAG3CP,GAAK2C,MAAMlD,OAAQF,EAAG,SAAUE,OAAQ+D,IACxCR,EAAWE,SAAWlD,EAAK2C,MAAMlD,OAAQF,EAAG,SAAUW,SAAU,gBAM5EuD,QAAS,SAAWhF,GAChBiB,KAAK8C,WAAWkB,IAAKtF,EAAMiF,MAAO5E,GAC9BI,MAAc,GACd2C,OAAc,GACdD,KAAc,GACdhB,QAAc,KACd2C,SAAc,EACdZ,SAAc,EACdtD,KAAc,KACdC,IAAc","file":"../../../scripts/mvc/ui/ui-buttons.js","sourcesContent":["/** This module contains all button views. */\ndefine( [ 'utils/utils' ], function( Utils ) {\n    /** This renders the default button which is used e.g. at the bottom of the upload modal. */\n    var ButtonDefault = Backbone.View.extend({\n        initialize: function( options ) {\n            this.model = options && options.model || new Backbone.Model({\n                id          : Utils.uid(),\n                title       : '',\n                floating    : 'right',\n                icon        : '',\n                cls         : 'btn btn-default',\n                wait        : false,\n                wait_text   : 'Sending...',\n                wait_cls    : 'btn btn-info',\n                disabled    : false,\n                percentage  : -1\n            }).set( options );\n            this.setElement( $( '<button/>' ).attr( 'type', 'button' )\n                                             .append( this.$icon        = $( '<i/>' ) )\n                                             .append( this.$title       = $( '<span/>' ) )\n                                             .append( this.$progress    = $( '<div/>' ).append( this.$progress_bar = $( '<div/>' ) ) ) );\n            this.listenTo( this.model, 'change', this.render, this );\n            this.render();\n        },\n\n        render: function() {\n            var self = this;\n            var options = this.model.attributes;\n            this.$el.removeClass()\n                    .addClass( 'ui-button-default' )\n                    .addClass( options.disabled && 'disabled' )\n                    .attr( 'id', options.id )\n                    .attr( 'disabled', options.disabled )\n                    .css( 'float', options.floating )\n                    .off( 'click' ).on( 'click' , function() {\n                        $( '.tooltip' ).hide();\n                        options.onclick && !self.disabled && options.onclick();\n                    })\n                    .tooltip( { title: options.tooltip, placement: 'bottom' } );\n            this.$progress.addClass( 'progress' ).css( 'display', options.percentage !== -1 ? 'block' : 'none' );\n            this.$progress_bar.addClass( 'progress-bar' ).css( { width : options.percentage + '%' } );\n            this.$icon.removeClass().addClass( 'icon fa' );\n            this.$title.removeClass().addClass( 'title' );\n            if ( options.wait ) {\n                this.$el.addClass( options.wait_cls ).prop( 'disabled', true );\n                this.$icon.addClass( 'fa-spinner fa-spin ui-margin-right' );\n                this.$title.html( options.wait_text );\n            } else {\n                this.$el.addClass( options.cls );\n                this.$icon.addClass( options.icon );\n                this.$title.html( options.title );\n                options.icon && options.title && this.$icon.addClass( 'ui-margin-right' );\n            }\n        },\n\n        /** Show button */\n        show: function() {\n            this.$el.show();\n        },\n\n        /** Hide button */\n        hide: function() {\n            this.$el.hide();\n        },\n\n        /** Disable button */\n        disable: function() {\n            this.model.set( 'disabled', true );\n        },\n\n        /** Enable button */\n        enable: function() {\n            this.model.set( 'disabled', false );\n        },\n\n        /** Show spinner to indicate that the button is not ready to be clicked */\n        wait: function() {\n            this.model.set( 'wait', true );\n        },\n\n        /** Hide spinner to indicate that the button is ready to be clicked */\n        unwait: function() {\n            this.model.set( 'wait', false );\n        },\n\n        /** Change icon */\n        setIcon: function( icon ) {\n            this.model.set( 'icon', icon );\n        }\n    });\n\n    /** This button allows the right-click/open-in-new-tab feature, its used e.g. for panel buttons. */\n    var ButtonLink = ButtonDefault.extend({\n        initialize: function( options ) {\n            this.model = options && options.model || new Backbone.Model({\n                id          : Utils.uid(),\n                title       : '',\n                icon        : '',\n                cls         : ''\n            }).set( options );\n            this.setElement( $( '<a/>' ).append( this.$icon  = $( '<span/>' ) ) );\n            this.listenTo( this.model, 'change', this.render, this );\n            this.render();\n        },\n\n        render: function() {\n            var options = this.model.attributes;\n            this.$el.removeClass()\n                    .addClass( options.cls )\n                    .attr( { id         : options.id,\n                             href       : options.href || 'javascript:void(0)',\n                             title      : options.title,\n                             target     : options.target || '_top',\n                             disabled   : options.disabled } )\n                    .tooltip( { placement: 'bottom' } )\n                    .off( 'click' ).on( 'click' , function() {\n                        options.onclick && !options.disabled && options.onclick();\n                    });\n            this.$icon.removeClass().addClass( options.icon );\n        }\n    });\n\n    /** The check button is used in the tool form and allows to distinguish between multiple states e.g. all, partially and nothing selected. */\n    var ButtonCheck = Backbone.View.extend({\n        initialize: function( options ) {\n            this.model = options && options.model || new Backbone.Model({\n                id          : Utils.uid(),\n                title       : 'Select/Unselect all',\n                icons       : [ 'fa-square-o', 'fa-minus-square-o', 'fa-check-square-o' ],\n                value       : 0,\n                onchange    : function(){}\n            }).set( options );\n            this.setElement( $( '<div/>' ).append( this.$icon   = $( '<span/>' ) )\n                                          .append( this.$title  = $( '<span/>' ) ) );\n            this.listenTo( this.model, 'change', this.render, this );\n            this.render();\n        },\n\n        render: function( options ) {\n            var self = this;\n            var options = this.model.attributes;\n            this.$el.addClass( 'ui-button-check' )\n                    .off( 'click' ).on('click', function() {\n                        self.model.set( 'value', ( self.model.get( 'value' ) === 0 && 2 ) || 0 );\n                        options.onclick && options.onclick();\n                    });\n            this.$title.html( options.title );\n            this.$icon.removeClass()\n                      .addClass( 'icon fa ui-margin-right' )\n                      .addClass( options.icons[ options.value ] );\n        },\n\n        /* Sets a new value and/or returns the value.\n        * @param{Integer}   new_val - Set a new value 0=unchecked, 1=partial and 2=checked.\n        * OR:\n        * @param{Integer}   new_val - Number of selected options.\n        * @param{Integer}   total   - Total number of available options.\n        */\n        value: function ( new_val, total ) {\n            if ( new_val !== undefined ) {\n                if ( total && new_val !== 0 ) {\n                    new_val = ( new_val !== total ) && 1 || 2;\n                }\n                this.model.set( 'value', new_val );\n                this.model.get( 'onchange' )( this.model.get( 'value' ) );\n            }\n            return this.model.get( 'value' );\n        }\n    });\n\n    /** This renders a differently styled, more compact button version. */\n    var ButtonIcon = ButtonDefault.extend({\n        initialize: function( options ) {\n            this.model = options && options.model || new Backbone.Model({\n                id          : Utils.uid(),\n                title       : '',\n                floating    : 'right',\n                icon        : '',\n                cls         : 'ui-button-icon',\n                disabled    : false\n            }).set( options );\n            this.setElement( $( '<div/>' ).append( this.$button = $( '<div/>' ).append( this.$icon  = $( '<i/>' ) )\n                                                                               .append( this.$title = $( '<span/>' ) ) ) );\n            this.listenTo( this.model, 'change', this.render, this );\n            this.render();\n        },\n\n        render : function( options ) {\n            var self = this;\n            var options = this.model.attributes;\n            this.$el.removeClass()\n                    .addClass( options.cls )\n                    .addClass( options.disabled && 'disabled' )\n                    .attr( 'disabled', options.disabled )\n                    .attr( 'id', options.id )\n                    .css( 'float', options.floating )\n                    .off( 'click' ).on( 'click', function() {\n                        $( '.tooltip' ).hide();\n                        !options.disabled && options.onclick && options.onclick();\n                    });\n            this.$button.addClass( 'button' ).tooltip( { title: options.tooltip, placement: 'bottom' } );\n            this.$icon.removeClass().addClass( 'icon fa' ).addClass( options.icon );\n            this.$title.addClass( 'title' ).html( options.title );\n            options.icon && options.title && this.$icon.addClass( 'ui-margin-right' );\n        }\n    });\n\n    /** This class creates a button with dropdown menu. */\n    var ButtonMenu = ButtonDefault.extend({\n        $menu: null,\n        initialize: function ( options ) {\n            this.model = options && options.model || new Backbone.Model({\n                id              : '',\n                title           : '',\n                floating        : 'right',\n                pull            : 'right',\n                icon            : null,\n                onclick         : null,\n                cls             : 'ui-button-icon ui-button-menu',\n                tooltip         : '',\n                target          : '',\n                href            : '',\n                onunload        : null,\n                visible         : true,\n                tag             : ''\n            }).set( options );\n            this.collection = new Backbone.Collection();\n            this.setElement( $( '<div/>' ).append( this.$root = $( '<div/>' ).append( this.$icon  = $( '<i/>' ) )\n                                                                             .append( this.$title = $( '<span/>' ) ) ) );\n            this.listenTo( this.model, 'change', this.render, this );\n            this.listenTo( this.collection, 'change add remove reset', this.render, this );\n            this.render();\n        },\n\n        render: function() {\n            var self = this;\n            var options = this.model.attributes;\n            this.$el.removeClass()\n                    .addClass( 'dropdown' )\n                    .addClass( options.cls )\n                    .attr( 'id', options.id )\n                    .css( { float   : options.floating,\n                            display : options.visible && this.collection.where( { visible: true } ).length > 0 ? 'block' : 'none' } );\n            this.$root.addClass( 'root button dropdown-toggle' )\n                      .attr( 'data-toggle', 'dropdown' )\n                      .tooltip( { title: options.tooltip, placement: 'bottom' } )\n                      .off( 'click' ).on( 'click', function( e ) {\n                            $( '.tooltip' ).hide();\n                            e.preventDefault();\n                            options.onclick && options.onclick();\n                      } );\n            this.$icon.removeClass().addClass( 'icon fa' ).addClass( options.icon );\n            this.$title.removeClass().addClass( 'title' ).html( options.title );\n            options.icon && options.title && this.$icon.addClass( 'ui-margin-right' );\n            this.$menu && this.$menu.remove();\n            if ( this.collection.length > 0 ) {\n                this.$menu = $( '<ul/>' ).addClass( 'menu dropdown-menu' )\n                                         .addClass( 'pull-' + self.model.get( 'pull' ) )\n                                         .attr( 'role', 'menu' );\n                this.$el.append( this.$menu );\n            }\n            this.collection.each( function( submodel ) {\n                var suboptions = submodel.attributes;\n                if ( suboptions.visible ) {\n                    var $link = $( '<a/>' ).addClass( 'dropdown-item' )\n                                           .attr( { href : suboptions.href, target : suboptions.target } )\n                                           .append( $( '<i/>' ).addClass( 'fa' )\n                                                               .addClass( suboptions.icon )\n                                                               .css( 'display', suboptions.icon ? 'inline-block' : 'none' ) )\n                                           .append( suboptions.title )\n                                           .on( 'click', function( e ) {\n                                                if ( suboptions.onclick ) {\n                                                    e.preventDefault();\n                                                    suboptions.onclick();\n                                                }\n                                           } );\n                    self.$menu.append( $( '<li/>' ).append( $link ) );\n                    suboptions.divider && self.$menu.append( $( '<li/>' ).addClass( 'divider' ) );\n                }\n            });\n        },\n\n        /** Add a new menu item */\n        addMenu: function ( options ) {\n            this.collection.add( Utils.merge( options, {\n                title       : '',\n                target      : '',\n                href        : '',\n                onclick     : null,\n                divider     : false,\n                visible     : true,\n                icon        : null,\n                cls         : 'button-menu btn-group'\n            }));\n        }\n    });\n\n    return {\n        ButtonDefault   : ButtonDefault,\n        ButtonLink      : ButtonLink,\n        ButtonIcon      : ButtonIcon,\n        ButtonCheck     : ButtonCheck,\n        ButtonMenu      : ButtonMenu\n    }\n});\n"]}