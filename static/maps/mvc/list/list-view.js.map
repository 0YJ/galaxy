{"version":3,"file":"list-view.js","sources":["../../../src/mvc/list/list-view.js"],"names":["define","LIST_ITEM","LoadingIndicator","BASE_MVC","_l","logNamespace","ListPanel","Backbone","View","extend","LoggableMixin","_logNamespace","viewClass","ListItemView","collectionClass","Collection","tagName","className","fxSpeed","emptyMsg","noneFoundMsg","searchPlaceholder","initialize","attributes","logger","this","log","_","has","filters","searchFor","selecting","undefined","selected","lastSelected","dragItems","views","collection","$scrollContainer","title","subtitle","_setUpListeners","freeViews","self","each","view","stopListening","off","on","error","model","xhr","options","msg","details","console","loading","_showLoadingIndicator","loading-done","_hideLoadingIndicator","once","trigger","arguments","_setUpCollectionListeners","_setUpViewListeners","listenTo","reset","renderItems","add","addItemView","remove","removeItemView","info","view:selected","ev","shiftKey","lastSelectedView","viewFromModelId","selectRange","altKey","showSelectors","push","id","view:de-selected","without","render","speed","$newRender","_buildNewRender","_setUpBehaviors","_queueNewRender","debug","$","templates","el","_renderControls","_renderTitle","_renderSubtitle","_renderSearch","$controls","controls","find","replaceWith","panel","queue","next","$el","fadeOut","_swapNewRender","fadeIn","empty","attr","append","children","$where","tooltip","placement","_renderMultiselectActionMenu","$menu","actions","multiselectActions","length","$newMenu","join","$actions","map","action","html","click","preventDefault","func","parent","$list","$messages","$emptyMessage","$whereTo","shownModels","_filterCollection","itemModel","_createItemView","_attachItems","hide","_renderEmptyMessage","show","filter","bind","_filterItem","every","fn","call","matchesAll","ViewClass","_getItemViewClass","_getItemViewOptions","_setUpItemViewListeners","expanded","selectable","contains","draggable","args","Array","prototype","slice","apply","v","json","getSelectedModels","toJSON","dataTransfer","setData","JSON","stringify","text","expandAll","expand","collapseAll","collapse","modelIndex","indexOf","is","_attachView","useFx","isUndefined","splice","_insertIntoListAt","slideDown","index","$what","prepend","eq","after","bulkAppendItemViews","response","firstModelIndex","models","findIndex","m","type_id","$viewEls","forEach","modelJSON","get","viewFromModel","i","viewsWhereModel","properties","matches","viewRange","viewA","viewB","indexA","indexB","searchInput","placeholder","initialVal","onfirstsearch","_firstSearch","onsearch","searchItems","onclear","clearSearch","val","THROTTLE_SELECTOR_FX_AT","showSelector","hideSelectors","slideUp","hideSelector","toggleSelectors","selectAll","event","select","deselectAll","deselect","range","getSelectedViews","constructor","callback","indicator","scrollPosition","scrollTop","scrollTo","pos","animate","scrollToTop","scrollToItem","itemTop","offsetTop","scrollToId","events","click .select-all","click .deselect-all","toString","elTemplate","wrapTemplate","controlsTemplate","ModelListPanel","modelCollectionKey","setModel","freeModel","oldModelId","_setUpModelListeners","unshift","clone"],"mappings":"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"}