{"version":3,"file":"base-mvc.js","sources":["../../src/mvc/base-mvc.js"],"names":["define","_","Backbone","addLogging","_l","mixin","args","Array","prototype","slice","call","arguments","lastArg","pop","unshift","defaults","apply","wrapTemplate","template","jsonNamespace","templateFn","join","json","view","templateVars","LoggableMixin","logger","_logNamespace","SessionStorageModel","Model","extend","initialize","initialAttrs","this","_checkEnabledSessionStorage","id","Error","existing","isNew","_read","clear","silent","save","on","window","sessionStorage","length","err","alert","sync","method","model","options","trigger","returned","_create","_update","_delete","undefined","success","error","toJSON","set","setItem","JSON","stringify","DOMException","navigator","userAgent","indexOf","parse","getItem","removeItem","hasOwnProperty","_log","toString","omit","SearchableModelMixin","searchAttributes","searchAliases","searchAttribute","attrKey","searchFor","attrVal","get","isArray","_searchArrayAttribute","toLowerCase","array","any","elem","search","filter","key","matches","term","ATTR_SPECIFIER","split","matchesAll","terms","match","s","all","replace","ControlledFetchCollection","Collection","fetch","_buildFetchOptions","clone","self","remove","traditional","data","_buildFetchData","console","log","filters","_buildFetchFilters","isEmpty","_fetchFiltersToAjaxData","order","pick","_fetchParams","filterMap","q","qv","each","v","k","push","limitOnFirstFetch","limitPerFetch","fetchFirst","allFetched","lastFetched","fetchMore","reset","limit","collection","warn","jQuery","when","offset","always","done","fetchedData","numFetched","HiddenUntilActivatedViewMixin","hiddenUntilActivated","$activator","HUAVOptions","$elementShown","$el","showFn","toggle","showSpeed","hasBeenShown","is","hidden","isHidden","isFunction","onshowFirstTime","onshow","onhide","DraggableViewMixin","attributes","draggable","$dragHandle","$","toggleDraggable","draggableOff","draggableOn","dragStartHandler","bind","_dragStartHandler","dragEndHandler","_dragEndHandler","handle","attr","addEventListener","removeEventListener","event","dataTransfer","effectAllowed","setData","SelectableViewMixin","selectable","selected","$selector","_renderSelected","find","toggleClass","toggleSelector","hideSelector","showSelector","speed","fxSpeed","show","hide","toggleSelect","deselect","select"],"mappings":"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"}