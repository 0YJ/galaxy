{"version":3,"sources":["reports_webapp/run_stats.js"],"names":["days_in_month","month","year","Date","getDate","date_by_subtracting_days","date","days","getMonth","getHours","date_by_subtracting_hours","getSeconds","getMilliseconds","hours","getFullYear","refresh","window","location","get_utc_time_hours","data","inp_data","hours_array","now","i","days_array","reload","barWidth","width","name","time","title","chart_zoom","chart_width","height","push","zoom","chart_height","margin","bottom","top","right","left","classes","selectAll","d3","select","chart","max","bar","curr_margin","$","css","append","attr","text","this","split","filter","style","transition","size","wdth","path","duration","l_x","m_x","l_y","enter","d","scale","linear","on","round","axis","left_pad","getBoundingClientRect","top_pad","event","String","e","curr_day","first","_y2","m_y","y","range","curr_day_text","tickFormat","call","yAxis","text_height","this_width","node","curr_month","locale","toLocaleString","getBBox","create_histogram","layout","lengths","length","formatMinutes","Math","minutes","curr_month_text","undefined","trans","x","domain","histogram","bins","ticks","bar_x","dx","xAxis","svg","orient","floor"],"mappings":"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","file":"../../scripts/reports_webapp/run_stats.js","sourcesContent":["function days_in_month(month, year) {\n    return new Date(year, month, 0).getDate();\n}\n\nfunction date_by_subtracting_days(date, days) {\n    return new Date(\n        date.getFullYear(), \n        date.getMonth(), \n        date.getDate() - days,\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    );\n}\n\nfunction date_by_subtracting_hours(date, hours) {\n    return new Date(\n        date.getFullYear(), \n        date.getMonth(), \n        date.getDate(),\n        date.getHours() - hours,\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    );\n}\n\n// Gets the utc time without minutes and seconds\nfunction get_utc_time_hours() {\n    var date = new Date();\n    return new Date(\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        0, 0\n    );\n}\n\n// Refreshes the page for more up to date information\nfunction refresh() {\n    window.location.reload(true);\n}\n\n// This is commented out until we make Reports more responsive.\n// setTimeout(refresh, 60000); //1 minute = 60000 ms\n\nfunction create_chart( inp_data, name, time, title ) {\n    // Initialize starting variables\n    var data = inp_data;\n\n    var hours_array = []\n    var now = get_utc_time_hours()\n    for(var i = 0; i < 24; i++) {\n        hours_array.push(date_by_subtracting_hours(now, i));\n    }\n\n    var days_array = []\n    var now = get_utc_time_hours()\n    for(var i = 0; i < 30; i++) {\n        days_array.push(date_by_subtracting_days(now, i));\n    }\n\n    var margin = {top: 60, right: 30, bottom: 50, left: 60};\n    var width = 300;\n    var barWidth = 0;\n    if(time == \"hours\") {\n        barWidth = width / 24;\n    } else if(time == \"days\") {\n        barWidth = width / 30;\n    }\n    var chart_width = width + margin.left + margin.right;\n\n    var chart_zoom = 1.75;\n    var height = 150;\n    if(d3.max(data) != 0) {\n        var zoom = height / d3.max(data);\n    } else {\n        var zoom = 1.0;\n    }\n    var chart_height = height + margin.top + margin.bottom;\n\n    // Function for zooming in and out of charts\n    function click() {\n        var classes = d3.select(this).attr(\"class\");\n        classes = classes.split(\" \");\n        d3.selectAll(\".\" + classes[0]).filter(\".\" + classes[1])\n            .style(\"cursor\", \"zoom-in\")\n            .transition()\n                .duration(750)\n                .attr(\"height\", chart_height)\n                .attr(\"width\", chart_width);\n\n        d3.select(this)\n            .style(\"cursor\", \"default\")\n            .transition()\n                .duration(750)\n                .attr(\"height\", chart_height*chart_zoom)\n                .attr(\"width\", chart_width*chart_zoom);\n    }\n\n    // Initialize all chart containers to have the correct height\n    $(\".charts\").css(\"height\", chart_height * (chart_zoom));\n\n    // Create the chart object\n    var chart = d3.select(\"#\" + name)\n        .attr(\"width\", chart_width)\n        .attr(\"height\", chart_height)\n        .attr(\"preserveAspectRatio\", \"xMidYMin\")\n        .attr(\"viewBox\", \"0 0 \" + chart_width + \" \" + chart_height)\n        .on(\"click\", click);\n\n    // Create bars on the chart and assosciate data with it\n    var bar = chart.selectAll(\"g\")\n        .data(data)\n        .enter().append(\"g\")\n            .attr(\"transform\", function(d, i) {\n                // Place the bar in the correct place\n                curr_margin = +margin.left;\n                curr_margin += +(i * barWidth);\n                return \"translate(\" + curr_margin + \",\" + margin.top + \")\";\n            })\n            .on(\"mouseenter\", function(d) {\n                // Show tool tip\n                var i = 1;\n                var size = d;\n\n                while( size >= 10) {\n                    size = size / 10;\n                    i++;\n                }\n\n                var wdth = (i * 4) + 10;\n                d3.select(d3.event.path[1]).select(\".tool_tip\")\n                    .select(\"text\")\n                        .attr(\"transform\", \"translate( \" + (margin.left - 5) + \", \" + ((height - (d * zoom)) + +margin.top + 10) + \" )\" )\n                        .attr(\"visibility\", \"visible\")\n                        .text(d);\n\n                d3.select(d3.event.path[1]).select(\".tool_tip\")\n                    .attr(\"width\", wdth + \"px\")\n                    .attr(\"height\", \"15px\")\n                    .select(\"rect\")\n                        .attr(\"transform\", \"translate( \" + ((+margin.left) - wdth) + \", \" + ((height - (d * zoom)) + +margin.top) + \" )\" )\n                        .attr(\"width\", wdth + \"px\")\n                        .attr(\"height\", \"15px\")\n                        .attr(\"fill\",\"#ebd9b2\");\n            })\n            .on(\"mouseleave\", function(d) {\n                // Remove tool tip\n                d3.select(d3.event.path[1]).select(\".tool_tip\")\n                    .select(\"text\")\n                        .attr(\"visibility\", \"hidden\");\n\n                d3.select(d3.event.path[1]).select(\".tool_tip\")\n                    .select(\"rect\")\n                        .attr(\"width\", \"0\")\n                        .attr(\"height\", \"0\")\n                        .attr(\"fill\",\"\")\n                        .text(d);\n            });\n\n    // Add a title to the chart\n    chart.append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", function(e) {\n            return \"translate( \" + width + \",15 )\";\n        })\n        .text(title);\n\n    // Add an x axis line to the chart\n    chart.append(\"g\")\n        .attr(\"class\", \"axis\")\n        .append(\"path\")\n            .attr(\"class\", \"x\")\n            .attr(\"d\", function(d) {\n                var m_x = margin.left;\n                var m_y = +margin.top + height;\n                var l_x = m_x + width;\n                var l_y = m_y;\n\n                return \"M\" + m_x + \" \" + m_y + \" L \" + l_x + \" \" + l_y;\n            });\n\n    // Declare how high the y axis goes\n    var y = d3.scale.linear()\n        .range([height, 0]);\n\n    // Create a yAxis object\n    var yAxis = d3.svg.axis()\n        .scale(y)\n        .orient(\"left\")\n        .tickFormat( function(d) { return d3.round( d*d3.max(data), 0 ) });\n\n    // Put the y axis on the chart\n    chart.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"id\", (\"y_\" + name))\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", \"translate( \" + margin.left + \",\" + margin.top + \")\")\n        .call(yAxis)\n            .select(\".domain\");\n\n    // Put a title for y axis on chart\n    chart.append(\"g\")\n        .append(\"text\")\n            .attr(\"class\", \"ax_title\")\n            .attr(\"transform\", function(e) {\n                var axis = d3.select(\"#y_\" + name).node()\n                var left_pad = +margin.left - axis.getBoundingClientRect().width - 5;\n                var top_pad = +margin.top + (axis.getBoundingClientRect().height/2) - 30\n                var trans = \"translate(\" + left_pad + \",\" + top_pad + \")rotate(-90)\";\n\n                return trans;\n            })\n            .text(\"Number of Jobs\");\n\n    // Add color to the chart's bars\n    bar.append(\"rect\")\n        .attr(\"y\", function(d) { return height - (d * zoom); })\n        .attr(\"height\", function(d) { return (d * zoom); })\n        .attr(\"width\", barWidth - 1);\n\n    // Append x axis\n    if(time == \"hours\") {\n        // Append hour lines\n        bar.append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", 3)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( \" + (barWidth/2) + \", \" + height + \")\"\n            });\n\n        // Append hour numbers\n        bar.append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"transform\", \"translate( 10, \" + (height + 10) + \" )\")\n            .text(function(d, i) {\n                var time = \"0000\"\n\n                if( hours_array[i].getHours() < 10 ) {\n                    time = \"0\" + String(hours_array[i].getHours());\n                } else {\n                    time = hours_array[i].getHours();\n                }\n\n                return time;\n            });\n\n        // Append day lines\n        var curr_day = \"\";\n        var first = false;\n        bar.append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", function(d, i) {\n                var _y2 = 0;\n\n                if(hours_array[i].getDate() != curr_day) {\n                    if(!first) {\n                        _y2 = 27;\n                        first = true;\n                    } else {\n                        _y2 = 20;\n                    }\n                    \n                    curr_day = hours_array[i].getDate();\n                }\n\n                return _y2;\n            })\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( 0, \" + height + \")\";\n            });\n\n        // Append day numbers\n        curr_day = \"\";\n        curr_day_text = \"\";\n        first = false;\n        bar.append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"pointer-events\", \"none\")\n            .text(function(d, i) {\n                var time = \"\";\n                var locale = \"en-us\";\n\n                if(hours_array[i].getDate() != curr_day_text) {\n                    time = String(hours_array[i].toLocaleString(locale, { month: \"long\" }));                  \n                    time += \" \" + String(hours_array[i].getDate())\n\n                    curr_day_text = hours_array[i].getDate();\n                }\n\n                return time;\n            })\n            .attr(\"transform\", function(d, i) {\n                var text_height = height;\n                var this_width = d3.select(this).node().getBBox().width;\n\n                if(hours_array[i].getDate() != curr_day) {\n                    if(!first) {\n                        text_height += 26;\n                        first = true;\n                    } else {\n                        text_height += 18;\n                    }\n                    \n                    curr_day = hours_array[i].getDate();\n                }\n\n                return \"translate( \" + (this_width + 2) + \", \" + (text_height) + \" )\"\n            });\n    } else if(time == \"days\") {\n        // Append day lines\n        bar.append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", 3)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( \" + (barWidth/2) + \", \" + height + \")\"\n            });\n\n        // Append day numbers\n        bar.append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"transform\", \"translate( 9, \" + (height + 10) + \" )\")\n            .text(function(d, i) {\n                var time = \"0000\"\n\n                if( days_array[i].getDate() < 10 ) {\n                    time = \"0\" + String(days_array[i].getDate());\n                } else {\n                    time = days_array[i].getDate();\n                }\n\n                return time;\n            });\n\n        // Append month lines\n        var curr_month = \"\";\n        var first = false;\n        bar.append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", function(d, i) {\n                var _y2 = 0;\n\n                if(days_array[i].getMonth() != curr_month) {\n                    if(!first) {\n                        _y2 = 27;\n                        first = true;\n                    } else {\n                        _y2 = 20;\n                    }\n                    \n                    curr_month = days_array[i].getMonth();\n                }\n\n                return _y2;\n            })\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", function(d, i) {\n                return \"translate( 0, \" + height + \")\";\n            });\n\n        // Append month numbers\n        curr_month = \"\";\n        curr_month_text = \"\";\n        first = false;\n        bar.append(\"text\")\n            .attr(\"fill\", \"rgb(0,100,0)\")\n            .attr(\"pointer-events\", \"none\")\n            .text(function(d, i) {\n                var time = \"\";\n                var locale = \"en-us\";\n\n                if(days_array[i].getMonth() != curr_month_text) {\n                    time = String(days_array[i].toLocaleString(locale, { month: \"long\" }));                  \n                    time += \" \" + String(days_array[i].getFullYear())\n\n                    curr_month_text = days_array[i].getMonth();\n                }\n\n                return time;\n            })\n            .attr(\"transform\", function(d, i) {\n                var text_height = height;\n                var this_width = d3.select(this).node().getBBox().width;\n\n                if(days_array[i].getMonth() != curr_month) {\n                    if(!first) {\n                        text_height += 26;\n                        first = true;\n                    } else {\n                        text_height += 18;\n                    }\n                    \n                    curr_month = days_array[i].getMonth();\n                }\n\n                return \"translate( \" + (this_width + 2) + \", \" + (text_height) + \" )\"\n            });\n    }\n\n    // Put an invisible tool tip on the chart\n    chart.append(\"g\")\n        .attr(\"class\", \"tool_tip\")\n        .append(\"rect\");\n    chart.select(\".tool_tip\")\n        .append(\"text\");\n\n    // Initialize initial zoomed charts\n    if(name == \"jc_dy_chart\" || name == \"jc_hr_chart\") {\n        d3.select(\"#\" + name)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom)\n            .style(\"cursor\", \"default\");\n    }\n}\n\n//============================================================================================================\n\nfunction create_histogram( inp_data, name, title ) {\n    // Initialize initial variables\n    // inp_data is an array of numbers that are the amount of minutes per run\n    var data = inp_data;\n\n    var chart_zoom = 1.75;\n    var margin = {top: 60, right: 30, bottom: 50, left: 60};\n\n    var height = 150;\n    var chart_height = height + margin.top + margin.bottom;\n\n    var width = 300;\n    var chart_width = width + margin.left + margin.right;\n\n    // Cereate x axis metadata\n    // Used for x axis, histogram creation, and bar initialization\n    var x = d3.scale.linear()\n        .domain([0, d3.max(data)])\n        .range([0, width]);\n\n    // Generate a histogram using twenty uniformly-spaced bins.\n    var data = d3.layout.histogram()\n        .bins(x.ticks(20))(data);\n\n    // Create an array of the sizes of the bars\n    var lengths = [];\n    for(var i = 0; i < data.length; i ++) {\n        lengths.push(data[i].length)\n    }\n\n    // Find the amount needed to magnify the bars\n    if(d3.max(data) != 0) {\n        var zoom = height / d3.max(lengths);\n    } else {\n        var zoom = 1.0;\n    }\n\n    // Create y axis metadata\n    // Used for y axis and bar initialization\n    var y = d3.scale.linear()\n        .domain([0, d3.max(data, function(d) { return d.y; })])\n        .range([height, 0]);\n\n    // Function for zooming in and out of charts\n    function click() {\n        var classes = d3.select(this).attr(\"class\");\n        classes = classes.split(\" \");\n        d3.selectAll(\".\" + classes[0]).filter(\".\" + classes[1])\n            .style(\"cursor\", \"zoom-in\")\n            .transition()\n                .duration(750)\n                .attr(\"height\", chart_height)\n                .attr(\"width\", chart_width);\n\n        d3.select(this)\n            .style(\"cursor\", \"default\")\n            .transition()\n                .duration(750)\n                .attr(\"height\", chart_height*chart_zoom)\n                .attr(\"width\", chart_width*chart_zoom);\n    }\n\n    // Formatter for x axis times (converting minutes to HH:MM).\n    var formatMinutes = function(d) {\n            hours = Math.floor( d / 60 )\n            minutes = Math.floor(d - (hours * 60))\n\n            if(hours < 10) {\n                hours = \"0\" + hours\n            }\n            if(minutes < 10) {\n                minutes = \"0\" + minutes\n            }\n\n            return hours + \":\" + minutes;\n        };\n\n    // Create a chart object\n    var chart = d3.select(\"#\" + name)\n        .attr(\"viewBox\", \"0 0 \" + chart_width + \" \" + chart_height)\n        .attr(\"width\", chart_width)\n        .attr(\"height\", chart_height)\n        .attr(\"preserveAspectRatio\", \"xMidYMin\")\n        .on(\"click\", click);\n\n    // Put title on chart\n    chart.append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"transform\", function(e) {\n            return \"translate( \" + width + \",15 )\";\n        })\n        .text(title);\n\n    // Put bars on chart\n    var bar = chart.selectAll(\".bar\")\n        .data(data)\n      .enter().append(\"g\")\n        .attr(\"class\", \"bar\")\n        .attr(\"transform\", function(d) {\n            return \"translate(\" + (+x(d.x) + +margin.left) + \",\" + (+y(d.y) + +margin.top) + \")\"; })\n        .on(\"mouseenter\", function(d) {\n            // Show tool tip\n            i = 0;\n            size = d.length;\n\n            while( size >= 1) {\n                size = size / 10;\n                i++;\n            }\n            var wdth = (i * 4) + 10;\n            d3.select(d3.event.path[1]).select(\".tool_tip\")\n                .select(\"text\")\n                    .attr(\"transform\", \"translate( \" + (margin.left - 5) + \", \" + (height - (d.length * zoom) + +margin.top + 10) + \" )\" )\n                    .attr(\"visibility\", \"visible\")\n                    .text(d.length);\n\n            d3.select(d3.event.path[1]).select(\".tool_tip\")\n                .attr(\"width\", wdth + \"px\")\n                .attr(\"height\", \"15px\")\n                .select(\"rect\")\n                    .attr(\"transform\", \"translate( \" + ((+margin.left) - wdth) + \", \" + (height - (d.length * zoom) + +margin.top) + \" )\")\n                    .attr(\"width\", wdth + \"px\")\n                    .attr(\"height\", \"15px\")\n                    .attr(\"fill\",\"#ebd9b2\");\n        })\n        .on(\"mouseleave\", function(d) {\n            // Remove tool tip\n            d3.select(d3.event.path[1]).select(\".tool_tip\")\n                .select(\"text\")\n                    .attr(\"visibility\", \"hidden\");\n\n            d3.select(d3.event.path[1]).select(\".tool_tip\")\n                .select(\"rect\")\n                    .attr(\"width\", \"0\")\n                    .attr(\"height\", \"0\")\n                    .attr(\"fill\",\"\")\n        });\n\n    // Create bar width\n    var bar_x;\n    if(data[0] == undefined) {\n        bar_x = 1;\n    } else {\n        bar_x = x(data[0].dx);\n    }\n\n    // Add color to bar\n    bar.append(\"rect\")\n        .attr(\"x\", 1)\n        .attr(\"width\", bar_x - 1)\n        .attr(\"height\", function(d) { return height - y(d.y); });\n\n    // Create x axis\n    var xAxis = d3.svg.axis()\n        .scale(x)\n        .orient(\"bottom\")\n        .tickFormat(formatMinutes);\n\n    // Add x axis to chart\n    chart.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"id\", \"x_\" + name)\n        .attr(\"transform\", \"translate( \" + margin.left + \",\" + (+height + +margin.top) + \")\")\n        .call(xAxis);\n\n    // Add a title to the x axis\n    chart.append(\"g\")\n        .append(\"text\")\n            .attr(\"class\", \"ax_title\")\n            .attr(\"transform\", function(e) {\n                var axis = d3.select(\"#x_\" + name).node()\n                var left_pad = +margin.left + (axis.getBoundingClientRect().width/2) + 30;\n                var top_pad = +margin.top + height + axis.getBoundingClientRect().height + 10\n                var trans = \"translate(\" + left_pad + \",\" + top_pad + \")\";\n\n                return trans;\n            })\n            .text(\"ETA - hrs:mins\");\n\n    // Create y axis\n    var yAxis = d3.svg.axis()\n        .scale(y)\n        .orient(\"left\");\n\n    // Add y axis to chart\n    chart.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"id\", (\"y_\" + name))\n        .attr(\"transform\", \"translate( \" + margin.left + \",\" + margin.top + \")\")\n        .call(yAxis);\n\n    // Add a title to the y axis\n    chart.append(\"g\")\n        .append(\"text\")\n            .attr(\"class\", \"ax_title\")\n            .attr(\"transform\", function(e) {\n                var axis = d3.select(\"#y_\" + name).node()\n                var left_pad = +margin.left - axis.getBoundingClientRect().width - 5;\n                var top_pad = +margin.top + (axis.getBoundingClientRect().height/2) - 30\n                var trans = \"translate(\" + left_pad + \",\" + top_pad + \")rotate(-90)\";\n\n                return trans;\n            })\n            .text(\"Number of Jobs\");\n\n    // Put an invisible tool tip on the chart\n    chart.append(\"g\")\n        .attr(\"class\", \"tool_tip\")\n        .append(\"rect\");\n    chart.select(\".tool_tip\")\n        .append(\"text\");\n}\n"]}