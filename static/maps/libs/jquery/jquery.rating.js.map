{"version":3,"sources":["libs/jquery/jquery.rating.js"],"names":["window","jQuery","$","support","opacity","style","document","execCommand","e","fn","rating","options","this","length","arguments","args","each","apply","makeArray","slice","extend","calls","not","addClass","control","input","eid","name","replace","context","form","body","raters","data","call","count","rater","metadata","meta","stars","inputs","serial","before","attr","hasClass","readOnly","required","append","cancel","cancelValue","on","removeClass","star","title","value","id","className","half","split","stw","width","starWidth","spi","spw","Math","floor","find","css","margin-left","checked","current","nodeName","hide","event","selfTriggered","focus","tagName","val","blur","fill","prevAll","addBack","filter","drain","children","draw","starson","siblings","select","wantCallBack","undefined","is","lastipt","prop","trigger","type","callback","toggle","disable","removeAttr","enable"],"mappings":"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","file":"../../../scripts/libs/jquery/jquery.rating.js","sourcesContent":["/*\r\n ### jQuery Star Rating Plugin v4.11 - 2013-03-14 ###\r\n * Home: http://www.fyneworks.com/jquery/star-rating/\r\n * Code: http://code.google.com/p/jquery-star-rating-plugin/\r\n *\r\n\t* Licensed under http://en.wikipedia.org/wiki/MIT_License\r\n ###\r\n*/\r\n\r\n/*# AVOID COLLISIONS #*/\r\n;if(window.jQuery) (function($){\r\n/*# AVOID COLLISIONS #*/\r\n\t\r\n\t// IE6 Background Image Fix\r\n\tif ((!$.support.opacity && !$.support.style)) try { document.execCommand(\"BackgroundImageCache\", false, true)} catch(e) { };\r\n\t// Thanks to http://www.visualjquery.com/rating/rating_redux.html\r\n\t\r\n\t// plugin initialization\r\n\t$.fn.rating = function(options){\r\n\t\tif(this.length==0) return this; // quick fail\r\n\t\t\r\n\t\t// Handle API methods\r\n\t\tif(typeof arguments[0]=='string'){\r\n\t\t\t// Perform API methods on individual elements\r\n\t\t\tif(this.length>1){\r\n\t\t\t\tvar args = arguments;\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\t$.fn.rating.apply($(this), args);\r\n    });\r\n\t\t\t};\r\n\t\t\t// Invoke API method handler\r\n\t\t\t$.fn.rating[arguments[0]].apply(this, $.makeArray(arguments).slice(1) || []);\r\n\t\t\t// Quick exit...\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t\r\n\t\t// Initialize options for this call\r\n\t\tvar options = $.extend(\r\n\t\t\t{}/* new object */,\r\n\t\t\t$.fn.rating.options/* default options */,\r\n\t\t\toptions || {} /* just-in-time options */\r\n\t\t);\r\n\t\t\r\n\t\t// Allow multiple controls with the same name by making each call unique\r\n\t\t$.fn.rating.calls++;\r\n\t\t\r\n\t\t// loop through each matched element\r\n\t\tthis\r\n\t\t .not('.star-rating-applied')\r\n\t\t\t.addClass('star-rating-applied')\r\n\t\t.each(function(){\r\n\t\t\t\r\n\t\t\t// Load control parameters / find context / etc\r\n\t\t\tvar control, input = $(this);\r\n\t\t\tvar eid = (this.name || 'unnamed-rating').replace(/\\[|\\]/g, '_').replace(/^\\_+|\\_+$/g,'');\r\n\t\t\tvar context = $(this.form || document.body);\r\n\t\t\t\r\n\t\t\t// FIX: http://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=23\r\n\t\t\tvar raters = context.data('rating');\r\n\t\t\tif(!raters || raters.call!=$.fn.rating.calls) raters = { count:0, call:$.fn.rating.calls };\r\n\t\t\tvar rater = raters[eid] || context.data('rating'+eid);\r\n\t\t\t\r\n\t\t\t// if rater is available, verify that the control still exists\r\n\t\t\tif(rater) control = rater.data('rating');\r\n\t\t\t\r\n\t\t\tif(rater && control)//{// save a byte!\r\n\t\t\t\t// add star to control if rater is available and the same control still exists\r\n\t\t\t\tcontrol.count++;\r\n\t\t\t\t\r\n\t\t\t//}// save a byte!\r\n\t\t\telse{\r\n\t\t\t\t// create new control if first star or control element was removed/replaced\r\n\t\t\t\t\r\n\t\t\t\t// Initialize options for this rater\r\n\t\t\t\tcontrol = $.extend(\r\n\t\t\t\t\t{}/* new object */,\r\n\t\t\t\t\toptions || {} /* current call options */,\r\n\t\t\t\t\t($.metadata? input.metadata(): ($.meta?input.data():null)) || {}, /* metadata options */\r\n\t\t\t\t\t{ count:0, stars: [], inputs: [] }\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\t// increment number of rating controls\r\n\t\t\t\tcontrol.serial = raters.count++;\r\n\t\t\t\t\r\n\t\t\t\t// create rating element\r\n\t\t\t\trater = $('<span class=\"star-rating-control\"/>');\r\n\t\t\t\tinput.before(rater);\r\n\t\t\t\t\r\n\t\t\t\t// Mark element for initialization (once all stars are ready)\r\n\t\t\t\trater.addClass('rating-to-be-drawn');\r\n\t\t\t\t\r\n\t\t\t\t// Accept readOnly setting from 'disabled' property\r\n\t\t\t\tif(input.attr('disabled') || input.hasClass('disabled')) control.readOnly = true;\r\n\t\t\t\t\r\n\t\t\t\t// Accept required setting from class property (class='required')\r\n\t\t\t\tif(input.hasClass('required')) control.required = true;\r\n\t\t\t\t\r\n\t\t\t\t// Create 'cancel' button\r\n\t\t\t\trater.append(\r\n\t\t\t\t\tcontrol.cancel = $('<div class=\"rating-cancel\"><a title=\"' + control.cancel + '\">' + control.cancelValue + '</a></div>')\r\n\t\t\t\t\t.on('mouseover',function(){\r\n\t\t\t\t\t\t$(this).rating('drain');\r\n\t\t\t\t\t\t$(this).addClass('star-rating-hover');\r\n\t\t\t\t\t\t//$(this).rating('focus');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('mouseout',function(){\r\n\t\t\t\t\t\t$(this).rating('draw');\r\n\t\t\t\t\t\t$(this).removeClass('star-rating-hover');\r\n\t\t\t\t\t\t//$(this).rating('blur');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('click',function(){\r\n\t\t\t\t\t $(this).rating('select');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.data('rating', control)\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t}; // first element of group\r\n\t\t\t\r\n\t\t\t// insert rating star (thanks Jan Fanslau rev125 for blind support https://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=125)\r\n\t\t\tvar star = $('<div role=\"text\" aria-label=\"'+ this.title +'\" class=\"star-rating rater-'+ control.serial +'\"><a title=\"' + (this.title || this.value) + '\">' + this.value + '</a></div>');\r\n\t\t\trater.append(star);\r\n\t\t\t\r\n\t\t\t// inherit attributes from input element\r\n\t\t\tif(this.id) star.attr('id', this.id);\r\n\t\t\tif(this.className) star.addClass(this.className);\r\n\t\t\t\r\n\t\t\t// Half-stars?\r\n\t\t\tif(control.half) control.split = 2;\r\n\t\t\t\r\n\t\t\t// Prepare division control\r\n\t\t\tif(typeof control.split=='number' && control.split>0){\r\n\t\t\t\tvar stw = ($.fn.width ? star.width() : 0) || control.starWidth;\r\n\t\t\t\tvar spi = (control.count % control.split), spw = Math.floor(stw/control.split);\r\n\t\t\t\tstar\r\n\t\t\t\t// restrict star's width and hide overflow (already in CSS)\r\n\t\t\t\t.width(spw)\r\n\t\t\t\t// move the star left by using a negative margin\r\n\t\t\t\t// this is work-around to IE's stupid box model (position:relative doesn't work)\r\n\t\t\t\t.find('a').css({ 'margin-left':'-'+ (spi*spw) +'px' })\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// readOnly?\r\n\t\t\tif(control.readOnly)//{ //save a byte!\r\n\t\t\t\t// Mark star as readOnly so user can customize display\r\n\t\t\t\tstar.addClass('star-rating-readonly');\r\n\t\t\t//}  //save a byte!\r\n\t\t\telse//{ //save a byte!\r\n\t\t\t // Enable hover css effects\r\n\t\t\t\tstar.addClass('star-rating-live')\r\n\t\t\t\t // Attach mouse events\r\n\t\t\t\t\t.on('mouseover',function(){\r\n\t\t\t\t\t\t$(this).rating('fill');\r\n\t\t\t\t\t\t$(this).rating('focus');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('mouseout',function(){\r\n\t\t\t\t\t\t$(this).rating('draw');\r\n\t\t\t\t\t\t$(this).rating('blur');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('click',function(){\r\n\t\t\t\t\t\t$(this).rating('select');\r\n\t\t\t\t\t})\r\n\t\t\t\t;\r\n\t\t\t//}; //save a byte!\r\n\t\t\t\r\n\t\t\t// set current selection\r\n\t\t\tif(this.checked)\tcontrol.current = star;\r\n\t\t\t\r\n\t\t\t// set current select for links\r\n\t\t\tif(this.nodeName==\"A\"){\r\n    if($(this).hasClass('selected'))\r\n     control.current = star;\r\n   };\r\n\t\t\t\r\n\t\t\t// hide input element\r\n\t\t\tinput.hide();\r\n\t\t\t\r\n\t\t\t// backward compatibility, form element to plugin\r\n\t\t\tinput.on('change.rating',function(event){\r\n\t\t\t\tif(event.selfTriggered) return false;\r\n    $(this).rating('select');\r\n   });\r\n\t\t\t\r\n\t\t\t// attach reference to star to input element and vice-versa\r\n\t\t\tstar.data('rating.input', input.data('rating.star', star));\r\n\t\t\t\r\n\t\t\t// store control information in form (or body when form not available)\r\n\t\t\tcontrol.stars[control.stars.length] = star[0];\r\n\t\t\tcontrol.inputs[control.inputs.length] = input[0];\r\n\t\t\tcontrol.rater = raters[eid] = rater;\r\n\t\t\tcontrol.context = context;\r\n\t\t\t\r\n\t\t\tinput.data('rating', control);\r\n\t\t\trater.data('rating', control);\r\n\t\t\tstar.data('rating', control);\r\n\t\t\tcontext.data('rating', raters);\r\n\t\t\tcontext.data('rating'+eid, rater); // required for ajax forms\r\n  }); // each element\r\n\t\t\r\n\t\t// Initialize ratings (first draw)\r\n\t\t$('.rating-to-be-drawn').rating('draw').removeClass('rating-to-be-drawn');\r\n\t\t\r\n\t\treturn this; // don't break the chain...\r\n\t};\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Core functionality and API ###\r\n\t*/\r\n\t$.extend($.fn.rating, {\r\n\t\t// Used to append a unique serial number to internal control ID\r\n\t\t// each time the plugin is invoked so same name controls can co-exist\r\n\t\tcalls: 0,\r\n\t\t\r\n\t\tfocus: function(){\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\tif(!control.focus) return this; // quick fail if not required\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $(this).data('rating.input') || $( this.tagName=='INPUT' ? this : null );\r\n   // focus handler, as requested by focusdigital.co.uk\r\n\t\t\tif(control.focus) control.focus.apply(input[0], [input.val(), $('a', input.data('rating.star'))[0]]);\r\n\t\t}, // $.fn.rating.focus\r\n\t\t\r\n\t\tblur: function(){\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\tif(!control.blur) return this; // quick fail if not required\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $(this).data('rating.input') || $( this.tagName=='INPUT' ? this : null );\r\n   // blur handler, as requested by focusdigital.co.uk\r\n\t\t\tif(control.blur) control.blur.apply(input[0], [input.val(), $('a', input.data('rating.star'))[0]]);\r\n\t\t}, // $.fn.rating.blur\r\n\t\t\r\n\t\tfill: function(){ // fill to the current mouse position.\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// Reset all stars and highlight them up to this element\r\n\t\t\tthis.rating('drain');\r\n\t\t\tthis.prevAll().addBack().filter('.rater-'+ control.serial).addClass('star-rating-hover');\r\n\t\t},// $.fn.rating.fill\r\n\t\t\r\n\t\tdrain: function() { // drain all the stars.\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// Reset all stars\r\n\t\t\tcontrol.rater.children().filter('.rater-'+ control.serial).removeClass('star-rating-on').removeClass('star-rating-hover');\r\n\t\t},// $.fn.rating.drain\r\n\t\t\r\n\t\tdraw: function(){ // set value and stars to reflect current selection\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// Clear all stars\r\n\t\t\tthis.rating('drain');\r\n\t\t\t// Set control value\r\n\t\t\tvar current = $( control.current );//? control.current.data('rating.input') : null );\r\n\t\t\tvar starson = current.length ? current.prevAll().addBack().filter('.rater-'+ control.serial) : null;\r\n\t\t\tif(starson)\tstarson.addClass('star-rating-on');\r\n\t\t\t// Show/hide 'cancel' button\r\n\t\t\tcontrol.cancel[control.readOnly || control.required?'hide':'show']();\r\n\t\t\t// Add/remove read-only classes to remove hand pointer\r\n\t\t\tthis.siblings()[control.readOnly?'addClass':'removeClass']('star-rating-readonly');\r\n\t\t},// $.fn.rating.draw\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tselect: function(value,wantCallBack){ // select a value\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// clear selection\r\n\t\t\tcontrol.current = null;\r\n\t\t\t// programmatically (based on user input)\r\n\t\t\tif(typeof value!='undefined' || this.length>1){\r\n\t\t\t // select by index (0 based)\r\n\t\t\t\tif(typeof value=='number')\r\n \t\t\t return $(control.stars[value]).rating('select',undefined,wantCallBack);\r\n\t\t\t\t// select by literal value (must be passed as a string\r\n\t\t\t\tif(typeof value=='string'){\r\n\t\t\t\t\t//return\r\n\t\t\t\t\t$.each(control.stars, function(){\r\n \t\t\t\t\t//console.log($(this).data('rating.input'), $(this).data('rating.input').val(), value, $(this).data('rating.input').val()==value?'BINGO!':'');\r\n\t\t\t\t\t\tif($(this).data('rating.input').val()==value) $(this).rating('select',undefined,wantCallBack);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// don't break the chain\r\n  \t\t\treturn this;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcontrol.current = this[0].tagName=='INPUT' ?\r\n\t\t\t\t this.data('rating.star') :\r\n\t\t\t\t\t(this.is('.rater-'+ control.serial) ? this : null);\r\n\t\t\t};\r\n\t\t\t// Update rating control state\r\n\t\t\tthis.data('rating', control);\r\n\t\t\t// Update display\r\n\t\t\tthis.rating('draw');\r\n\t\t\t// find current input and its siblings\r\n\t\t\tvar current = $( control.current ? control.current.data('rating.input') : null );\r\n\t\t\tvar lastipt = $( control.inputs ).filter(':checked');\r\n\t\t\tvar deadipt = $( control.inputs ).not(current);\r\n\t\t\t// check and uncheck elements as required\r\n\t\t\tdeadipt.prop('checked',false);//.removeAttr('checked');\r\n\t\t\tcurrent.prop('checked',true);//.attr('checked','checked');\r\n\t\t\t// trigger change on current or last selected input\r\n\t\t\t$(current.length? current : lastipt ).trigger({ type:'change', selfTriggered:true });\r\n\t\t\t// click callback, as requested here: http://plugins.jquery.com/node/1655\r\n\t\t\tif((wantCallBack || wantCallBack == undefined) && control.callback) control.callback.apply(current[0], [current.val(), $('a', control.current)[0]]);// callback event\r\n\t\t\t// don't break the chain\r\n\t\t\treturn this;\r\n  },// $.fn.rating.select\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treadOnly: function(toggle, disable){ // make the control read-only (still submits value)\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// setread-only status\r\n\t\t\tcontrol.readOnly = toggle || toggle==undefined ? true : false;\r\n\t\t\t// enable/disable control value submission\r\n\t\t\tif(disable) $(control.inputs).attr(\"disabled\", \"disabled\");\r\n\t\t\telse     \t\t\t$(control.inputs).removeAttr(\"disabled\");\r\n\t\t\t// Update rating control state\r\n\t\t\tthis.data('rating', control);\r\n\t\t\t// Update display\r\n\t\t\tthis.rating('draw');\r\n\t\t},// $.fn.rating.readOnly\r\n\t\t\r\n\t\tdisable: function(){ // make read-only and never submit value\r\n\t\t\tthis.rating('readOnly', true, true);\r\n\t\t},// $.fn.rating.disable\r\n\t\t\r\n\t\tenable: function(){ // make read/write and submit value\r\n\t\t\tthis.rating('readOnly', false, false);\r\n\t\t}// $.fn.rating.select\r\n\t\t\r\n });\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Default Settings ###\r\n\t\teg.: You can override default control like this:\r\n\t\t$.fn.rating.options.cancel = 'Clear';\r\n\t*/\r\n\t$.fn.rating.options = { //$.extend($.fn.rating, { options: {\r\n\t\t\tcancel: 'Cancel Rating',   // advisory title for the 'cancel' link\r\n\t\t\tcancelValue: '',           // value to submit when user click the 'cancel' link\r\n\t\t\tsplit: 0,                  // split the star into how many parts?\r\n\t\t\t\r\n\t\t\t// Width of star image in case the plugin can't work it out. This can happen if\r\n\t\t\t// the jQuery.dimensions plugin is not available OR the image is hidden at installation\r\n\t\t\tstarWidth: 16//,\r\n\t\t\t\r\n\t\t\t//NB.: These don't need to be pre-defined (can be undefined/null) so let's save some code!\r\n\t\t\t//half:     false,         // just a shortcut to control.split = 2\r\n\t\t\t//required: false,         // disables the 'cancel' button so user can only select one of the specified values\r\n\t\t\t//readOnly: false,         // disable rating plugin interaction/ values cannot be.one('change',\t\t//focus:    function(){},  // executed when stars are focused\r\n\t\t\t//blur:     function(){},  // executed when stars are focused\r\n\t\t\t//callback: function(){},  // executed when a star is clicked\r\n }; //} });\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t\r\n\t  // auto-initialize plugin\r\n\t\t\t\t$(function(){\r\n\t\t\t\t $('input[type=radio].star').rating();\r\n\t\t\t\t});\r\n\t\r\n\t\r\n/*# AVOID COLLISIONS #*/\r\n})(jQuery);\r\n/*# AVOID COLLISIONS #*/\r\n"]}