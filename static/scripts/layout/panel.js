define(["jquery"],function(a){"use strict";var b=a,c=160,d=800,e=function(a){this.$panel=a.panel,this.$center=a.center,this.$drag=a.drag,this.$toggle=a.toggle,this.left=!a.right,this.hidden=!1,this.hidden_by_tool=!1,this.saved_size=null,this.init()};return b.extend(e.prototype,{resize:function(a){this.$panel.css("width",a),this.left?this.$center.css("left",a):this.$center.css("right",a),document.recalc&&document.recalc()},do_toggle:function(){var a=this;this.hidden?(this.$toggle.removeClass("hidden"),this.left?this.$panel.css("left",-this.saved_size).show().animate({left:0},"fast",function(){a.resize(a.saved_size)}):this.$panel.css("right",-this.saved_size).show().animate({right:0},"fast",function(){a.resize(a.saved_size)}),a.hidden=!1):(a.saved_size=this.$panel.width(),document.recalc&&document.recalc(),this.left?this.$panel.animate({left:-this.saved_size},"fast"):this.$panel.animate({right:-this.saved_size},"fast"),this.left?this.$center.css("left",0):this.$center.css("right",0),a.hidden=!0,a.$toggle.addClass("hidden")),this.hidden_by_tool=!1},handle_minwidth_hint:function(a){var b=this.$center.width()-(this.hidden?this.saved_size:0);a>b?this.hidden||(this.do_toggle(),this.hidden_by_tool=!0):this.hidden_by_tool&&(this.do_toggle(),this.hidden_by_tool=!1)},force_panel:function(a){(this.hidden&&"show"==a||!this.hidden&&"hide"==a)&&this.do_toggle()},init:function(){function a(a){var b=a.pageX-e;e=a.pageX;var g=f.$panel.width(),h=f.left?g+b:g-b;h=Math.min(d,Math.max(c,h)),f.resize(h)}var e,f=this;f.$toggle.remove().appendTo("body"),f.$toggle.on("click",function(){f.do_toggle()}),this.$drag.on("mousedown",function(c){e=c.pageX,b("#DD-helper").show().on("mousemove",a).one("mouseup",function(){b(this).hide().off("mousemove",a)})}),window.force_left_panel=function(a){f.force_panel(a)},window.handle_minwidth_hint=function(a){f.handle_minwidth_hint(a)}}}),e});
//# sourceMappingURL=../../maps/layout/panel.js.map