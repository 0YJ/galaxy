!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Raven=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a){this.name="RavenConfigError",this.message=a}c.prototype=new Error,c.prototype.constructor=c,b.exports=c},{}],2:[function(a,b){var c=function(a,b,c){var d=a[b],e=a;if(b in a){var f="warn"===b?"warning":b;a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:f,logger:"console",extra:{arguments:a}};"assert"===b?a[0]===!1&&(g="Assertion failed: "+(a.slice(1).join(" ")||"console.assert"),h.extra.arguments=a.slice(1),c&&c(g,h)):c&&c(g,h),d&&Function.prototype.apply.call(d,e,a)}}};b.exports={wrapMethod:c}},{}],3:[function(a,b){(function(c){function d(){return+new Date}function e(a,b){return h(b)?function(c){return b(c,a)}:b}function f(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!g(J),this._hasNavigator=!g(K),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=I.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=d(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=I.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var a in this._originalConsole)this._originalConsoleMethods[a]=this._originalConsole[a]}function g(a){return void 0===a}function h(a){return"function"==typeof a}function i(a){return"[object String]"===L.toString.call(a)}function j(a){for(var b in a)return!1;return!0}function k(a,b){var c,d;if(g(a.length))for(c in a)o(a,c)&&b.call(null,c,a[c]);else if(d=a.length)for(c=0;d>c;c++)b.call(null,c,a[c])}function l(a,b){return b?(k(b,function(b,c){a[b]=c}),a):a}function m(a){return Object.isFrozen?Object.isFrozen(a):!1}function n(a,b){return!b||a.length<=b?a:a.substr(0,b)+"â€¦"}function o(a,b){return L.hasOwnProperty.call(a,b)}function p(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],i(b)?c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")}function q(a){var b=[];return k(a,function(a,c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}),b.join("&")}function r(a){var b=a.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!b)return{};var c=b[6]||"",d=b[8]||"";return{protocol:b[2],host:b[4],path:b[5],relative:b[5]+c+d}}function s(){var a=I.crypto||I.msCrypto;if(!g(a)&&a.getRandomValues){var b=new Uint16Array(8);a.getRandomValues(b),b[3]=4095&b[3]|16384,b[4]=16383&b[4]|32768;var c=function(a){for(var b=a.toString(16);b.length<4;)b="0"+b;return b};return c(b[0])+c(b[1])+c(b[2])+c(b[3])+c(b[4])+c(b[5])+c(b[6])+c(b[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function t(a){for(var b,c=5,d=80,e=[],f=0,g=0,h=" > ",i=h.length;a&&f++<c&&(b=u(a),!("html"===b||f>1&&g+e.length*i+b.length>=d));)e.push(b),g+=b.length,a=a.parentNode;return e.reverse().join(h)}function u(a){var b,c,d,e,f,g=[];if(!a||!a.tagName)return"";if(g.push(a.tagName.toLowerCase()),a.id&&g.push("#"+a.id),b=a.className,b&&i(b))for(c=b.split(/\s+/),f=0;f<c.length;f++)g.push("."+c[f]);var h=["type","name","title","alt"];for(f=0;f<h.length;f++)d=h[f],e=a.getAttribute(d),e&&g.push("["+d+'="'+e+'"]');return g.join("")}function v(a,b){return!!(!!a^!!b)}function w(a,b){return v(a,b)?!1:(a=a.values[0],b=b.values[0],a.type!==b.type||a.value!==b.value?!1:x(a.stacktrace,b.stacktrace))}function x(a,b){if(v(a,b))return!1;var c=a.frames,d=b.frames;if(c.length!==d.length)return!1;for(var e,f,g=0;g<c.length;g++)if(e=c[g],f=d[g],e.filename!==f.filename||e.lineno!==f.lineno||e.colno!==f.colno||e.function!==f.function)return!1;return!0}function y(a,b,c,d){var e=a[b];a[b]=c(e),d&&d.push([a,b,e])}var z=a(6),A=a(7),B=a(1),C=a(5),D=C.isError,E=C.isObject,F=a(2).wrapMethod,G="source protocol user pass host port path".split(" "),H=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,I="undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{},J=I.document,K=I.navigator;f.prototype={VERSION:"3.18.1",debug:!1,TraceKit:z,config:function(a,b){var c=this;if(c._globalServer)return this._logDebug("error","Error: Raven has already been configured"),c;if(!a)return c;var d=c._globalOptions;b&&k(b,function(a,b){"tags"===a||"extra"===a||"user"===a?c._globalContext[a]=b:d[a]=b}),c.setDSN(a),d.ignoreErrors.push(/^Script error\.?$/),d.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),d.ignoreErrors=p(d.ignoreErrors),d.ignoreUrls=d.ignoreUrls.length?p(d.ignoreUrls):!1,d.whitelistUrls=d.whitelistUrls.length?p(d.whitelistUrls):!1,d.includePaths=p(d.includePaths),d.maxBreadcrumbs=Math.max(0,Math.min(d.maxBreadcrumbs||100,100));var e={xhr:!0,console:!0,dom:!0,location:!0},f=d.autoBreadcrumbs;"[object Object]"==={}.toString.call(f)?f=l(e,f):f!==!1&&(f=e),d.autoBreadcrumbs=f;var g={tryCatch:!0},h=d.instrument;return"[object Object]"==={}.toString.call(h)?h=l(g,h):h!==!1&&(h=g),d.instrument=h,z.collectWindowErrors=!!d.collectWindowErrors,c},install:function(){var a=this;return a.isSetup()&&!a._isRavenInstalled&&(z.report.subscribe(function(){a._handleOnErrorStackInfo.apply(a,arguments)}),a._globalOptions.instrument&&a._globalOptions.instrument.tryCatch&&a._instrumentTryCatch(),a._globalOptions.autoBreadcrumbs&&a._instrumentBreadcrumbs(),a._drainPlugins(),a._isRavenInstalled=!0),Error.stackTraceLimit=a._globalOptions.stackTraceLimit,this},setDSN:function(a){var b=this,c=b._parseDSN(a),d=c.path.lastIndexOf("/"),e=c.path.substr(1,d);b._dsn=a,b._globalKey=c.user,b._globalSecret=c.pass&&c.pass.substr(1),b._globalProject=c.path.substr(d+1),b._globalServer=b._getGlobalServer(c),b._globalEndpoint=b._globalServer+"/"+e+"api/"+b._globalProject+"/store/",this._resetBackoff()},context:function(a,b,c){return h(a)&&(c=b||[],b=a,a=void 0),this.wrap(a,b).apply(this,c)},wrap:function(a,b,c){function d(){var d=[],f=arguments.length,g=!a||a&&a.deep!==!1;for(c&&h(c)&&c.apply(this,arguments);f--;)d[f]=g?e.wrap(a,arguments[f]):arguments[f];try{return b.apply(this,d)}catch(i){throw e._ignoreNextOnError(),e.captureException(i,a),i}}var e=this;if(g(b)&&!h(a))return a;if(h(a)&&(b=a,a=void 0),!h(b))return b;try{if(b.__raven__)return b;if(b.__raven_wrapper__)return b.__raven_wrapper__}catch(f){return b}for(var i in b)o(b,i)&&(d[i]=b[i]);return d.prototype=b.prototype,b.__raven_wrapper__=d,d.__raven__=!0,d.__inner__=b,d},uninstall:function(){return z.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(a,b){if(!D(a))return this.captureMessage(a,l({trimHeadFrames:1,stacktrace:!0},b));this._lastCapturedException=a;try{var c=z.computeStackTrace(a);this._handleStackInfo(c,b)}catch(d){if(a!==d)throw d}return this},captureMessage:function(a,b){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(a)){b=b||{};var c=l({message:a+""},b);if(this._globalOptions.stacktrace||b&&b.stacktrace){var d;try{throw new Error(a)}catch(e){d=e}d.name=null,b=l({fingerprint:a,trimHeadFrames:(b.trimHeadFrames||0)+1},b);var f=z.computeStackTrace(d),g=this._prepareFrames(f,b);c.stacktrace={frames:g.reverse()}}return this._send(c),this}},captureBreadcrumb:function(a){var b=l({timestamp:d()/1e3},a);if(h(this._globalOptions.breadcrumbCallback)){var c=this._globalOptions.breadcrumbCallback(b);if(E(c)&&!j(c))b=c;else if(c===!1)return this}return this._breadcrumbs.push(b),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(a){var b=[].slice.call(arguments,1);return this._plugins.push([a,b]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(a){return this._globalContext.user=a,this},setExtraContext:function(a){return this._mergeContext("extra",a),this},setTagsContext:function(a){return this._mergeContext("tags",a),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(A(this._globalContext))},setEnvironment:function(a){return this._globalOptions.environment=a,this},setRelease:function(a){return this._globalOptions.release=a,this},setDataCallback:function(a){var b=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=e(b,a),this},setBreadcrumbCallback:function(a){var b=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=e(b,a),this},setShouldSendCallback:function(a){var b=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=e(b,a),this},setTransport:function(a){return this._globalOptions.transport=a,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return this._hasJSON?this._globalServer?!0:(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1):!1},afterLoad:function(){var a=I.RavenConfig;a&&this.config(a.dsn,a.config).install()},showReportDialog:function(a){if(J){a=a||{};var b=a.eventId||this.lastEventId();if(!b)throw new B("Missing eventId");var c=a.dsn||this._dsn;if(!c)throw new B("Missing DSN");var d=encodeURIComponent,e="";e+="?eventId="+d(b),e+="&dsn="+d(c);var f=a.user||this._globalContext.user;f&&(f.name&&(e+="&name="+d(f.name)),f.email&&(e+="&email="+d(f.email)));var g=this._getGlobalServer(this._parseDSN(c)),h=J.createElement("script");h.async=!0,h.src=g+"/api/embed/error-page/"+e,(J.head||J.body).appendChild(h)}},_ignoreNextOnError:function(){var a=this;this._ignoreOnError+=1,setTimeout(function(){a._ignoreOnError-=1})},_triggerEvent:function(a,b){var c,d;if(this._hasDocument){b=b||{},a="raven"+a.substr(0,1).toUpperCase()+a.substr(1),J.createEvent?(c=J.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=J.createEventObject(),c.eventType=a);for(d in b)o(b,d)&&(c[d]=b[d]);if(J.createEvent)J.dispatchEvent(c);else try{J.fireEvent("on"+c.eventType.toLowerCase(),c)}catch(e){}}},_breadcrumbEventHandler:function(a){var b=this;return function(c){if(b._keypressTimeout=null,b._lastCapturedEvent!==c){b._lastCapturedEvent=c;var d;try{d=t(c.target)}catch(e){d="<unknown>"}b.captureBreadcrumb({category:"ui."+a,message:d})}}},_keypressEventHandler:function(){var a=this,b=1e3;return function(c){var d;try{d=c.target}catch(e){return}var f=d&&d.tagName;if(f&&("INPUT"===f||"TEXTAREA"===f||d.isContentEditable)){var g=a._keypressTimeout;g||a._breadcrumbEventHandler("input")(c),clearTimeout(g),a._keypressTimeout=setTimeout(function(){a._keypressTimeout=null},b)}}},_captureUrlChange:function(a,b){var c=r(this._location.href),d=r(b),e=r(a);this._lastHref=b,c.protocol===d.protocol&&c.host===d.host&&(b=d.relative),c.protocol===e.protocol&&c.host===e.host&&(a=e.relative),this.captureBreadcrumb({category:"navigation",data:{to:b,from:a}})},_instrumentTryCatch:function(){function a(a){return function(){for(var b=new Array(arguments.length),d=0;d<b.length;++d)b[d]=arguments[d];var e=b[0];return h(e)&&(b[0]=c.wrap(e)),a.apply?a.apply(this,b):a(b[0],b[1])}}function b(a){var b=I[a]&&I[a].prototype;b&&b.hasOwnProperty&&b.hasOwnProperty("addEventListener")&&(y(b,"addEventListener",function(b){return function(d,f,g,h){try{f&&f.handleEvent&&(f.handleEvent=c.wrap(f.handleEvent))}catch(i){}var j,k,l;return e&&e.dom&&("EventTarget"===a||"Node"===a)&&(k=c._breadcrumbEventHandler("click"),l=c._keypressEventHandler(),j=function(a){if(a){var b;try{b=a.type}catch(c){return}return"click"===b?k(a):"keypress"===b?l(a):void 0}}),b.call(this,d,c.wrap(f,void 0,j),g,h)}},d),y(b,"removeEventListener",function(a){return function(b,c,d,e){try{c=c&&(c.__raven_wrapper__?c.__raven_wrapper__:c)}catch(f){}return a.call(this,b,c,d,e)}},d))}var c=this,d=c._wrappedBuiltIns,e=this._globalOptions.autoBreadcrumbs;y(I,"setTimeout",a,d),y(I,"setInterval",a,d),I.requestAnimationFrame&&y(I,"requestAnimationFrame",function(a){return function(b){return a(c.wrap(b))}},d);for(var f=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],g=0;g<f.length;g++)b(f[g])},_instrumentBreadcrumbs:function(){function a(a,c){a in c&&h(c[a])&&y(c,a,function(a){return b.wrap(a)})}var b=this,c=this._globalOptions.autoBreadcrumbs,d=b._wrappedBuiltIns;if(c.xhr&&"XMLHttpRequest"in I){var e=XMLHttpRequest.prototype;y(e,"open",function(a){return function(c,d){return i(d)&&-1===d.indexOf(b._globalKey)&&(this.__raven_xhr={method:c,url:d,status_code:null}),a.apply(this,arguments)}},d),y(e,"send",function(c){return function(){function d(){if(e.__raven_xhr&&4===e.readyState){try{e.__raven_xhr.status_code=e.status}catch(a){}b.captureBreadcrumb({type:"http",category:"xhr",data:e.__raven_xhr})}}for(var e=this,f=["onload","onerror","onprogress"],g=0;g<f.length;g++)a(f[g],e);return"onreadystatechange"in e&&h(e.onreadystatechange)?y(e,"onreadystatechange",function(a){return b.wrap(a,void 0,d)}):e.onreadystatechange=d,c.apply(this,arguments)}},d)}c.xhr&&"fetch"in I&&y(I,"fetch",function(a){return function(){for(var c=new Array(arguments.length),d=0;d<c.length;++d)c[d]=arguments[d];var e,f=c[0],g="GET";"string"==typeof f?e=f:(e=f.url,f.method&&(g=f.method)),c[1]&&c[1].method&&(g=c[1].method);var h={method:g,url:e,status_code:null};return b.captureBreadcrumb({type:"http",category:"fetch",data:h}),a.apply(this,c).then(function(a){return h.status_code=a.status,a})}},d),c.dom&&this._hasDocument&&(J.addEventListener?(J.addEventListener("click",b._breadcrumbEventHandler("click"),!1),J.addEventListener("keypress",b._keypressEventHandler(),!1)):(J.attachEvent("onclick",b._breadcrumbEventHandler("click")),J.attachEvent("onkeypress",b._keypressEventHandler())));var f=I.chrome,g=f&&f.app&&f.app.runtime,j=!g&&I.history&&history.pushState;if(c.location&&j){var l=I.onpopstate;I.onpopstate=function(){var a=b._location.href;return b._captureUrlChange(b._lastHref,a),l?l.apply(this,arguments):void 0},y(history,"pushState",function(a){return function(){var c=arguments.length>2?arguments[2]:void 0;return c&&b._captureUrlChange(b._lastHref,c+""),a.apply(this,arguments)}},d)}if(c.console&&"console"in I&&console.log){var m=function(a,c){b.captureBreadcrumb({message:a,level:c.level,category:"console"})};k(["debug","info","warn","error","log"],function(a,b){F(console,b,m)})}},_restoreBuiltIns:function(){for(var a;this._wrappedBuiltIns.length;){a=this._wrappedBuiltIns.shift();var b=a[0],c=a[1],d=a[2];b[c]=d}},_drainPlugins:function(){var a=this;k(this._plugins,function(b,c){var d=c[0],e=c[1];d.apply(a,[a].concat(e))})},_parseDSN:function(a){var b=H.exec(a),c={},d=7;try{for(;d--;)c[G[d]]=b[d]||""}catch(e){throw new B("Invalid DSN: "+a)}if(c.pass&&!this._globalOptions.allowSecretKey)throw new B("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return c},_getGlobalServer:function(a){var b="//"+a.host+(a.port?":"+a.port:"");return a.protocol&&(b=a.protocol+":"+b),b},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(a,b){var c=this._prepareFrames(a,b);this._triggerEvent("handle",{stackInfo:a,options:b}),this._processException(a.name,a.message,a.url,a.lineno,c,b)},_prepareFrames:function(a,b){var c=this,d=[];if(a.stack&&a.stack.length&&(k(a.stack,function(b,e){var f=c._normalizeFrame(e,a.url);f&&d.push(f)}),b&&b.trimHeadFrames))for(var e=0;e<b.trimHeadFrames&&e<d.length;e++)d[e].in_app=!1;return d=d.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(a,b){var c={filename:a.url,lineno:a.line,colno:a.column,"function":a.func||"?"};return a.url||(c.filename=b),c.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(c.filename)||/(Raven|TraceKit)\./.test(c.function)||/raven\.(min\.)?js$/.test(c.filename)),c},_processException:function(a,b,c,d,e,f){var g=(a||"")+": "+(b||"");if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(g)){var h;if(e&&e.length?(c=e[0].filename||c,e.reverse(),h={frames:e}):c&&(h={frames:[{filename:c,lineno:d,in_app:!0}]}),!(this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(c)||this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(c))){var i=l({exception:{values:[{type:a,value:b,stacktrace:h}]},culprit:c},f);this._send(i)}}},_trimPacket:function(a){var b=this._globalOptions.maxMessageLength;if(a.message&&(a.message=n(a.message,b)),a.exception){var c=a.exception.values[0];c.value=n(c.value,b)}var d=a.request;return d&&(d.url&&(d.url=n(d.url,this._globalOptions.maxUrlLength)),d.Referer&&(d.Referer=n(d.Referer,this._globalOptions.maxUrlLength))),a.breadcrumbs&&a.breadcrumbs.values&&this._trimBreadcrumbs(a.breadcrumbs),a},_trimBreadcrumbs:function(a){for(var b,c,d,e=["to","from","url"],f=0;f<a.values.length;++f)if(c=a.values[f],c.hasOwnProperty("data")&&E(c.data)&&!m(c.data)){d=l({},c.data);for(var g=0;g<e.length;++g)b=e[g],d.hasOwnProperty(b)&&d[b]&&(d[b]=n(d[b],this._globalOptions.maxUrlLength));a.values[f].data=d}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var a={};return this._hasNavigator&&K.userAgent&&(a.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(J.location&&J.location.href&&(a.url=J.location.href),J.referrer&&(a.headers||(a.headers={}),a.headers.Referer=J.referrer)),a}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&d()-this._backoffStart<this._backoffDuration},_isRepeatData:function(a){var b=this._lastData;return b&&a.message===b.message&&a.culprit===b.culprit?a.stacktrace||b.stacktrace?x(a.stacktrace,b.stacktrace):a.exception||b.exception?w(a.exception,b.exception):!0:!1},_setBackoffState:function(a){if(!this._shouldBackoff()){var b=a.status;if(400===b||401===b||429===b){var c;try{c=a.getResponseHeader("Retry-After"),c=1e3*parseInt(c,10)}catch(e){}this._backoffDuration=c?c:2*this._backoffDuration||1e3,this._backoffStart=d()}}},_send:function(a){var b=this._globalOptions,c={project:this._globalProject,logger:b.logger,platform:"javascript"},e=this._getHttpData();return e&&(c.request=e),a.trimHeadFrames&&delete a.trimHeadFrames,a=l(c,a),a.tags=l(l({},this._globalContext.tags),a.tags),a.extra=l(l({},this._globalContext.extra),a.extra),a.extra["session:duration"]=d()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(a.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),j(a.tags)&&delete a.tags,this._globalContext.user&&(a.user=this._globalContext.user),b.environment&&(a.environment=b.environment),b.release&&(a.release=b.release),b.serverName&&(a.server_name=b.serverName),h(b.dataCallback)&&(a=b.dataCallback(a)||a),!a||j(a)||h(b.shouldSendCallback)&&!b.shouldSendCallback(a)?void 0:this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",a):void("number"==typeof b.sampleRate?Math.random()<b.sampleRate&&this._sendProcessedPayload(a):this._sendProcessedPayload(a))},_getUuid:function(){return s()},_sendProcessedPayload:function(a,b){var c=this,d=this._globalOptions;if(this.isSetup()){if(a=this._trimPacket(a),!this._globalOptions.allowDuplicates&&this._isRepeatData(a))return void this._logDebug("warn","Raven dropped repeat event: ",a);this._lastEventId=a.event_id||(a.event_id=this._getUuid()),this._lastData=a,this._logDebug("debug","Raven about to send:",a);var e={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(e.sentry_secret=this._globalSecret);var f=a.exception&&a.exception.values[0];this.captureBreadcrumb({category:"sentry",message:f?(f.type?f.type+": ":"")+f.value:a.message,event_id:a.event_id,level:a.level||"error"});var g=this._globalEndpoint;(d.transport||this._makeRequest).call(this,{url:g,auth:e,data:a,options:d,onSuccess:function(){c._resetBackoff(),c._triggerEvent("success",{data:a,src:g}),b&&b()},onError:function(d){c._logDebug("error","Raven transport failed to send: ",d),d.request&&c._setBackoffState(d.request),c._triggerEvent("failure",{data:a,src:g}),d=d||new Error("Raven send failed (no additional details provided)"),b&&b(d)}})}},_makeRequest:function(a){var b=I.XMLHttpRequest&&new I.XMLHttpRequest;if(b){var c="withCredentials"in b||"undefined"!=typeof XDomainRequest;if(c){var d=a.url;"withCredentials"in b?b.onreadystatechange=function(){if(4===b.readyState)if(200===b.status)a.onSuccess&&a.onSuccess();else if(a.onError){var c=new Error("Sentry error code: "+b.status);c.request=b,a.onError(c)}}:(b=new XDomainRequest,d=d.replace(/^https?:/,""),a.onSuccess&&(b.onload=a.onSuccess),a.onError&&(b.onerror=function(){var c=new Error("Sentry error code: XDomainRequest");c.request=b,a.onError(c)})),b.open("POST",d+"?"+q(a.auth)),b.send(A(a.data))}}},_logDebug:function(a){this._originalConsoleMethods[a]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[a],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(a,b){g(b)?delete this._globalContext[a]:this._globalContext[a]=l(this._globalContext[a]||{},b)}};var L=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(f.utils={isUndefined:g,isFunction:h,isString:i,isObject:E,isEmptyObject:j,isError:D,each:k,objectMerge:l,truncate:n,hasKey:o,joinRegExp:p,urlencode:q,uuid4:s,htmlTreeAsString:t,htmlElementAsString:u,parseUrl:r,fill:y}),f.prototype.setUser=f.prototype.setUserContext,f.prototype.setReleaseContext=f.prototype.setRelease,b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7}],4:[function(a,b){(function(c){var d=a(3),e="undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{},f=e.Raven,g=new d;g.noConflict=function(){return e.Raven=f,g},g.afterLoad(),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(a,b){function c(a){return"object"==typeof a&&null!==a}function d(a){switch({}.toString.call(a)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return a instanceof Error}}function e(a){function b(b,c){var d=a(b)||b;return c?c(d)||d:d}return b}b.exports={isObject:c,isError:d,wrappedCallback:e}},{}],6:[function(a,b){(function(c){function d(){return"undefined"==typeof document||null==document.location?"":document.location.href}var e=a(5),f={collectWindowErrors:!0,debug:!1},g="undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{},h=[].slice,i="?",j=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;f.report=function(){function a(a){m(),s.push(a)}function b(a){for(var b=s.length-1;b>=0;--b)s[b]===a&&s.splice(b,1)}function c(){n(),s=[]}function k(a,b){var c=null;if(!b||f.collectWindowErrors){for(var d in s)if(s.hasOwnProperty(d))try{s[d].apply(null,[a].concat(h.call(arguments,2)))}catch(e){c=e}if(c)throw c}}function l(a,b,c,g,h){var l=null;if(v)f.computeStackTrace.augmentStackTraceWithInitialElement(v,b,c,a),o();else if(h&&e.isError(h))l=f.computeStackTrace(h),k(l,!0);else{var m,n={url:b,line:c,column:g},p=void 0,r=a;if("[object String]"==={}.toString.call(a)){var m=a.match(j);m&&(p=m[1],r=m[2])}n.func=i,l={name:p,message:r,url:d(),stack:[n]},k(l,!0)}return q?q.apply(this,arguments):!1}function m(){r||(q=g.onerror,g.onerror=l,r=!0)}function n(){r&&(g.onerror=q,r=!1,q=void 0)}function o(){var a=v,b=t;t=null,v=null,u=null,k.apply(null,[a,!1].concat(b))}function p(a,b){var c=h.call(arguments,1);if(v){if(u===a)return;o()}var d=f.computeStackTrace(a);if(v=d,u=a,t=c,setTimeout(function(){u===a&&o()},d.incomplete?2e3:0),b!==!1)throw a}var q,r,s=[],t=null,u=null,v=null;return p.subscribe=a,p.unsubscribe=b,p.uninstall=c,p}(),f.computeStackTrace=function(){function a(a){if("undefined"!=typeof a.stack&&a.stack){for(var b,c,e,f=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,g=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,h=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,j=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,k=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=a.stack.split("\n"),m=[],n=(/^(.*) is undefined$/.exec(a.message),0),o=l.length;o>n;++n){if(c=f.exec(l[n])){var p=c[2]&&0===c[2].indexOf("native"),q=c[2]&&0===c[2].indexOf("eval");q&&(b=k.exec(c[2]))&&(c[2]=b[1],c[3]=b[2],c[4]=b[3]),e={url:p?null:c[2],func:c[1]||i,args:p?[c[2]]:[],line:c[3]?+c[3]:null,column:c[4]?+c[4]:null}}else if(c=h.exec(l[n]))e={url:c[2],func:c[1]||i,args:[],line:+c[3],column:c[4]?+c[4]:null};else{if(!(c=g.exec(l[n])))continue;var q=c[3]&&c[3].indexOf(" > eval")>-1;q&&(b=j.exec(c[3]))?(c[3]=b[1],c[4]=b[2],c[5]=null):0!==n||c[5]||"undefined"==typeof a.columnNumber||(m[0].column=a.columnNumber+1),e={url:c[3],func:c[1]||i,args:c[2]?c[2].split(","):[],line:c[4]?+c[4]:null,column:c[5]?+c[5]:null}}!e.func&&e.line&&(e.func=i),m.push(e)}return m.length?{name:a.name,message:a.message,url:d(),stack:m}:null}}function b(a,b,c){var d={url:b,line:c};if(d.url&&d.line){if(a.incomplete=!1,d.func||(d.func=i),a.stack.length>0&&a.stack[0].url===d.url){if(a.stack[0].line===d.line)return!1;if(!a.stack[0].line&&a.stack[0].func===d.func)return a.stack[0].line=d.line,!1}return a.stack.unshift(d),a.partial=!0,!0}return a.incomplete=!0,!1}function c(a,g){for(var h,j,k=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],m={},n=!1,o=c.caller;o&&!n;o=o.caller)if(o!==e&&o!==f.report){if(j={url:null,func:i,line:null,column:null},o.name?j.func=o.name:(h=k.exec(o.toString()))&&(j.func=h[1]),"undefined"==typeof j.func)try{j.func=h.input.substring(0,h.input.indexOf("{"))}catch(p){}m[""+o]?n=!0:m[""+o]=!0,l.push(j)}g&&l.splice(0,g);var q={name:a.name,message:a.message,url:d(),stack:l};return b(q,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),q}function e(b,e){var g=null;e=null==e?0:+e;try{if(g=a(b))return g}catch(h){if(f.debug)throw h}try{if(g=c(b,e+1))return g}catch(h){if(f.debug)throw h}return{name:b.name,message:b.message,url:d()}}return e.augmentStackTraceWithInitialElement=b,e.computeStackTraceFromStackProp=a,e}(),b.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(a,b,c){function d(a,b){for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function e(a,b,c,d){return JSON.stringify(a,g(b,d),c)}function f(a){var b={stack:a.stack,message:a.message,name:a.name};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b}function g(a,b){var c=[],e=[];return null==b&&(b=function(a,b){return c[0]===b?"[Circular ~]":"[Circular ~."+e.slice(0,d(c,b)).join(".")+"]"}),function(g,h){if(c.length>0){var i=d(c,this);~i?c.splice(i+1):c.push(this),~i?e.splice(i,1/0,g):e.push(g),~d(c,h)&&(h=b.call(this,g,h))}else c.push(h);return null==a?h instanceof Error?f(h):h:a.call(this,g,h)}}c=b.exports=e,c.getSerialize=g},{}]},{},[4])(4)});
//# sourceMappingURL=../../maps/libs/raven.js.map