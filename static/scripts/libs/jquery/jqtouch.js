"use strict";!function(){$.jQTouch=function(t){function e(t){void 0!==window.console&&!0===q.debug&&console.warn(t)}function n(t){"string"==typeof t.selector&&"string"==typeof t.name&&G.push(t)}function a(t){"string"==typeof t.name&&"function"==typeof t.isSupported&&"function"==typeof t.fn&&D.push(t)}function o(t,e){x.unshift({page:t,animation:e,hash:"#"+t.attr("id"),id:t.attr("id")})}function r(t){var n=$(t.target);n.is(H.join(", "))||(n=$(t.target).closest(H.join(", "))),n&&n.attr("href")&&!n.isExternalLink()?(e("Need to prevent default click behavior."),t.preventDefault()):e("No need to prevent default click behavior."),$.support.touch?e("Not converting click to a tap event because touch handler is on the job."):(e("Converting click event to a tap event because touch handlers are not present or off."),$(t.target).trigger("tap",t))}function i(t,n,a,r){function i(e){var o=O;$.support.animationEvents&&a&&q.useAnimations?(t.unbind("webkitAnimationEnd",i),t.removeClass(l+" out inmotion"),l&&n.removeClass(l),j.removeClass("animating animating3d"),!0===q.trackScrollPositions&&(n.css("top",-n.data("lastScroll")),setTimeout(function(){n.css("top",0),window.scroll(0,n.data("lastScroll")),$(".scroll",n).each(function(){this.scrollTop=-$(this).data("lastScroll")})},0))):(t.removeClass(l+" out inmotion"),l&&n.removeClass(l),o+=260),setTimeout(function(){n.removeClass("in"),window.scroll(0,0)},o),t.unselect(),n.trigger("pageAnimationEnd",{direction:"in",animation:a,back:r}),t.trigger("pageAnimationEnd",{direction:"out",animation:a,back:r})}if(r=r||!1,void 0===n||0===n.length)return $.fn.unselect(),e("Target element is missing."),!1;if(n.hasClass("current"))return $.fn.unselect(),e("You are already on the page you are trying to navigate to."),!1;if($(":focus").trigger("blur"),t.trigger("pageAnimationStart",{direction:"out",back:r}),n.trigger("pageAnimationStart",{direction:"in",back:r}),$.support.animationEvents&&a&&q.useAnimations){!$.support.transform3d&&a.is3d&&(e("Did not detect support for 3d animations, falling back to "+q.defaultAnimation+"."),a.name=q.defaultAnimation);var l=a.name,c=a.is3d?"animating3d":"";r&&(l=l.replace(/left|right|up|down|in|out/,s)),e("finalAnimationName is "+l+"."),t.bind("webkitAnimationEnd",i),j.addClass("animating "+c);var u=window.pageYOffset;!0===q.trackScrollPositions&&n.css("top",window.pageYOffset-(n.data("lastScroll")||0)),n.addClass(l+" in current"),t.removeClass("current").addClass(l+" out inmotion"),!0===q.trackScrollPositions&&(t.data("lastScroll",u),$(".scroll",t).each(function(){$(this).data("lastScroll",this.scrollTop)}))}else n.addClass("current in"),t.removeClass("current"),i();return Q=n,r?x.shift():o(Q,a),m(Q.attr("id")),!0}function s(t){return{up:"down",down:"up",left:"right",right:"left",in:"out",out:"in"}[t]||t}function l(){return I}function c(){x.length<1&&e("History is empty."),1===x.length&&(e("You are on the first panel."),window.history.go(-1));var t=x[0],n=x[1];return i(t.page,n.page,t.animation,!0)?N:(e("Could not go back."),!1)}function u(t,n){var a=x[0].page;if("string"==typeof n)for(var o=0,r=G.length;o<r;o++)if(G[o].name===n){n=G[o];break}if("string"==typeof t){var s=$(t);if(s.length<1)return void v(t,{animation:n});t=s}return i(a,t,n)?N:(e("Could not animate pages."),!1)}function d(t){return location.hash===x[0].hash?(e("We are on the right panel."),!0):""===location.hash?(c(),!0):x[1]&&location.hash===x[1].hash?(c(),!0):(e("Could not find ID in history, just forwarding to DOM element."),void u($(location.hash),q.defaultAnimation))}function p(t){for(var n,a=0,o=G.length;a<o;a++)if(t.is(G[a].selector)){n=G[a];break}return n||(e("Animation could not be found. Using "+q.defaultAnimation+"."),n=q.defaultAnimation),n}function f(t,e){var n=null,a=document.createElement("div");return a.innerHTML=t,$(a).children().each(function(t,e){var a=$(this);a.attr("id")||a.attr("id","page-"+ ++E),$("#"+a.attr("id")).remove(),j.append(a),j.trigger("pageInserted",{page:a}),!a.hasClass("current")&&n||(n=a)}),null!==n&&(u(n,e),n)}function h(){scrollTo(0,0),I=90===Math.abs(window.orientation)?"landscape":"portrait",j.removeClass("portrait landscape").addClass(I).trigger("turn",{orientation:I})}function m(t){q.updateHash&&(location.hash="#"+t.replace(/^#/,""))}function g(){$.support||($.support={}),$.support.animationEvents=void 0!==window.WebKitAnimationEvent,$.support.touch=void 0!==window.TouchEvent&&window.navigator.userAgent.indexOf("Mobile")>-1&&q.useFastTouch,$.support.transform3d=S(),$.support.ios5=k(),$.support.touch||e("This device does not support touch interaction, or it has been deactivated by the developer. Some features might be unavailable."),$.support.transform3d||e("This device does not support 3d animation. 2d animations will be used instead.");for(var t=0,i=P.length;t<i;t++){var s=P[t];$.isFunction(s)&&$.extend(N,s(N))}for(var l=0,c=B.length;l<c;l++)a(B[l]);T();for(var p=0,f=F.animations.length;p<f;p++){var g=F.animations[p];void 0!==q[g.name+"Selector"]&&(g.selector=q[g.name+"Selector"]),n(g)}H.push(q.touchSelector),H.push(q.backSelector),H.push(q.submitSelector),$(H.join(", ")).css("-webkit-touch-callout","none"),j=$("#jqt");var v=[];0===j.length&&(e('Could not find an element with the id "jqt", so the body id has been set to "jqt". If you are having any problems, wrapping your panels in a div with the id "jqt" might help.'),j=$(document.body).attr("id","jqt")),$.support.transform3d&&v.push("supports3d"),q.useTouchScroll&&($.support.ios5?v.push("touchscroll"):v.push("autoscroll")),q.fullScreenClass&&!0===window.navigator.standalone&&v.push(q.fullScreenClass,q.statusBar),j.addClass(v.join(" ")).bind("click",r).bind("orientationchange",h).bind("submit",b).bind("tap",y).bind($.support.touch?"touchstart":"mousedown",C).trigger("orientationchange"),$(window).bind("hashchange",d);var w=location.hash;Q=0===$("#jqt > .current").length?$("#jqt > *:first-child").addClass("current"):$("#jqt > .current"),m(Q.attr("id")),o(Q),1===$(w).length&&u(w)}function v(t,e){var n={data:null,method:"GET",animation:null,callback:null,$referrer:null},a=$.extend({},n,e);"#"!==t?$.ajax({url:t,data:a.data,type:a.method,success:function(t){var e=f(t,a.animation);e&&("GET"===a.method&&!0===q.cacheGetRequests&&a.$referrer&&a.$referrer.attr("href","#"+e.attr("id")),a.callback&&a.callback(!0))},error:function(t){a.$referrer&&a.$referrer.unselect(),a.callback&&a.callback(!1)}}):a.$referrer&&a.$referrer.unselect()}function b(t,e){$(":focus").trigger("blur"),t.preventDefault();var n="string"==typeof t?$(t).eq(0):t.target?$(t.target):$(t);return!(n.length&&n.is(q.formSelector)&&n.attr("action"))||(v(n.attr("action"),{data:n.serialize(),method:n.attr("method")||"POST",animation:p(n),callback:e}),!1)}function w(t){var n=t.closest("form");return 0!==n.length?(e("About to submit parent form."),n.trigger("submit"),!1):(e("No parent form found."),!0)}function S(){var t,n,a,o,r;return t=document.getElementsByTagName("head")[0],n=document.body,a=document.createElement("style"),a.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-webkit-transform-3d){#jqt-3dtest{height:3px}}",o=document.createElement("div"),o.id="jqt-3dtest",t.appendChild(a),n.appendChild(o),r=3===o.offsetHeight,a.parentNode.removeChild(a),o.parentNode.removeChild(o),e("Support for 3d transforms: "+r+"."),r}function k(){var t=!1,e=/OS (\d+)(_\d+)* like Mac OS X/i,n=window.navigator.userAgent;return e.test(n)&&(t=e.exec(n)[1]>=5),t}function C(t){var e=$(t.target),n=H.join(", ");e.is(n)||(e=e.closest(n)),e.length&&e.attr("href")&&e.addClass("active"),e.on($.support.touch?"touchmove":"mousemove",function(){e.removeClass("active")}),e.on("touchend",function(){e.unbind("touchmove mousemove")})}function y(t){if(t.isDefaultPrevented())return!0;var n=$(t.target);if(n.is(H.join(", "))||(n=n.closest(H.join(", "))),!n.length||!n.attr("href"))return e("Could not find a link related to tapped element."),!0;for(var a=n.attr("target"),o=n.prop("hash"),r=n.attr("href"),i={e:t,$el:n,target:a,hash:o,href:r,jQTSettings:q},s=0,l=D.length;s<l;s++){var c=D[s];if(c.isSupported(t,i)){return c.fn(t,i)}}}function T(){a({name:"external-link",isSupported:function(t,e){return e.$el.isExternalLink()},fn:function(t,e){return e.$el.unselect(),!0}}),a({name:"back-selector",isSupported:function(t,e){return e.$el.is(e.jQTSettings.backSelector)},fn:function(t,e){c(e.hash)}}),a({name:"submit-selector",isSupported:function(t,e){return e.$el.is(e.jQTSettings.submitSelector)},fn:function(t,e){w(e.$el)}}),a({name:"webapp",isSupported:function(t,e){return"_webapp"===e.target},fn:function(t,e){return window.location=e.href,!1}}),a({name:"no-op",isSupported:function(t,e){return"#"===e.href},fn:function(t,e){return e.$el.unselect(),!0}}),a({name:"standard",isSupported:function(t,e){return e.hash&&"#"!==e.hash},fn:function(t,e){var n=p(e.$el);return e.$el.addClass("active"),u($(e.hash).data("referrer",e.$el),n,e.$el.hasClass("reverse")),!1}}),a({name:"external",isSupported:function(t,e){return!0},fn:function(t,e){var n=p(e.$el);return e.$el.addClass("loading active"),v(e.$el.attr("href"),{animation:n,callback:function(){e.$el.removeClass("loading"),setTimeout($.fn.unselect,250,e.$el)},$referrer:e.$el}),!1}})}var j,A=$("head"),x=[],E=0,q={},Q="",I="portrait",H=[],N={},O=100,P=$.jQTouch.prototype.extensions,B=$.jQTouch.prototype.tapHandlers,D=[],G=[],M="",F={addGlossToIcon:!0,backSelector:".back, .cancel, .goback",cacheGetRequests:!0,debug:!0,defaultAnimation:"slideleft",fixedViewport:!0,formSelector:"form",fullScreen:!0,fullScreenClass:"fullscreen",icon:null,icon4:null,preloadImages:!1,starter:$(document).ready,startupScreen:null,statusBar:"default",submitSelector:".submit",touchSelector:"a, .touch",trackScrollPositions:!0,updateHash:!0,useAnimations:!0,useFastTouch:!0,useTouchScroll:!0,animations:[{name:"cubeleft",selector:".cubeleft, .cube",is3d:!0},{name:"cuberight",selector:".cuberight",is3d:!0},{name:"dissolve",selector:".dissolve"},{name:"fade",selector:".fade"},{name:"flipleft",selector:".flipleft, .flip",is3d:!0},{name:"flipright",selector:".flipright",is3d:!0},{name:"pop",selector:".pop",is3d:!0},{name:"swapleft",selector:".swapleft, .swap",is3d:!0},{name:"swapright",selector:".swapright",is3d:!0},{name:"slidedown",selector:".slidedown"},{name:"slideright",selector:".slideright"},{name:"slideup",selector:".slideup"},{name:"slideleft",selector:".slideleft, .slide, #jqt > * > ul li a"}]};return q=$.extend({},F,t),function(t){if(q.preloadImages)for(var e=q.preloadImages.length-1;e>=0;e--)(new Image).src=q.preloadImages[e];var n=q.addGlossToIcon?"":"-precomposed";q.icon&&(M+='<link rel="apple-touch-icon'+n+'" href="'+q.icon+'" />'),q.icon4&&(M+='<link rel="apple-touch-icon'+n+'" sizes="114x114" href="'+q.icon4+'" />'),q.startupScreen&&(M+='<link rel="apple-touch-startup-image" href="'+q.startupScreen+'" />'),q.fixedViewport&&(M+='<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>'),q.fullScreen&&(M+='<meta name="apple-mobile-web-app-capable" content="yes" />',q.statusBar&&(M+='<meta name="apple-mobile-web-app-status-bar-style" content="'+q.statusBar+'" />')),M&&A.prepend(M)}(),function(){$.fn.isExternalLink=function(){var t=$(this);return"_blank"===t.attr("target")||"external"===t.attr("rel")||t.is('a[href^="http://maps.google.com"], a[href^="mailto:"], a[href^="tel:"], a[href^="javascript:"], a[href*="youtube.com/v"], a[href*="youtube.com/watch"]')},$.fn.makeActive=function(){return $(this).addClass("active")},$.fn.unselect=function(t){t?t.removeClass("active"):$(".active").removeClass("active")}}(),N={addAnimation:n,animations:G,getOrientation:l,goBack:c,insertPages:f,goTo:u,history:x,settings:q,submitForm:b},q.starter(g),N},$.jQTouch.prototype.extensions=[],$.jQTouch.prototype.tapHandlers=[],$.jQTouch.addExtension=function(t){$.jQTouch.prototype.extensions.push(t)},$.jQTouch.addTapHandler=function(t){$.jQTouch.prototype.tapHandlers.push(t)}}();
//# sourceMappingURL=../../../maps/libs/jquery/jqtouch.js.map
