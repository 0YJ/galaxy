define(["exports","viz/visualization","libs/bbi/bigwig"],function(e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(t),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a),i=r.default.GenomeDataManager.extend({load_data:function(e,t,a,r){var i=$.Deferred();this.set_data(e,i);var o=Galaxy.root+"datasets/"+this.get("dataset").id+"/display",s=this;new $.Deferred;return $.when(n.makeBwg(o)).then(function(t,a){$.when(t.readWigData(e.get("chrom"),e.get("start"),e.get("end"))).then(function(t){var a=[],r={max:Number.MIN_VALUE};t.forEach(function(e){r.max!==e.min-1&&(a.push([r.max+1,0]),a.push([e.min-2,0])),a.push([e.min-1,e.score]),a.push([e.max,e.score]),r=e});var n={data:a,region:e,dataset_type:"bigwig"};s.set_data(e,n),i.resolve(n)})}),i}});e.default={BBIDataManager:i}});
//# sourceMappingURL=../../maps/viz/bbi-data-manager.js.map
