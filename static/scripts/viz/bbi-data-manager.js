define(["exports","viz/visualization","libs/bbi/bigwig"],function(e,a,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(a),r=n(t),s=i.default.GenomeDataManager.extend({load_data:function(e,a,t,n){var i=$.Deferred();this.set_data(e,i);var s=Galaxy.root+"datasets/"+this.get("dataset").id+"/display",d=this;new $.Deferred;return $.when(r.default.makeBwg(s)).then(function(a,t){$.when(a.readWigData(e.get("chrom"),e.get("start"),e.get("end"))).then(function(a){var t=[],n={max:Number.MIN_VALUE};a.forEach(function(e){n.max!==e.min-1&&(t.push([n.max+1,0]),t.push([e.min-2,0])),t.push([e.min-1,e.score]),t.push([e.max,e.score]),n=e});var r={data:t,region:e,dataset_type:"bigwig"};d.set_data(e,r),i.resolve(r)})}),i}});e.default={BBIDataManager:s}});
//# sourceMappingURL=../../maps/viz/bbi-data-manager.js.map
