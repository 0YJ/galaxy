"use strict";define(["jquery"],function(t){"use_strict";function e(t,e,r,n,a,u,o,s,c){void 0===a&&(a=30),void 0===o&&(o=4),i("#"+t).click(function(){if(!(i("#renaming-active").length>0)){var t,f=i("#"+e),l=f.text();t=u?i("<textarea></textarea>").attr({rows:o,cols:a}).text(i.trim(l)):i("<input type='text'></input>").attr({value:i.trim(l),size:a}),t.attr("id","renaming-active"),t.blur(function(){i(this).remove(),f.show(),c&&c(t)}),t.keyup(function(a){if(27===a.keyCode)i(this).trigger("blur");else if(13===a.keyCode){var u={};u[n]=i(this).val(),i(this).trigger("blur"),i.ajax({url:r,data:u,error:function(){alert("Text editing for elt "+e+" failed")},success:function(e){""!==e?f.text(e):f.html("<em>None</em>"),c&&c(t)}})}}),s&&s(t),f.hide(),t.insertAfter(f),t.focus(),t.select()}})}var i=t;return e});
//# sourceMappingURL=../../maps/utils/async-save-text.js.map
