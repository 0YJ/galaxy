define(["exports","jquery"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t).default;e.default=function(e,t,r,n,u,a,o,l,f){void 0===u&&(u=30),void 0===o&&(o=4),i("#"+e).click(function(){if(!(i("#renaming-active").length>0)){var e,s=i("#"+t),c=s.text();(e=a?i("<textarea></textarea>").attr({rows:o,cols:u}).text(i.trim(c)):i("<input type='text'></input>").attr({value:i.trim(c),size:u})).attr("id","renaming-active"),e.blur(function(){i(this).remove(),s.show(),f&&f(e)}),e.keyup(function(u){if(27===u.keyCode)i(this).trigger("blur");else if(13===u.keyCode){var a={};a[n]=i(this).val(),i(this).trigger("blur"),i.ajax({url:r,data:a,error:function(){alert("Text editing for elt "+t+" failed")},success:function(t){""!==t?s.text(t):s.html("<em>None</em>"),f&&f(e)}})}}),l&&l(e),s.hide(),e.insertAfter(s),e.focus(),e.select()}})}});
//# sourceMappingURL=../../maps/utils/async-save-text.js.map
