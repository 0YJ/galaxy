define([],function(){"use strict";define(["utils/utils"],function(e){return Backbone.Model.extend({initialize:function(){this.active={},this.last=null},execute:function(t){var i=this,a=e.uid(),n=t.length>0;this.active[a]=!0;var s=$.Deferred();s.promise().always(function(){delete i.active[a],n&&Galaxy.emit.debug("deferred::execute()",this.state().charAt(0).toUpperCase()+this.state().slice(1)+" "+a)}),$.when(this.last).always(function(){i.active[a]?(n&&Galaxy.emit.debug("deferred::execute()","Running "+a),t(s),!n&&s.resolve()):s.reject()}),this.last=s.promise()},reset:function(){Galaxy.emit.debug("deferred::execute()","Reset");for(var e in this.active)this.active[e]=!1},ready:function(){return $.isEmptyObject(this.active)}})})});
//# sourceMappingURL=../../maps/utils/deferred.js.map
