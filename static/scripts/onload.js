"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function replace_big_select_inputs(e,t,r){function n(e){var t={placeholder:"Click to select",closeOnSelect:!$(e).is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};return e.select2(t)}jQuery.fn.select2&&(void 0===e&&(e=20),void 0===t&&(t=3e3),(r=r||$("select")).each(function(){var r=$(this).not("[multiple]"),i=r.find("option").length;i<e||i>t||r.hasClass("no-autocomplete")||n(r)}))}function init_refresh_on_change(){$("select[refresh_on_change='true']").off("change").change(function(){var e=$(this),t=e.val(),r=e.attr("refresh_on_change_values");if(r){r=r.split(",");var n=e.attr("last_selected_value");if(-1===$.inArray(t,r)&&-1===$.inArray(n,r))return}$(window).trigger("refresh_on_change"),$(document).trigger("convert_to_values"),e.get(0).form.submit()}),$(":checkbox[refresh_on_change='true']").off("click").click(function(){var e=$(this),t=e.val(),r=e.attr("refresh_on_change_values");if(r){r=r.split(",");var n=e.attr("last_selected_value");if(-1===$.inArray(t,r)&&-1===$.inArray(n,r))return}$(window).trigger("refresh_on_change"),e.get(0).form.submit()}),$("a[confirm]").off("click").click(function(){return confirm($(this).attr("confirm"))})}var _popupmenu=require("ui/popupmenu"),_popupmenu2=_interopRequireDefault(_popupmenu),_tours=require("mvc/tours"),_tours2=_interopRequireDefault(_tours),_queryStringParsing=require("utils/query-string-parsing"),_queryStringParsing2=_interopRequireDefault(_queryStringParsing);window.jQuery=jQuery,window.$=jQuery,window._=_,window.Backbone=Backbone,window.panels=require("layout/panel"),_.extend(window,require("layout/modal")),window.async_save_text=require("utils/async-save-text"),window.make_popupmenu=_popupmenu2.default.make_popupmenu,window.make_popup_menus=_popupmenu2.default.make_popup_menus,window.init_tag_click_function=require("ui/autocom_tagging"),window.init_refresh_on_change=init_refresh_on_change,$(document).ready(function(){function e(){void 0!==Galaxy.root?$.getJSON(Galaxy.root+"api/webhooks/onload/all",function(e){_.each(e,function(e){e.activate&&e.script&&($("<script/>",{type:"text/javascript"}).text(e.script).appendTo("head"),$("<style/>",{type:"text/css"}).text(e.styles).appendTo("head"))})}):setTimeout(e,100)}init_refresh_on_change(),$.fn.tooltip&&($(".unified-panel-header [title]").tooltip({placement:"bottom"}),$("[title]").tooltip()),make_popup_menus(),replace_big_select_inputs(20,1500),$("a").click(function(){var e=$(this),t=parent.frames&&parent.frames.galaxy_main;if("galaxy_main"==e.attr("target")&&!t){var r=e.attr("href");-1==r.indexOf("?")?r+="?":r+="&",r+="use_panels=True",e.attr("href",r),e.attr("target","_self")}return e});var t=JSON.parse(sessionStorage.getItem("activeGalaxyTour"));if(t&&(t=_tours2.default.hooked_tour_from_data(t))&&t.steps&&window&&window.self===window.top){var r=new Tour(_.extend({steps:t.steps},_tours2.default.tour_opts));r.init(),r.restart()}e()});
//# sourceMappingURL=../maps/onload.js.map
