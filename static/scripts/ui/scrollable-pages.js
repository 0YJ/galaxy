!function(a){"use strict";function b(a,b){var c=a%b,d=c>b/2;return d?a+b-c:a-c}var c="scrollable-pages",d={force:5,pageSelector:"> li"},e=function(b,c){this.$el=a(b),this._init(c)};e.prototype._init=function(b){function e(){f._gravitate(),requestAnimationFrame(e)}var f=this;f.options=a.extend({},d,b),f._inertia=0,f.currentPage=0,a(window).resize(function(){f.updateViewport()}),this.updateViewport(),requestAnimationFrame(e),f.$el.trigger(a.Event(c+".init",{options:b}))},e.prototype.updateViewport=function(){this.viewportWidth=this.$el.innerWidth(),console.log("viewportWidth:",this.viewportWidth);var b=this.$el.find(this.options.pageSelector);this.numberOfPages=b.length,b.innerWidth(this.viewportWidth),this.$el.trigger(a.Event(c+".update-viewport",{viewportWidth:this.viewportWidth,numberOfPages:this.numberOfPages}))},e.prototype._gravitate=function(){var d=this,e=d.$el.scrollLeft(),f=b(e,d.viewportWidth);if(e!==f){var g=f>e?1:-1,h=e+d._inertia+g*d.options.force;h=1===g?Math.min(h,f):Math.max(h,f),d.$el.scrollLeft(h),d._inertia+=g}else{d._inertia=0;var i=Math.floor(f/d.viewportWidth);d.currentPage!==i&&(console.log("page change:",i),d.$el.trigger(a.Event(c+".page-change",{oldPage:d.currentPage,newPage:i})),d.currentPage=i)}},e.prototype.goToPage=function(a){return this.$el.scrollLeft(a*this.viewportWidth)},a.fn.scrollablePages=function(b){console.log("scrollablePages:",this.length);var d=this.each(function(){var d=a(this),f=d.data(c);f||(f=new e(this),d.data(c,f,b))});return"string"!=typeof b?d:d.toArray().map(function(d){var e=a(d).data(c),f=a.makeArray(arguments).slice(1),g=e[b];return"function"==typeof g?e[b].apply(e,f):g})},a.fn.scrollablePages.Constructor=e}(window.jQuery);
//# sourceMappingURL=../../maps/ui/scrollable-pages.js.map