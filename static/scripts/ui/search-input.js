"use strict";!function(n){"function"==typeof define&&define.amd?define([],n):n(jQuery)}(function(){function n(n,t){function i(n){$(this).parent().children("input").val("").trigger("searchInput.clear").blur(),t.onclear()}function a(n,e){if(!e)return i();$(this).trigger("search.search",e),"function"==typeof t.onfirstsearch&&o?(o=!1,t.onfirstsearch(e)):t.onsearch(e)}function c(){return['<input type="text" name="',t.name,'" placeholder="',t.placeholder,'" ','class="search-query ',t.classes,'" ',"/>"].join("")}var r=27,l=13,s=$(n),o=!0,u={initialVal:"",name:"search",placeholder:"search",classes:"",onclear:function(){},onfirstsearch:null,onsearch:function(n){},minSearchLen:0,escWillClear:!0,oninit:function(){}};return"string"===jQuery.type(t)?("toggle-loading"===t&&function(){s.find(".search-loading").toggle(),s.find(".search-clear").toggle()}(),s):("object"===jQuery.type(t)&&(t=jQuery.extend(!0,{},u,t)),s.addClass("search-input").prepend([function(){return $(c()).focus(function(n){$(this).select()}).keyup(function(n){if(n.preventDefault(),n.stopPropagation(),n.which===r&&t.escWillClear)i.call(this,n);else{var e=$(this).val();(n.which===l||t.minSearchLen&&e.length>=t.minSearchLen)&&a.call(this,n,e)}}).val(t.initialVal)}(),function(){return $(['<span class="search-clear fa fa-times-circle" ','title="',e("clear search (esc)"),'"></span>'].join("")).tooltip({placement:"bottom"}).click(function(n){i.call(this,n)})}(),function(){return $(['<span class="search-loading fa fa-spinner fa-spin" ','title="',e("loading..."),'"></span>'].join("")).hide().tooltip({placement:"bottom"})}()]))}var e=window._l||function(n){return n};jQuery.fn.extend({searchInput:function(e){return this.each(function(){return n(this,e)})}})});
//# sourceMappingURL=../../maps/ui/search-input.js.map
