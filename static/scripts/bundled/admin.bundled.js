webpackJsonp([4],{0:function(t,e,i){(function(t){var e=i(1),s=e,a=i(41).GalaxyApp,n=i(99),l=i(11),o=(i(6),i(44)),r=i(42);window.app=function(e,i){window.Galaxy=new a(e,i),Galaxy.debug("admin app");var d=o.extend({routes:{"(/)admin(/)users":"show_users"},authenticate:function(t,e){return Galaxy.user&&Galaxy.user.id&&Galaxy.user.get("is_admin")},show_users:function(){window.console.log(s.param(Galaxy.params)),this.page.display(new l({url_base:Galaxy.root+"admin/users_list?"+s.param(Galaxy.params),dict_format:!0}))}});s(function(){t.extend(e.config,{active_view:"admin"}),Galaxy.page=new r.View(t.extend(e,{Left:n,Router:d}))})}}).call(e,i(3))},6:function(t,e,i){var s,a;(function(n,l,o){s=[i(4),i(17),i(29),i(12),i(27),i(9),i(8)],a=function(t,e,i,s,a,r,d){var h=n.View.extend({tagName:"label",initialize:function(t){this.model=t&&t.model||new n.Model(t),this.tagName=t.tagName||this.tagName,this.setElement(l("<"+this.tagName+"/>")),this.listenTo(this.model,"change",this.render,this),this.render()},title:function(t){this.model.set("title",t)},value:function(){return this.model.get("title")},render:function(){return this.$el.removeClass().addClass("ui-label").addClass(this.model.get("cls")).html(this.model.get("title")),this}}),c=n.View.extend({initialize:function(t){this.model=t&&t.model||new n.Model({message:null,status:"info",cls:"",persistent:!1,fade:!0}).set(t),this.listenTo(this.model,"change",this.render,this),this.render()},update:function(t){this.model.set(t)},render:function(){this.$el.removeClass().addClass("ui-message").addClass(this.model.get("cls"));var t=this.model.get("status");if(this.model.get("large")?this.$el.addClass(("success"==t&&"done"||"danger"==t&&"error"||t)+"messagelarge"):this.$el.addClass("alert").addClass("alert-"+t),this.model.get("message")){if(this.$el.html(this.messageForDisplay()),this.$el[this.model.get("fade")?"fadeIn":"show"](),this.timeout&&window.clearTimeout(this.timeout),!this.model.get("persistent")){var e=this;this.timeout=window.setTimeout(function(){e.model.set("message","")},3e3)}}else this.$el.fadeOut();return this},messageForDisplay:function(){return o.escape(this.model.get("message"))}}),u=c.extend({messageForDisplay:function(){return this.model.get("message")}}),p=n.View.extend({initialize:function(t){this.model=t&&t.model||new n.Model({type:"text",placeholder:"",disabled:!1,readonly:!1,visible:!0,cls:"",area:!1,color:null,style:null}).set(t),this.tagName=this.model.get("area")?"textarea":"input",this.setElement(l("<"+this.tagName+"/>")),this.listenTo(this.model,"change",this.render,this),this.render()},events:{input:"_onchange"},value:function(t){return void 0!==t&&this.model.set("value","string"==typeof t?t:""),this.model.get("value")},render:function(){var t=this;this.$el.removeClass().addClass("ui-"+this.tagName).addClass(this.model.get("cls")).addClass(this.model.get("style")).attr("id",this.model.id).attr("type",this.model.get("type")).attr("placeholder",this.model.get("placeholder")).css("color",this.model.get("color")||"").css("border-color",this.model.get("color")||"");var e=this.model.get("datalist");return l.isArray(e)&&e.length>0&&this.$el.autocomplete({source:function(e,i){i(t.model.get("datalist"))},change:function(){t._onchange()}}),this.model.get("value")!==this.$el.val()&&this.$el.val(this.model.get("value")),o.each(["readonly","disabled"],function(e){t.model.get(e)?t.$el.attr(e,!0):t.$el.removeAttr(e)}),this.$el[this.model.get("visible")?"show":"hide"](),this},_onchange:function(){this.value(this.$el.val()),this.model.get("onchange")&&this.model.get("onchange")(this.model.get("value"))}}),f=n.View.extend({initialize:function(t){this.model=t&&t.model||new n.Model(t),this.setElement(l("<div/>").append(this.$info=l("<div/>")).append(this.$hidden=l("<div/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},value:function(t){return void 0!==t&&this.model.set("value",t),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.$hidden.val(this.model.get("value")),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this}}),m=n.View.extend({initialize:function(t){var e=this;this.model=t&&t.model||new n.Model(t),this.setElement(l("<div/>").append(this.$info=l("<div/>")).append(this.$file=l("<input/>").attr("type","file").addClass("ui-margin-bottom")).append(this.$text=l("<textarea/>").addClass("ui-textarea").attr("disabled",!0)).append(this.$wait=l("<i/>").addClass("fa fa-spinner fa-spin"))),this.listenTo(this.model,"change",this.render,this),this.$file.on("change",function(t){e._readFile(t)}),this.render()},value:function(t){return void 0!==t&&this.model.set("value",t),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this.model.get("value")?this.$text.text(this.model.get("value")).show():this.$text.hide(),this.model.get("wait")?this.$wait.show():this.$wait.hide(),this},_readFile:function(t){var e=this,i=t.target.files&&t.target.files[0];if(i){var s=new FileReader;s.onload=function(){e.model.set({wait:!1,value:this.result})},this.model.set({wait:!0,value:null}),s.readAsText(i)}}});return{Button:r.ButtonDefault,ButtonIcon:r.ButtonIcon,ButtonCheck:r.ButtonCheck,ButtonMenu:r.ButtonMenu,ButtonLink:r.ButtonLink,Input:p,Label:h,Message:c,UnescapedMessage:u,Upload:m,Modal:d,RadioButton:s.RadioButton,Checkbox:s.Checkbox,Radio:s.Radio,Select:e,Hidden:f,Slider:i,Drilldown:a}}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(1),i(3))},9:function(t,e,i){var s,a;(function(n,l){s=[i(4)],a=function(t){var e=n.View.extend({initialize:function(e){this.model=e&&e.model||new n.Model({id:t.uid(),title:"",floating:"right",icon:"",cls:"btn btn-default",wait:!1,wait_text:"Sending...",wait_cls:"btn btn-info",disabled:!1,percentage:-1}).set(e),this.setElement(l("<button/>").attr("type","button").append(this.$icon=l("<i/>")).append(this.$title=l("<span/>")).append(this.$progress=l("<div/>").append(this.$progress_bar=l("<div/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this,e=this.model.attributes;this.$el.removeClass().addClass("ui-button-default").addClass(e.disabled&&"disabled").attr("id",e.id).attr("disabled",e.disabled).css("float",e.floating).off("click").on("click",function(){l(".tooltip").hide(),e.onclick&&!t.disabled&&e.onclick()}).tooltip({title:e.tooltip,placement:"bottom"}),this.$progress.addClass("progress").css("display",e.percentage!==-1?"block":"none"),this.$progress_bar.addClass("progress-bar").css({width:e.percentage+"%"}),this.$icon.removeClass().addClass("icon fa"),this.$title.removeClass().addClass("title"),e.wait?(this.$el.addClass(e.wait_cls).prop("disabled",!0),this.$icon.addClass("fa-spinner fa-spin ui-margin-right"),this.$title.html(e.wait_text)):(this.$el.addClass(e.cls),this.$icon.addClass(e.icon),this.$title.html(e.title),e.icon&&e.title&&this.$icon.addClass("ui-margin-right"))},show:function(){this.$el.show()},hide:function(){this.$el.hide()},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},setIcon:function(t){this.model.set("icon",t)}}),i=e.extend({initialize:function(e){this.model=e&&e.model||new n.Model({id:t.uid(),title:"",icon:"",cls:""}).set(e),this.setElement(l("<a/>").append(this.$icon=l("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this.model.attributes;this.$el.removeClass().addClass(t.cls).attr({id:t.id,href:t.href||"javascript:void(0)",title:t.title,target:t.target||"_top",disabled:t.disabled}).tooltip({placement:"bottom"}).off("click").on("click",function(){t.onclick&&!t.disabled&&t.onclick()}),this.$icon.removeClass().addClass(t.icon)}}),s=n.View.extend({initialize:function(e){this.model=e&&e.model||new n.Model({id:t.uid(),title:"Select/Unselect all",icons:["fa-square-o","fa-minus-square-o","fa-check-square-o"],value:0,onchange:function(){}}).set(e),this.setElement(l("<div/>").append(this.$icon=l("<span/>")).append(this.$title=l("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(t){var e=this,t=this.model.attributes;this.$el.addClass("ui-button-check").off("click").on("click",function(){e.model.set("value",0===e.model.get("value")&&2||0),t.onclick&&t.onclick()}),this.$title.html(t.title),this.$icon.removeClass().addClass("icon fa ui-margin-right").addClass(t.icons[t.value])},value:function(t,e){return void 0!==t&&(e&&0!==t&&(t=t!==e&&1||2),this.model.set("value",t),this.model.get("onchange")(this.model.get("value"))),this.model.get("value")}}),a=e.extend({initialize:function(e){this.model=e&&e.model||new n.Model({id:t.uid(),title:"",floating:"right",icon:"",cls:"ui-button-icon",disabled:!1}).set(e),this.setElement(l("<div/>").append(this.$button=l("<div/>").append(this.$icon=l("<i/>")).append(this.$title=l("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(t){var t=this.model.attributes;this.$el.removeClass().addClass(t.cls).addClass(t.disabled&&"disabled").attr("disabled",t.disabled).attr("id",t.id).css("float",t.floating).off("click").on("click",function(){l(".tooltip").hide(),!t.disabled&&t.onclick&&t.onclick()}),this.$button.addClass("button").tooltip({title:t.tooltip,placement:"bottom"}),this.$icon.removeClass().addClass("icon fa").addClass(t.icon),this.$title.addClass("title").html(t.title),t.icon&&t.title&&this.$icon.addClass("ui-margin-right")}}),o=e.extend({$menu:null,initialize:function(t){this.model=t&&t.model||new n.Model({id:"",title:"",floating:"right",pull:"right",icon:null,onclick:null,cls:"ui-button-icon ui-button-menu",tooltip:"",target:"",href:"",onunload:null,visible:!0,tag:""}).set(t),this.collection=new n.Collection,this.setElement(l("<div/>").append(this.$root=l("<div/>").append(this.$icon=l("<i/>")).append(this.$title=l("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"change add remove reset",this.render,this),this.render()},render:function(){var t=this,e=this.model.attributes;this.$el.removeClass().addClass("dropdown").addClass(e.cls).attr("id",e.id).css({float:e.floating,display:e.visible&&this.collection.where({visible:!0}).length>0?"block":"none"}),this.$root.addClass("root button dropdown-toggle").attr("data-toggle","dropdown").tooltip({title:e.tooltip,placement:"bottom"}).off("click").on("click",function(t){l(".tooltip").hide(),t.preventDefault(),e.onclick&&e.onclick()}),this.$icon.removeClass().addClass("icon fa").addClass(e.icon),this.$title.removeClass().addClass("title").html(e.title),e.icon&&e.title&&this.$icon.addClass("ui-margin-right"),this.$menu&&this.$menu.remove(),this.collection.length>0&&(this.$menu=l("<ul/>").addClass("menu dropdown-menu").addClass("pull-"+t.model.get("pull")).attr("role","menu"),this.$el.append(this.$menu)),this.collection.each(function(e){var i=e.attributes;if(i.visible){var s=l("<a/>").addClass("dropdown-item").attr({href:i.href,target:i.target}).append(l("<i/>").addClass("fa").addClass(i.icon).css("display",i.icon?"inline-block":"none")).append(i.title).on("click",function(t){i.onclick&&(t.preventDefault(),i.onclick())});t.$menu.append(l("<li/>").append(s)),i.divider&&t.$menu.append(l("<li/>").addClass("divider"))}})},addMenu:function(e){this.collection.add(t.merge(e,{title:"",target:"",href:"",onclick:null,divider:!1,visible:!0,icon:null,cls:"button-menu btn-group"}))}});return{ButtonDefault:e,ButtonLink:i,ButtonIcon:a,ButtonCheck:s,ButtonMenu:o}}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(1))},11:function(t,e,i){var s,a;(function(n,l,o,r){n.ajaxSettings.traditional=!0,s=[i(4),i(25),i(26),i(16)],a=function(t,e,i,s){return l.View.extend({grid:null,initialize:function(t){this.dict_format=t.dict_format;var e=this;if(window.add_tag_to_grid_filter=function(t,i){var s=t+(void 0!==i&&""!==i?":"+i:""),a=o("#advanced-search").is(":visible");a||(o("#standard-search").slideToggle("fast"),o("#advanced-search").slideToggle("fast")),e.add_filter_condition("tags",s)},this.dict_format)if(this.setElement("<div/>"),t.url_base&&!t.items){var i={};r.each(t.filters,function(t,e){i["f-"+e]=t}),o.ajax({url:t.url_base+"?"+o.param(i),success:function(i){i.embedded=t.embedded,i.filters=t.filters,e.init_grid(i)}})}else this.init_grid(t);else this.setElement("#grid-container"),this.init_grid(t);t.use_panels&&o("#center").css({padding:"10px",overflow:"auto"})},handle_refresh:function(t){t&&o.inArray("history",t)>-1&&top.Galaxy&&top.Galaxy.currHistoryPanel&&top.Galaxy.currHistoryPanel.loadCurrentHistory()},init_grid:function(t){this.grid=new e(t);var s=this.grid.attributes;this.handle_refresh(s.refresh_frames);var a=this.grid.get("url_base");if(a=a.replace(/^.*\/\/[^\/]+/,""),this.grid.set("url_base",a),this.$el.html(i.grid(s)),this.$el.find("#grid-table-header").html(i.header(s)),this.$el.find("#grid-table-body").html(i.body(s)),this.$el.find("#grid-table-footer").html(i.footer(s)),s.message){this.$el.find("#grid-message").html(i.message(s));var n=this;s.use_hide_message&&setTimeout(function(){n.$el.find("#grid-message").html("")},5e3)}this.init_grid_elements(),this.init_grid_controls(),init_refresh_on_change()},init_grid_controls:function(){var t=this;this.$el.find(".operation-button").each(function(){o(this).off(),o(this).click(function(){return t.submit_operation(this),!1})}),this.$el.find("input[type=text]").each(function(){o(this).off(),o(this).click(function(){o(this).select()}).keyup(function(){o(this).css("font-style","normal")})}),this.$el.find(".sort-link").each(function(){o(this).off(),o(this).click(function(){return t.set_sort_condition(o(this).attr("sort_key")),!1})}),this.$el.find(".text-filter-form").each(function(){o(this).off(),o(this).submit(function(){var e=o(this).attr("column_key"),i=o("#input-"+e+"-filter"),s=i.val();return i.val(""),t.add_filter_condition(e,s),!1})}),this.$el.find(".text-filter-val > a").each(function(){o(this).off(),o(this).click(function(){return o(this).parent().remove(),t.remove_filter_condition(o(this).attr("filter_key"),o(this).attr("filter_val")),!1})}),this.$el.find(".categorical-filter > a").each(function(){o(this).off(),o(this).click(function(){return t.set_categorical_filter(o(this).attr("filter_key"),o(this).attr("filter_val")),!1})}),this.$el.find(".advanced-search-toggle").each(function(){o(this).off(),o(this).click(function(){return t.$el.find("#standard-search").slideToggle("fast"),t.$el.find("#advanced-search").slideToggle("fast"),!1})}),this.$el.find("#check_all").off(),this.$el.find("#check_all").on("click",function(){t.check_all_items()})},init_grid_elements:function(){this.$el.find(".grid").each(function(){var t=o(this).find("input.grid-row-select-checkbox"),e=o(this).find("span.grid-selected-count"),i=function(){e.text(o(t).filter(":checked").length)};o(t).each(function(){o(this).change(i)}),i()}),0!==this.$el.find(".community_rating_star").length&&this.$el.find(".community_rating_star").rating({});var t=this.grid.attributes,e=this;this.$el.find(".page-link > a").each(function(){o(this).click(function(){return e.set_page(o(this).attr("page_num")),!1})}),this.$el.find(".use-target").each(function(){o(this).click(function(t){return e.execute({href:o(this).attr("href"),target:o(this).attr("target")}),!1})});var i=t.items.length;0!=i&&r.each(t.items,function(i,a){var n=e.$("#grid-"+a+"-popup").off(),l=new s(n);r.each(t.operations,function(t){e._add_operation(l,t,i)})})},_add_operation:function(t,e,i){var s=this,a=i.operation_config[e.label];a.allowed&&e.allow_popup&&t.addItem({html:e.label,href:a.url_args,target:a.target,confirmation_text:e.confirm,func:function(t){t.preventDefault();var a=o(t.target).html();e.onclick?e.onclick(i.encode_id):s.execute(this.findItemByHtml(a))}})},add_filter_condition:function(t,e){if(""===e)return!1;this.grid.add_filter(t,e,!0);var s=o(i.filter_element(t,e)),a=this;s.click(function(){o(this).remove(),a.remove_filter_condition(t,e)});var n=this.$el.find("#"+t+"-filtering-criteria");n.append(s),this.go_page_one(),this.execute()},remove_filter_condition:function(t,e){this.grid.remove_filter(t,e),this.go_page_one(),this.execute()},set_sort_condition:function(t){var e=this.grid.get("sort_key"),i=t;e.indexOf(t)!==-1&&"-"!==e.substring(0,1)&&(i="-"+t),this.$el.find(".sort-arrow").remove();var s="-"==i.substring(0,1)?"&uarr;":"&darr;",a=o("<span>"+s+"</span>").addClass("sort-arrow");this.$el.find("#"+t+"-header").append(a),this.grid.set("sort_key",i),this.go_page_one(),this.execute()},set_categorical_filter:function(t,e){var i=this.grid.get("categorical_filters")[t],s=this.grid.get("filters")[t],a=this;this.$el.find("."+t+"-filter").each(function(){var n=o.trim(o(this).text()),l=i[n],r=l[t];if(r==e)o(this).empty(),o(this).addClass("current-filter"),o(this).append(n);else if(r==s){o(this).empty();var d=o('<a href="#">'+n+"</a>");d.click(function(){a.set_categorical_filter(t,r)}),o(this).removeClass("current-filter"),o(this).append(d)}}),this.grid.add_filter(t,e),this.go_page_one(),this.execute()},set_page:function(t){var e=this;this.$el.find(".page-link").each(function(){var i,s=o(this).attr("id"),a=parseInt(s.split("-")[2],10),n=e.grid.get("cur_page");if(a===t)i=o(this).children().text(),o(this).empty(),o(this).addClass("inactive-link"),o(this).text(i);else if(a===n){i=o(this).text(),o(this).empty(),o(this).removeClass("inactive-link");var l=o('<a href="#">'+i+"</a>");l.click(function(){e.set_page(a)}),o(this).append(l)}}),"all"===t?this.grid.set("cur_page",t):this.grid.set("cur_page",parseInt(t,10)),this.execute()},submit_operation:function(t,e){var i=o(t).val(),s=this.$el.find('input[name="id"]:checked').length;if(!s>0)return!1;var a=r.findWhere(this.grid.attributes.operations,{label:i});a&&!e&&(e=a.confirm||"");var n=[];this.$el.find("input[name=id]:checked").each(function(){n.push(o(this).val())});var l={operation:i,id:n,confirmation_text:e};return"top"==a.target&&(l=r.extend(l,{href:a.href,target:a.target})),this.execute(l),!0},check_all_items:function(){var t=this.$(".grid-row-select-checkbox"),e=this.$("#check_all").prop("checked");r.each(t,function(t){o(t).prop("checked",e)}),this.init_grid_elements()},go_page_one:function(){var t=this.grid.get("cur_page");null!==t&&void 0!==t&&"all"!==t&&this.grid.set("cur_page",1)},execute:function(t){var e=null,i=null,s=null,a=null,n=null;if(t&&(i=t.href,s=t.operation,e=t.id,a=t.confirmation_text,n=t.target,void 0!==i&&i.indexOf("operation=")!=-1)){var l=i.split("?");if(l.length>1)for(var r=l[1],d=r.split("&"),h=0;h<d.length;h++)d[h].indexOf("operation")!=-1?(s=d[h].split("=")[1],s=s.replace(/\+/g," ")):d[h].indexOf("id")!=-1&&(e=d[h].split("=")[1])}return s&&e?!(a&&""!=a&&"None"!=a&&"null"!=a&&!confirm(a))&&(s=s.toLowerCase(),this.grid.set({operation:s,item_ids:e}),"top"==n?window.top.location=i+"?"+o.param(this.grid.get_url_data()):this.grid.can_async_op(s)||this.dict_format?this.update_grid():this.go_to(n,i),!1):i?(this.go_to(n,i),!1):(this.grid.get("async")||this.dict_format?this.update_grid():this.go_to(n,i),!1)},go_to:function(t,e){var i=this.grid.get("async");switch(this.grid.set("async",!1),advanced_search=this.$el.find("#advanced-search").is(":visible"),this.grid.set("advanced_search",advanced_search),e||(e=this.grid.get("url_base")+"?"+o.param(this.grid.get_url_data())),this.grid.set({operation:void 0,item_ids:void 0,async:i}),t){case"inbound":var s=o(".grid-header").closest(".inbound");if(0!==s.length)return void s.load(e);break;case"top":window.top.location=e;break;default:window.location=e}},update_grid:function(){var t=this.grid.get("operation")?"POST":"GET";this.$el.find(".loading-elt-overlay").show();var e=this;o.ajax({type:t,url:e.grid.get("url_base"),data:e.grid.get_url_data(),error:function(t){alert("Grid refresh failed")},success:function(t){var i=e.grid.get("embedded"),s=e.grid.get("insert"),a=e.dict_format?t:o.parseJSON(t);a.embedded=i,a.insert=s,e.init_grid(a),e.$el.find(".loading-elt-overlay").hide()},complete:function(){e.grid.set({operation:void 0,item_ids:void 0})}})}})}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(1),i(2),i(1),i(3))},12:function(t,e,i){var s,a;(function(n,l,o){s=[i(4),i(9)],a=function(t,e){var i=n.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new n.Model({visible:!0,data:[],id:t.uid(),error_text:"No options available.",wait_text:"Please wait...",multiple:!1,optional:!1,onchange:function(){}}).set(e),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.on("change",function(){i.model.get("onchange")(i.value())}),this.render()},render:function(){var t=this;this.$el.empty().removeClass().addClass("ui-options").append(this.$message=l("<div/>")).append(this.$menu=l("<div/>").addClass("ui-options-menu")).append(this.$options=l(this._template())),this.all_button=null,this.model.get("multiple")&&(this.all_button=new e.ButtonCheck({onclick:function(){t.$("input").prop("checked",0!==t.all_button.value()),t.value(t._getValue()),t.trigger("change")}}),this.$menu.append(this.all_button.$el)),this._changeData(),this._changeWait(),this._changeVisible()},update:function(t){this.model.set("data",t)},_changeData:function(){var t=this;this.$options.empty(),this._templateOptions?this.$options.append(this._templateOptions(this.model.get("data"))):o.each(this.model.get("data"),function(e){t.$options.append(l(t._templateOption(e)).addClass("ui-option").tooltip({title:e.tooltip,placement:"bottom"}))});var t=this;this.$("input").on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeValue(),this._changeWait()},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"]()},_changeWait:function(){this.model.get("wait")?0===this.length()&&(this._messageShow(this.model.get("wait_text"),"info"),this.$options.hide(),this.$menu.hide()):0===this.length()?(this._messageShow(this.model.get("error_text"),"danger"),this.$options.hide(),this.$menu.hide()):(this.$message.hide(),this.$options.css("display","inline-block"),this.$menu.show())},_changeValue:function(){this._setValue(this.model.get("value")),null!==this._getValue()||this.model.get("multiple")||this.model.get("optional")||this._setValue(this.first()),this.all_button&&this.all_button.value(l.isArray(this._getValue())?this._getValue().length:0,this.length())},value:function(t){return void 0!==t&&this.model.set("value",t),this._getValue()},first:function(){var t=this.$("input").first();return t.length>0?t.val():null},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},length:function(){return this.$(".ui-option").length},_setValue:function(t){var e=this;if(void 0!==t&&(this.$("input").prop("checked",!1),null!==t)){var i=l.isArray(t)?t:[t];o.each(i,function(t){e.$('input[value="'+t+'"]').first().prop("checked",!0)})}},_getValue:function(){var e=[];return this.$(":checked").each(function(){e.push(l(this).val())}),t.isEmpty(e)?null:this.model.get("multiple")?e:e[0]},_messageShow:function(t,e){this.$message.show().removeClass().addClass("ui-message alert alert-"+e).html(t)},_template:function(){return l("<div/>").addClass("ui-options-list")}}),s=i.extend({_templateOption:function(e){var i=t.uid();return l("<div/>").addClass("ui-option").append(l("<input/>").attr({id:i,type:this.model.get("type"),name:this.model.id,value:e.value})).append(l("<label/>").addClass("ui-options-label").attr("for",i).html(e.label))}}),a={};a.View=s.extend({initialize:function(t){t.type="radio",s.prototype.initialize.call(this,t)}});var r={};r.View=s.extend({initialize:function(t){t.type="checkbox",t.multiple=!0,s.prototype.initialize.call(this,t)}});var d={};return d.View=i.extend({initialize:function(t){i.prototype.initialize.call(this,t)},_setValue:function(t){void 0!==t&&(this.$("input").prop("checked",!1),this.$("label").removeClass("active"),this.$('[value="'+t+'"]').prop("checked",!0).closest("label").addClass("active"))},_templateOption:function(t){var e=l("<label/>").addClass("btn btn-default");return t.icon&&e.append(l("<i/>").addClass("fa").addClass(t.icon).addClass(!t.label&&"no-padding")),e.append(l("<input/>").attr({type:"radio",name:this.model.id,value:t.value})),t.label&&e.append(t.label),e},_template:function(){return l("<div/>").addClass("btn-group ui-radiobutton").attr("data-toggle","buttons")}}),{Base:i,BaseIcons:s,Radio:a,RadioButton:d,Checkbox:r}}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(1),i(3))},16:function(t,e,i){var s,a;(function(i,n,l,o){s=[],a=function(){var t=i.View.extend({initialize:function(t,e){this.$button=t,this.$button.length||(this.$button=n("<div/>")),this.options=e||[],this.$button.data("popupmenu",this);var i=this;this.$button.click(function(t){return n(".popmenu-wrapper").remove(),i._renderAndShow(t),!1})},_renderAndShow:function(t){this.render(),this.$el.appendTo("body").css(this._getShownPosition(t)).show(),this._setUpCloseBehavior()},render:function(){if(this.$el.addClass("popmenu-wrapper").hide().css({position:"absolute"}).html(this.template(this.$button.attr("id"),this.options)),this.options.length){var t=this;this.$el.find("li").each(function(e,i){var s=t.options[e];s.func&&n(this).children("a.popupmenu-option").click(function(e){s.func.call(t,e,s),e.preventDefault()})})}return this},template:function(t,e){return['<ul id="',t,'-menu" class="dropdown-menu">',this._templateOptions(e),"</ul>"].join("")},_templateOptions:function(t){return t.length?l.map(t,function(t){if(t.divider)return'<li class="divider"></li>';if(t.header)return['<li class="head"><a href="javascript:void(0);">',t.html,"</a></li>"].join("");var e=t.href||"javascript:void(0);",i=t.target?' target="'+t.target+'"':"",s=t.checked?'<span class="fa fa-check"></span>':"";return['<li><a class="popupmenu-option" href="',e,'"',i,">",s,t.html,"</a></li>"].join("")}).join(""):"<li>(no options)</li>"},_getShownPosition:function(t){var e=this.$el.width(),i=t.pageX-e/2;return i=Math.min(i,n(document).scrollLeft()+n(window).width()-e-5),i=Math.max(i,n(document).scrollLeft()+5),{top:t.pageY,left:i}},_setUpCloseBehavior:function(){function t(t){if(n(document).off("click.close_popup"),window&&window.parent!==window)try{n(window.parent.document).off("click.close_popup")}catch(t){}else try{n("iframe#galaxy_main").contents().off("click.close_popup")}catch(t){}e.remove()}var e=this;if(n("html").one("click.close_popup",t),window&&window.parent!==window)try{n(window.parent.document).find("html").one("click.close_popup",t)}catch(t){}else try{n("iframe#galaxy_main").contents().one("click.close_popup",t)}catch(t){}},addItem:function(t,e){return e=e>=0?e:this.options.length,this.options.splice(e,0,t),this},removeItem:function(t){return t>=0&&this.options.splice(t,1),this},findIndexByHtml:function(t){for(var e=0;e<this.options.length;e++)if(l.has(this.options[e],"html")&&this.options[e].html===t)return e;return null},findItemByHtml:function(t){return this.options[this.findIndexByHtml(t)]},toString:function(){return"PopupMenu"}});return t.create=function(e,i){return new t(e,i)},t.make_popupmenu=function(e,i){var s=[];return l.each(i,function(t,e){var i={html:e};null===t?i.header=!0:"function"===o.type(t)&&(i.func=t),s.push(i)}),new t(n(e),s)},t.convertLinksToOptions=function(t,e){t=n(t),e=e||"a";var i=[];return t.find(e).each(function(t,e){var s={},a=n(t);if(s.html=a.text(),a.attr("href")){var l=a.attr("href"),o=a.attr("target"),r=a.attr("confirm");s.func=function(){if(!r||confirm(r))switch(o){case"_parent":window.parent.location=l;break;case"_top":window.top.location=l;break;default:window.location=l}}}i.push(s)}),i},t.fromExistingDom=function(e,i,s){e=n(e),i=n(i);var a=t.convertLinksToOptions(i,s);return i.remove(),new t(e,a)},t.make_popup_menus=function(e,i,s){e=e||document,i=i||"div[popupmenu]",s=s||function(t,e){return"#"+t.attr("popupmenu")};var a=[];return n(e).find(i).each(function(){var i=n(this),l=n(e).find(s(i,e));a.push(t.fromDom(l,i)),l.addClass("popup")}),a},t}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(1),i(3),i(1))},17:function(t,e,i){var s,a;(function(n,l,o){s=[i(4),i(9)],a=function(t,e){var i=n.View.extend({initialize:function(e){var i=this;this.data=[],this.data2=[],this.model=e&&e.model||new n.Model({id:t.uid(),cls:"ui-select",error_text:"No options available",empty_text:"Nothing selected",visible:!0,wait:!1,multiple:!1,searchable:!0,optional:!1,disabled:!1,onchange:function(){},value:null,selectall:!0,pagesize:20}).set(e),this.on("change",function(){i.model.get("onchange")&&i.model.get("onchange")(i.value())}),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:disabled",this._changeDisabled,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:multiple change:searchable change:cls change:id",this.render,this),this.render()},render:function(){var t=this;this.model.get("searchable")?this._renderSearchable():this._renderClassic(),this.$el.addClass(this.model.get("cls")).attr("id",this.model.get("id")),this.$select.empty().addClass("select").attr("id",this.model.get("id")+"_select").prop("multiple",this.model.get("multiple")).on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeData(),this._changeWait(),this._changeVisible(),this._changeDisabled()},_renderClassic:function(){var t=this;this.$el.addClass(this.model.get("multiple")?"ui-select-multiple":"ui-select").append(this.$select=l("<select/>")).append(this.$dropdown=l("<div/>")).append(this.$resize=l("<div/>").append(this.$resize_icon=l("<i/>"))),this.model.get("multiple")?(this.$dropdown.hide(),this.$resize_icon.addClass("fa fa-angle-double-right fa-rotate-45").show(),this.$resize.removeClass().addClass("icon-resize").show().off("mousedown").on("mousedown",function(e){var i=e.pageY,s=t.$select.height();t.minHeight=t.minHeight||s,l("#dd-helper").show().on("mousemove",function(e){t.$select.height(Math.max(s+(e.pageY-i),t.minHeight))}).on("mouseup mouseleave",function(){l("#dd-helper").hide().off()})})):(this.$dropdown.show(),this.$resize.hide(),this.$resize_icon.hide())},_renderSearchable:function(){var t=this;this.$el.append(this.$select=l("<div/>")).append(this.$dropdown=l("<div/>")),this.$dropdown.hide(),this.model.get("multiple")||this.$dropdown.show().on("click",function(){t.$select.select2&&t.$select.select2("open")}),this.all_button=null,this.model.get("multiple")&&this.model.get("selectall")&&(this.all_button=new e.ButtonCheck({onclick:function(){var e=[];0!==t.all_button.value()&&o.each(t.model.get("data"),function(t){e.push(t.value)}),t.value(e),t.trigger("change")}}),this.$el.prepend(this.all_button.$el))},_match:function(t,e){return!t||""==t||String(e).toUpperCase().indexOf(t.toUpperCase())>=0},_changeData:function(){var t=this;this.data=[],!this.model.get("multiple")&&this.model.get("optional")&&this.data.push({value:"__null__",label:t.model.get("empty_text")}),o.each(this.model.get("data"),function(e){t.data.push(e)}),0==this.length()&&this.data.push({value:"__null__",label:this.model.get("error_text")}),this.model.get("searchable")?(this.data2=[],o.each(this.data,function(e,i){t.data2.push({order:i,id:e.value,text:e.label,tags:e.tags})}),this.$select.data("select2")&&this.$select.select2("destroy"),this.matched_tags={},this.$select.select2({data:t.data2,closeOnSelect:!this.model.get("multiple"),multiple:this.model.get("multiple"),query:function(e){t.matched_tags={};var i=t.model.get("pagesize"),s=o.filter(t.data2,function(i){var s=!1;return o.each(i.tags,function(i){
t._match(e.term,i)&&(s=t.matched_tags[i]=!0)}),s||t._match(e.term,i.text)});e.callback({results:s.slice((e.page-1)*i,e.page*i),more:s.length>=e.page*i})},formatResult:function(e){return o.escape(e.text)+'<div class="ui-tags">'+o.reduce(e.tags,function(e,i){return t.matched_tags[i]?e+'&nbsp;<div class="label label-info">'+o.escape(i)+"</div>":e},"")+"</div>"}}),this.$(".select2-container .select2-search input").off("blur")):(this.$select.find("option").remove(),o.each(this.data,function(e){t.$select.append(l("<option/>").attr("value",e.value).html(o.escape(e.label)))})),this.model.set("disabled",0==this.length()),this._changeValue()},_changeDisabled:function(){this.model.get("searchable")?this.$select.select2(this.model.get("disabled")?"disable":"enable"):this.$select.prop("disabled",this.model.get("disabled"))},_changeWait:function(){this.$dropdown.removeClass().addClass("icon-dropdown fa").addClass(this.model.get("wait")?"fa-spinner fa-spin":"fa-caret-down")},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"](),this.$select[this.model.get("visible")?"show":"hide"]()},_changeValue:function(){if(this._setValue(this.model.get("value")),this.model.get("multiple")){if(this.all_button){var t=this._getValue();this.all_button.value(l.isArray(t)?t.length:0,this.length())}}else null!==this._getValue()||this.model.get("optional")||this._setValue(this.first())},value:function(t){return void 0!==t&&this.model.set("value",t),this._getValue()},first:function(){return this.data.length>0?this.data[0].value:null},exists:function(t){return o.findWhere(this.data,{value:t})},text:function(){var t=this._getValue(),e=this.exists(l.isArray(t)?t[0]:t);return e?e.label:""},show:function(){this.model.set("visible",!0)},hide:function(){this.model.set("visible",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},disabled:function(){return this.model.get("disabled")},enable:function(){this.model.set("disabled",!1)},disable:function(){this.model.set("disabled",!0)},add:function(t,e){o.each(this.model.get("data"),function(e){e.keep&&!o.findWhere(t,{value:e.value})&&t.push(e)}),e&&t&&t.sort(e),this.model.set("data",t)},update:function(t){this.model.set("data",t)},setOnChange:function(t){this.model.set("onchange",t)},length:function(){return l.isArray(this.model.get("data"))?this.model.get("data").length:0},_setValue:function(t){var e=this;if(null!==t&&void 0!==t||(t="__null__"),this.model.get("multiple")?t=l.isArray(t)?t:[t]:l.isArray(t)&&(t=t.length>0?t[0]:"__null__"),this.model.get("searchable")){if(l.isArray(t))val=[],o.each(t,function(t){var i=o.findWhere(e.data2,{id:t});i&&val.push(i)}),t=val;else{var i=o.findWhere(this.data2,{id:t});t=i}this.$select.select2("data",t)}else this.$select.val(t)},_getValue:function(){var e=null;if(this.model.get("searchable")){var i=this.$select.select2("data");i&&(l.isArray(i)?(e=[],i.sort(function(t,e){return t.order-e.order}),o.each(i,function(t){e.push(t.id)})):e=i.id)}else e=this.$select.val();return t.isEmpty(e)?null:e}});return{View:i}}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(1),i(3))},25:function(t,e,i){var s,a;(function(i,n,l){s=[],a=function(){return i.Model.extend({defaults:{url_base:"",async:!1,async_ops:[],categorical_filters:[],filters:{},sort_key:null,show_item_checkboxes:!1,advanced_search:!1,cur_page:1,num_pages:1,operation:void 0,item_ids:void 0},can_async_op:function(t){return n.indexOf(this.attributes.async_ops,t)!==-1},add_filter:function(t,e,i){if(i){var s,a=this.attributes.filters[t];if(null===a||void 0===a)s=e;else if("string"==typeof a)if("All"==a)s=e;else{var n=[];n[0]=a,n[1]=e,s=n}else s=a,s.push(e);this.attributes.filters[t]=s}else this.attributes.filters[t]=e},remove_filter:function(t,e){var i=this.attributes.filters[t];if(null===i||void 0===i)return!1;if("string"==typeof i)this.attributes.filters[t]="";else{var s=n.indexOf(i,e);s!==-1&&(i[s]="")}},get_url_data:function(){var t={async:this.attributes.async,sort:this.attributes.sort_key,page:this.attributes.cur_page,show_item_checkboxes:this.attributes.show_item_checkboxes,advanced_search:this.attributes.advanced_search};this.attributes.operation&&(t.operation=this.attributes.operation),this.attributes.item_ids&&(t.id=this.attributes.item_ids);var e=this;return n.each(n.pairs(e.attributes.filters),function(e){t["f-"+e[0]]=e[1]}),t},get_url:function(t){return this.get("url_base")+"?"+l.param(this.get_url_data())+"&"+l.param(t)}})}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(3),i(1))},26:function(t,e,s){var a,n;(function(l){a=[s(4)],n=function(t){return{grid:function(t){var e="";return e=t.embedded?this.grid_header(t)+this.grid_table(t):'<div class="loading-elt-overlay"></div><table><tr><td width="75%">'+this.grid_header(t)+'</td><td></td><td></td></tr><tr><td width="100%" id="grid-message" valign="top"></td><td></td><td></td></tr></table>'+this.grid_table(t),t.info_text&&(e+='<br><div class="toolParamHelp" style="clear: both;">'+t.info_text+"</div>"),e},grid_table:function(t){return'<form method="post" onsubmit="return false;"><table id="grid-table" class="grid"><thead id="grid-table-header"></thead><tbody id="grid-table-body"></tbody><tfoot id="grid-table-footer"></tfoot></table></form>'},grid_header:function(t){var e='<div class="grid-header">';if(t.embedded||(e+="<h2>"+t.title+"</h2>"),t.global_actions){e+='<ul class="manage-table-actions">';var s=t.global_actions.length>=3;s&&(e+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');for(i in t.global_actions){var a=t.global_actions[i];e+='<li><a class="action-button use-target" target="'+a.target+'" href="'+a.url_args+'" onclick="return false;" >'+a.label+"</a></li>"}s&&(e+="</div>"),e+="</ul>"}return t.insert&&(e+=t.insert),e+=this.grid_filters(t),e+="</div>"},header:function(t){var e="<tr>";t.show_item_checkboxes&&(e+="<th>",t.items.length>0&&(e+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),e+="</th>");for(var i in t.columns){var s=t.columns[i];s.visible&&(e+='<th id="'+s.key+'-header">',e+=s.href?'<a href="'+s.href+'" class="sort-link" sort_key="'+s.key+'">'+s.label+"</a>":s.label,e+='<span class="sort-arrow">'+s.extra+"</span></th>")}return e+="</tr>"},body:function(t){var e="",i=0,s=t.items.length;0==s&&(e+='<tr><td colspan="100"><em>No Items</em></td></tr>',i=1);for(var a in t.items){var n=t.items[a],o=n.encode_id;e+="<tr ",t.current_item_id==n.id&&(e+='class="current"'),e+=">",t.show_item_checkboxes&&(e+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'+o+'" id="'+o+'" class="grid-row-select-checkbox" /></td>');for(j in t.columns){var r=t.columns[j];if(r.visible){var d="";r.nowrap&&(d='style="white-space:nowrap;"');var h=n.column_config[r.label],c=h.link,u=h.value,p=h.target;"string"===l.type(u)&&(u=u.replace(/\/\//g,"/"));var f="",m="";r.attach_popup&&(f="grid-"+a+"-popup",m="menubutton",""!=c&&(m+=" split"),m+=" popup"),e+="<td "+d+">",c?(0!=t.operations.length&&(e+='<div id="'+f+'" class="'+m+'" style="float: left;">'),e+='<a class="menubutton-label use-target" target="'+p+'" href="'+c+'" onclick="return false;">'+u+"</a>",0!=t.operations.length&&(e+="</div>")):e+='<div id="'+f+'" class="'+m+'"><label id="'+r.label_id_prefix+o+'" for="'+o+'">'+(u||"")+"</label></div>",e+="</td>"}}e+="</tr>",i++}return e},footer:function(t){var e="";if(t.use_paging&&t.num_pages>1){var s=t.num_page_links,a=t.cur_page_num,n=t.num_pages,l=s/2,o=a-l,r=0;o<=0&&(o=1,r=l-(a-o));var d=l+r,h=a+d;h<=n?max_offset=0:(h=n,max_offset=d-(h+1-a)),0!=max_offset&&(o-=max_offset,o<1&&(o=1)),e+='<tr id="page-links-row">',t.show_item_checkboxes&&(e+="<td></td>"),e+='<td colspan="100"><span id="page-link-container">Page:',o>1&&(e+='<span class="page-link" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var c=o;c<h+1;c++)e+=c==t.cur_page_num?'<span class="page-link inactive-link" id="page-link-'+c+'">'+c+"</span>":'<span class="page-link" id="page-link-'+c+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+c+'">'+c+"</a></span>";h<n&&(e+='...<span class="page-link" id="page-link-'+n+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+n+'">'+n+"</a></span>"),e+="</span>",e+='<span class="page-link" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span></td></tr>'}if(t.show_item_checkboxes){e+='<tr><input type="hidden" id="operation" name="operation" value=""><td></td><td colspan="100">For <span class="grid-selected-count"></span> selected items: ';for(i in t.operations){var u=t.operations[i];u.allow_multiple&&(e+='<input type="button" value="'+u.label+'" class="operation-button action-button">&nbsp;')}e+="</td></tr>"}var p=!1;for(i in t.operations)if(t.operations[i].global_operation){p=!0;break}if(p){e+='<tr><td colspan="100">';for(i in t.operations){var u=t.operations[i];u.global_operation&&(e+='<a class="action-button" href="'+u.global_operation+'">'+u.label+"</a>")}e+="</td></tr>"}return t.legend&&(e+='<tr><td colspan="100">'+t.legend+"</td></tr>"),e},message:function(t){return'<p><div class="'+t.status+'message transient-message">'+t.message+'</div><div style="clear: both"></div></p>'},grid_filters:function(t){var e=t.default_filter_dict,i=t.filters,s="none";t.advanced_search&&(s="block");var a=!1;for(var n in t.columns){var l=t.columns[n];if("advanced"==l.filterable){var o=l.key,r=i[o],d=e[o];r&&d&&r!=d&&(s="block"),a=!0}}var h="block";"block"==s&&(h="none");var c='<div id="standard-search" style="display: '+h+';"><table><tr><td style="padding: 0;"><table>';for(var n in t.columns){var l=t.columns[n];"standard"==l.filterable&&(c+=this.grid_column_filter(t,l))}c+="</table></td></tr><tr><td>",a&&(c+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),c+="</td></tr></table></div>",c+='<div id="advanced-search" style="display: '+s+'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>';for(var n in t.columns){var l=t.columns[n];"advanced"==l.filterable&&(c+=this.grid_column_filter(t,l))}return c+="</table></div>"},grid_column_filter:function(t,e){var i=(t.default_filter_dict,t.filters),s=e.label,a=e.key;"advanced"==e.filterable&&(s=s.toLowerCase());var n="<tr>";if("advanced"==e.filterable&&(n+='<td align="left" style="padding-left: 10px">'+s+":</td>"),n+='<td style="padding-bottom: 1px;">',e.is_text){n+='<form class="text-filter-form" column_key="'+a+'" action="'+t.url+'" method="get" >';for(c in t.columns){var o=t.columns[c],r=i[o.key];r&&"All"!=r&&(o.is_text&&(r=JSON.stringify(r)),n+='<input type="hidden" id="'+o.key+'" name="f-'+o.key+'" value="'+r+'"/>')}n+='<span id="'+a+'-filtering-criteria">';var d=i[a];if(d){var h=l.type(d);if("string"==h&&"All"!=d&&(n+=this.filter_element(a,d)),"array"==h)for(var c in d){var u=d[c],p=d;p=p.slice(c),n+=this.filter_element(a,u)}}n+="</span>";var f="";if("standard"==e.filterable){f=e.label.toLowerCase();var m=f.length;m<20&&(m=20),m+=4}n+='<span class="search-box"><input class="search-box-input" id="input-'+a+'-filter" name="f-'+a+'" type="text" placeholder="'+f+'" size="'+m+'"/><button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;"><i class="fa fa-search"></i></button></span></form>'}else{n+='<span id="'+a+'-filtering-criteria">';var g=!1;for(cf_label in t.categorical_filters[a]){var v=t.categorical_filters[a][cf_label],_="",b="";for(key in v)_=key,b=v[key];g&&(n+=" | "),g=!0;var u=i[a];n+=u&&v[a]&&u==b?'<span class="categorical-filter '+a+'-filter current-filter">'+cf_label+"</span>":'<span class="categorical-filter '+a+'-filter"><a href="javascript:void(0);" filter_key="'+_+'" filter_val="'+b+'">'+cf_label+"</a></span>"}n+="</span>"}return n+="</td></tr>"},filter_element:function(e,i){return i=t.sanitize(i),'<span class="text-filter-val">'+i+'<a href="javascript:void(0);" filter_key="'+e+'" filter_val="'+i+'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>'}}}.apply(e,a),!(void 0!==n&&(t.exports=n))}).call(e,s(1))},27:function(t,e,s){var a,n;(function(l,o){a=[s(4),s(12)],n=function(t,e){var s=e.BaseIcons.extend({initialize:function(t){t.type=t.display||"checkbox",t.multiple="checkbox"==t.type,e.BaseIcons.prototype.initialize.call(this,t)},_setValue:function(t){if(e.BaseIcons.prototype._setValue.call(this,t),void 0!==t&&null!==t&&this.header_index){var i=this,s=l.isArray(t)?t:[t];o.each(s,function(t){var e=i.header_index[t];o.each(e,function(t){i._setState(t,!0)})})}},_setState:function(t,e){var i=this.$(".button-"+t),s=this.$(".subgroup-"+t);i.data("is_expanded",e),e?(s.show(),i.removeClass("fa-plus-square").addClass("fa-minus-square")):(s.hide(),i.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){function e(t,e){var i=t.find(".button-"+e);i.on("click",function(){a._setState(e,!i.data("is_expanded"))})}function s(n,o,r){r=r||[];for(i in o){var d=o[i],h=d.options&&d.options.length>0,c=r.slice(0);a.header_index[d.value]=c.slice(0);var u=l("<div/>");if(h){var p=t.uid(),f=l("<span/>").addClass("button-"+p).addClass("ui-drilldown-button fa fa-plus-square"),m=l("<div/>").addClass("subgroup-"+p).addClass("ui-drilldown-subgroup");u.append(l("<div/>").append(f).append(a._templateOption({label:d.name,value:d.value}))),c.push(p),s(m,d.options,c),u.append(m),e(u,p)}else u.append(a._templateOption({label:d.name,value:d.value}));n.append(u)}}var a=this;this.header_index={};var n=l("<div/>");return s(n,this.model.get("data")),n},_template:function(){return l("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}});return{View:s}}.apply(e,a),!(void 0!==n&&(t.exports=n))}).call(e,s(1),s(3))},29:function(t,e,i){var s,a;(function(n,l){s=[i(4)],a=function(t){var e=n.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new n.Model({id:t.uid(),min:null,max:null,step:null,precise:!1,split:1e4,value:null,onchange:function(){}}).set(e),this.setElement(this._template()),this.$el.attr("id",this.model.id),this.$text=this.$(".ui-form-slider-text"),this.$slider=this.$(".ui-form-slider-element");var s=[];this.$text.on("change",function(){i.value(l(this).val())}).on("keyup",function(t){s[t.which]=!1}).on("keydown",function(t){var e=t.which;s[e]=!0,i.model.get("is_workflow")&&s[16]&&52==e?(i.value("$"),event.preventDefault()):8==e||9==e||13==e||37==e||39==e||e>=48&&e<=57&&!s[16]||e>=96&&e<=105||(190==e||110==e)&&l(this).val().indexOf(".")==-1&&i.model.get("precise")||(189==e||109==e)&&l(this).val().indexOf("-")==-1||i._isParameter(l(this).val())||s[91]||s[17]||event.preventDefault()});var a=this.model.attributes;this.has_slider=null!==a.max&&null!==a.min&&a.max>a.min;var o=a.step;o||(o=a.precise&&this.has_slider?(a.max-a.min)/a.split:1),this.has_slider?(this.$text.addClass("ui-form-slider-left"),this.$slider.slider({min:a.min,max:a.max,step:o}).on("slide",function(t,e){i.value(e.value)})):this.$slider.hide(),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this.model.get("value");this.has_slider&&this.$slider.slider("value",t),t!==this.$text.val()&&this.$text.val(t)},value:function(t){var e=this.model.attributes;return void 0!==t&&(null===t||""===t||this._isParameter(t)||(isNaN(t)&&(t=0),!e.precise&&(t=Math.round(t)),null!==e.max&&(t=Math.min(t,e.max)),null!==e.min&&(t=Math.max(t,e.min))),this.model.set("value",t),this.model.trigger("change"),e.onchange(t)),this.model.get("value")},_isParameter:function(t){return this.model.get("is_workflow")&&"$"===String(t).substring(0,1)},_template:function(){return'<div class="ui-form-slider"><input class="ui-form-slider-text" type="text"/><div class="ui-form-slider-element"/></div>'}});return{View:e}}.apply(e,s),!(void 0!==a&&(t.exports=a))}).call(e,i(2),i(1))},44:function(t,e,i){(function(e){var s=i(1),a=s,n=i(39),l=i(6),o=e.Router.extend({initialize:function(t,e){this.page=t,this.options=e},push:function(t,e){e=e||{},e.__identifer=Math.random().toString(36).substr(2),a.isEmptyObject(e)||(t+=t.indexOf("?")==-1?"?":"&",t+=a.param(e,!0)),this.navigate(t,{trigger:!0})},execute:function(t,e,i){Galaxy.debug("router execute:",t,e,i);var s=n.parse(e.pop());e.push(s),t&&(this.authenticate(e,i)?t.apply(this,e):this.access_denied())},authenticate:function(t,e){return!0},access_denied:function(){this.page.display(new l.Message({status:"danger",message:"You must be logged in with proper credentials to make this request.",persistent:!0}))}});t.exports=o}).call(e,i(2))},99:function(t,e,i){(function(e,s,a){var n=i(5),l=e.View.extend({initialize:function(t,i){var s=this;this.page=t,this.root=i.root,this.config=i.config,this.settings=i.settings,this.message=i.message,this.status=i.status,this.model=new e.Model({title:n("Administration")}),this.categories=new e.Collection([{title:"Server",items:[{title:"Data types registry",url:"admin/view_datatypes_registry"},{title:"Data tables registry",url:"admin/view_tool_data_tables"},{title:"Display applications",url:"admin/display_applications"},{title:"Manage jobs",url:"admin/jobs"}]},{title:"Tools and Tool Shed",items:[{title:"Search Tool Shed",url:"admin_toolshed/browse_tool_sheds",enabled:s.settings.is_tool_shed_installed},{title:"Search Tool Shed (Beta)",url:"admin_toolshed/browse_toolsheds",enabled:s.settings.is_tool_shed_installed&&s.config.enable_beta_ts_api_install},{title:"Monitor installing repositories",url:"admin_toolshed/monitor_repository_installation?installing_repository_ids="+s.settings.installing_repository_ids,enabled:s.settings.installing_repository_ids},{title:"Manage installed tools",url:"admin_toolshed/browse_repositories",enabled:s.settings.is_repo_installed},{title:"Reset metadata",url:"admin_toolshed/reset_metadata_on_selected_installed_repositories",enabled:s.settings.is_repo_installed},{title:"Download local tool",url:"admin/package_tool"},{title:"Tool lineage",url:"admin/tool_versions"},{title:"Reload a tool's configuration",url:"admin/reload_tool"},{title:"Review tool migration stages",url:"admin/review_tool_migration_stages"},{title:"View Tool Error Logs",url:"admin/tool_errors"},{title:"Manage Display Whitelist",url:"admin/sanitize_whitelist"},{title:"Manage Tool Dependencies",url:"admin/manage_tool_dependencies"}]},{title:"User Management",items:[{title:"Users",url:"admin/users",target:"top"},{title:"Groups",url:"admin/groups"},{title:"Roles",url:"admin/roles"},{title:"API keys",url:"userskeys/all_users"},{title:"Impersonate a user",url:"admin/impersonate",enabled:s.config.allow_user_impersonation}]},{title:"Data",items:[{title:"Quotas",url:"admin/quotas",enabled:s.config.enable_quotas},{title:"Data libraries",url:"library_admin/browse_libraries"},{title:"Roles",url:"admin/roles"},{title:"Local data",url:"data_manager"}]},{title:"Form Definitions",items:[{title:"Form definitions",url:"forms/browse_form_definitions"}]},{title:"Sample Tracking",items:[{title:"Sequencers and external services",url:"external_service/browse_external_services"},{title:"Request types",url:"request_type/browse_request_types"},{title:"Sequencing requests",url:"requests_admin/browse_requests"},{title:"Find samples",url:"requests_common/find_samples?cntrller=requests_admin"}]}]),this.setElement(this._template())},render:function(){var t=this;this.$el.empty(),this.categories.each(function(e){var i=s(t._templateSection(e.attributes)),l=i.find(".ui-side-section-body");a.each(e.get("items"),function(e){(void 0===e.enabled||e.enabled)&&l.append(s("<div/>").addClass("ui-side-section-body-title").append(s("<a/>").attr({href:t.root+e.url,target:e.target||"galaxy_main"}).text(n(e.title))))}),t.$el.append(i)}),this.page.$("#galaxy_main").prop("src",this.root+"admin/center?message="+this.message+"&status="+this.status)},_templateSection:function(t){return["<div>",'<div class="ui-side-section-title">'+n(t.title)+"</div>",'<div class="ui-side-section-body"/>',"</div>"].join("")},_template:function(){return'<div class="ui-side-panel"/>'},toString:function(){return"adminPanel"}});t.exports=l}).call(e,i(2),i(1),i(3))}});
//# sourceMappingURL=admin.bundled.js.map