{"version":3,"sources":["webpack:///admin.bundled.js","webpack:///./galaxy/scripts/apps/admin.js","webpack:///./galaxy/scripts/apps/panels/admin-panel.js","webpack:///./galaxy/scripts/components/user_api_keys.vue","webpack:///./galaxy/scripts/components/user_api_keys.vue?5f7f","webpack:///./galaxy/scripts/components/user_api_keys.vue?681e","webpack:///galaxy/scripts/components/user_api_keys.vue","webpack:///./galaxy/scripts/components/user_api_keys.vue?b55a","webpack:///./galaxy/scripts/layout/router.js","webpack:///./galaxy/scripts/mvc/form/form-wrapper.js"],"names":["webpackJsonp","264","module","exports","__webpack_require__","_","_interopRequireDefault","obj","__esModule","default","_jquery","_jquery2","_galaxy","_galaxy2","_adminPanel","_adminPanel2","_formWrapper","_formWrapper2","_gridView","_gridView2","_uiMisc","_queryStringParsing","_queryStringParsing2","_router","_router2","_utils","_utils2","_page","_page2","_vue","_vue2","_user_api_keys","_user_api_keys2","$","window","app","options","bootstrapped","Galaxy","GalaxyApp","debug","AdminRouter","extend","routes","(/)admin(/)users","(/)admin(/)roles","(/)admin(/)groups","(/)admin(/)tool_versions","(/)admin(/)quotas","(/)admin(/)repositories","(/)admin(/)forms","(/)admin(/)form(/)(:form_id)","(/)admin/api_keys","authenticate","args","name","user","id","get","show_users","this","page","display","url_base","root","url_data","params","dict_format","show_roles","show_groups","show_repositories","show_tool_versions","show_quotas","show_user_api_keys","vuemount","document","createElement","$mount","show_forms","show_form","form_id","form_defs","reset_user_password","title","url","icon","submit_title","redirect","manage_roles_and_groups_for_user","manage_users_and_groups_for_role","manage_users_and_roles_for_group","manage_users_and_groups_for_quota","create_role","create_group","create_quota","rename_role","rename_group","rename_quota","edit_quota","set_quota_default","create_form","edit_form","View","config","active_view","setWindowTitle","Left","Router","call","265","Backbone","Object","defineProperty","value","_localization","_localization2","AdminPanel","initialize","self","settings","message","status","model","Model","categories","Collection","items","target","enabled","enable_quotas","allow_user_impersonation","is_tool_shed_installed","enable_beta_ts_api_install","installing_repository_ids","is_repo_installed","setElement","_template","render","$el","empty","each","category","$section","_templateSection","attributes","$entries","find","item","undefined","$link","attr","href","text","on","e","preventDefault","router","push","append","addClass","prop","join","toString","266","__webpack_exports__","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_user_api_keys_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_user_api_keys_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3622e3b0_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_user_api_keys_vue__","normalizeComponent","__vue_styles__","Component","a","267","content","i","locals","268","269","_axios","_axios2","data","users","errors","created","_this","then","response","catch","methods","generateKey","_this2","uid","270","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","length","_m","_l","_s","email","key","type","click","$event","staticStyle","clear","staticRenderFns","esExports","38","_uiMisc2","__identifer","Math","random","substr","isEmptyObject","indexOf","param","navigate","trigger","execute","callback","queryObj","parse","pop","apply","access_denied","Message","persistent","52","_formView","_formView2","ajax","done","form","inputs","buttons","submit","Button","tooltip","submit_tooltip","submit_icon","cls","onclick","_submit","fail","JSON","stringify","create","contentType","success_message","location","matchModel","input","input_id","field_list","_showMessage","responseJSON","err_msg","parents","filter","css","first","animate","scrollTop","update"],"mappings":"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","file":"admin.bundled.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(_) {\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _galaxy = __webpack_require__(28);\n\nvar _galaxy2 = _interopRequireDefault(_galaxy);\n\nvar _adminPanel = __webpack_require__(265);\n\nvar _adminPanel2 = _interopRequireDefault(_adminPanel);\n\nvar _formWrapper = __webpack_require__(52);\n\nvar _formWrapper2 = _interopRequireDefault(_formWrapper);\n\nvar _gridView = __webpack_require__(14);\n\nvar _gridView2 = _interopRequireDefault(_gridView);\n\nvar _uiMisc = __webpack_require__(6);\n\nvar _uiMisc2 = _interopRequireDefault(_uiMisc);\n\nvar _queryStringParsing = __webpack_require__(10);\n\nvar _queryStringParsing2 = _interopRequireDefault(_queryStringParsing);\n\nvar _router = __webpack_require__(38);\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _utils = __webpack_require__(3);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _page = __webpack_require__(29);\n\nvar _page2 = _interopRequireDefault(_page);\n\nvar _vue = __webpack_require__(20);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _user_api_keys = __webpack_require__(266);\n\nvar _user_api_keys2 = _interopRequireDefault(_user_api_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $ = _jquery2.default;\n\n\nwindow.app = function app(options, bootstrapped) {\n    window.Galaxy = new _galaxy2.default.GalaxyApp(options, bootstrapped);\n    Galaxy.debug(\"admin app\");\n\n    /** Routes */\n    var AdminRouter = _router2.default.extend({\n        routes: {\n            \"(/)admin(/)users\": \"show_users\",\n            \"(/)admin(/)roles\": \"show_roles\",\n            \"(/)admin(/)groups\": \"show_groups\",\n            \"(/)admin(/)tool_versions\": \"show_tool_versions\",\n            \"(/)admin(/)quotas\": \"show_quotas\",\n            \"(/)admin(/)repositories\": \"show_repositories\",\n            \"(/)admin(/)forms\": \"show_forms\",\n            \"(/)admin(/)form(/)(:form_id)\": \"show_form\",\n            \"(/)admin/api_keys\": \"show_user_api_keys\"\n        },\n\n        authenticate: function authenticate(args, name) {\n            return Galaxy.user && Galaxy.user.id && Galaxy.user.get(\"is_admin\");\n        },\n\n        show_users: function show_users() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"admin/users_list\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_roles: function show_roles() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"admin/roles_list\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_groups: function show_groups() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"admin/groups_list\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_repositories: function show_repositories() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"admin_toolshed/browse_repositories\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_tool_versions: function show_tool_versions() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"admin/tool_versions_list\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_quotas: function show_quotas() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"admin/quotas_list\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_user_api_keys: function show_user_api_keys() {\n            var vuemount = document.createElement('div');\n            this.page.display(vuemount);\n            new _vue2.default(_user_api_keys2.default).$mount(vuemount);\n        },\n\n        show_forms: function show_forms() {\n            this.page.display(new _gridView2.default({\n                url_base: Galaxy.root + \"forms/forms_list\",\n                url_data: Galaxy.params,\n                dict_format: true\n            }));\n        },\n\n        show_form: function show_form(form_id) {\n            var id = \"?id=\" + _queryStringParsing2.default.get(\"id\");\n            var form_defs = {\n                reset_user_password: {\n                    title: \"Reset passwords\",\n                    url: \"admin/reset_user_password\" + id,\n                    icon: \"fa-user\",\n                    submit_title: \"Save new password\",\n                    redirect: \"admin/users\"\n                },\n                manage_roles_and_groups_for_user: {\n                    url: \"admin/manage_roles_and_groups_for_user\" + id,\n                    icon: \"fa-users\",\n                    redirect: \"admin/users\"\n                },\n                manage_users_and_groups_for_role: {\n                    url: \"admin/manage_users_and_groups_for_role\" + id,\n                    redirect: \"admin/roles\"\n                },\n                manage_users_and_roles_for_group: {\n                    url: \"admin/manage_users_and_roles_for_group\" + id,\n                    redirect: \"admin/groups\"\n                },\n                manage_users_and_groups_for_quota: {\n                    url: \"admin/manage_users_and_groups_for_quota\" + id,\n                    redirect: \"admin/quotas\"\n                },\n                create_role: {\n                    url: \"admin/create_role\",\n                    redirect: \"admin/roles\"\n                },\n                create_group: {\n                    url: \"admin/create_group\",\n                    redirect: \"admin/groups\"\n                },\n                create_quota: {\n                    url: \"admin/create_quota\",\n                    redirect: \"admin/quotas\"\n                },\n                rename_role: {\n                    url: \"admin/rename_role\" + id,\n                    redirect: \"admin/roles\"\n                },\n                rename_group: {\n                    url: \"admin/rename_group\" + id,\n                    redirect: \"admin/groups\"\n                },\n                rename_quota: {\n                    url: \"admin/rename_quota\" + id,\n                    redirect: \"admin/quotas\"\n                },\n                edit_quota: {\n                    url: \"admin/edit_quota\" + id,\n                    redirect: \"admin/quotas\"\n                },\n                set_quota_default: {\n                    url: \"admin/set_quota_default\" + id,\n                    redirect: \"admin/quotas\"\n                },\n                create_form: {\n                    url: \"forms/create_form\",\n                    redirect: \"admin/forms\"\n                },\n                edit_form: {\n                    url: \"forms/edit_form\" + id,\n                    redirect: \"admin/forms\"\n                }\n            };\n            this.page.display(new _formWrapper2.default.View(form_defs[form_id]));\n        }\n    });\n\n    $(function () {\n        _.extend(options.config, { active_view: \"admin\" });\n        _utils2.default.setWindowTitle(\"Administration\");\n        Galaxy.page = new _page2.default.View(_.extend(options, {\n            Left: _adminPanel2.default,\n            Router: AdminRouter\n        }));\n    });\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Backbone, $, _) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _localization = __webpack_require__(4);\n\nvar _localization2 = _interopRequireDefault(_localization);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AdminPanel = Backbone.View.extend({\n    initialize: function initialize(page, options) {\n        var self = this;\n        this.page = page;\n        this.root = options.root;\n        this.config = options.config;\n        this.settings = options.settings;\n        this.message = options.message;\n        this.status = options.status;\n        this.model = new Backbone.Model({\n            title: (0, _localization2.default)(\"Administration\")\n        });\n        this.categories = new Backbone.Collection([{\n            title: \"Server\",\n            items: [{\n                title: \"Data types\",\n                url: \"admin/view_datatypes_registry\"\n            }, {\n                title: \"Data tables\",\n                url: \"admin/view_tool_data_tables\"\n            }, {\n                title: \"Display applications\",\n                url: \"admin/display_applications\"\n            }, {\n                title: \"Manage jobs\",\n                url: \"admin/jobs\"\n            }, {\n                title: \"Local data\",\n                url: \"data_manager\"\n            }]\n        }, {\n            title: \"User Management\",\n            items: [{\n                title: \"Users\",\n                url: \"admin/users\",\n                target: \"__use_router__\"\n            }, {\n                title: \"Quotas\",\n                url: \"admin/quotas\",\n                target: \"__use_router__\",\n                enabled: self.config.enable_quotas\n            }, {\n                title: \"Groups\",\n                url: \"admin/groups\",\n                target: \"__use_router__\"\n            }, {\n                title: \"Roles\",\n                url: \"admin/roles\",\n                target: \"__use_router__\"\n            }, {\n                title: \"Forms\",\n                url: \"admin/forms\",\n                target: \"__use_router__\"\n            }, {\n                title: \"API keys\",\n                url: \"admin/api_keys\",\n                target: \"__use_router__\"\n            }, {\n                title: \"Impersonate a user\",\n                url: \"admin/impersonate\",\n                enabled: self.config.allow_user_impersonation\n            }]\n        }, {\n            title: \"Tool Management\",\n            items: [{\n                title: \"Install new tools\",\n                url: \"admin_toolshed/browse_tool_sheds\",\n                enabled: self.settings.is_tool_shed_installed\n            }, {\n                title: \"Install new tools (Beta)\",\n                url: \"admin_toolshed/browse_toolsheds\",\n                enabled: self.settings.is_tool_shed_installed && self.config.enable_beta_ts_api_install\n            }, {\n                title: \"Monitor installation\",\n                url: \"admin_toolshed/monitor_repository_installation\",\n                enabled: self.settings.installing_repository_ids\n            }, {\n                title: \"Manage tools\",\n                url: \"admin/repositories\",\n                enabled: self.settings.is_repo_installed,\n                target: \"__use_router__\"\n            }, {\n                title: \"Manage metadata\",\n                url: \"admin_toolshed/reset_metadata_on_selected_installed_repositories\",\n                enabled: self.settings.is_repo_installed\n            }, {\n                title: \"Manage whitelist\",\n                url: \"admin/sanitize_whitelist\"\n            }, {\n                title: \"Manage dependencies\",\n                url: \"admin/manage_tool_dependencies\"\n            }, {\n                title: \"View lineage\",\n                url: \"admin/tool_versions\",\n                target: \"__use_router__\"\n            }, {\n                title: \"View migration stages\",\n                url: \"admin/review_tool_migration_stages\"\n            }, {\n                title: \"View error logs\",\n                url: \"admin/tool_errors\"\n            }]\n        }]);\n        this.setElement(this._template());\n    },\n\n    render: function render() {\n        var self = this;\n        this.$el.empty();\n        this.categories.each(function (category) {\n            var $section = $(self._templateSection(category.attributes));\n            var $entries = $section.find(\".ui-side-section-body\");\n            _.each(category.get(\"items\"), function (item) {\n                if (item.enabled === undefined || item.enabled) {\n                    var $link = $(\"<a/>\").attr({ href: self.root + item.url }).text((0, _localization2.default)(item.title));\n                    if (item.target == \"__use_router__\") {\n                        $link.on(\"click\", function (e) {\n                            e.preventDefault();\n                            self.page.router.push(item.url);\n                        });\n                    } else {\n                        $link.attr(\"target\", \"galaxy_main\");\n                    }\n                    $entries.append($(\"<div/>\").addClass(\"ui-side-section-body-title\").append($link));\n                }\n            });\n            self.$el.append($section);\n        });\n        this.page.$(\"#galaxy_main\").prop(\"src\", this.root + \"admin/center?message=\" + this.message + \"&status=\" + this.status);\n    },\n\n    _templateSection: function _templateSection(options) {\n        return [\"<div>\", \"<div class=\\\"ui-side-section-title\\\">\" + (0, _localization2.default)(options.title) + \"</div>\", '<div class=\"ui-side-section-body\"/>', \"</div>\"].join(\"\");\n    },\n\n    _template: function _template() {\n        return '<div class=\"ui-side-panel\"/>';\n    },\n\n    toString: function toString() {\n        return \"adminPanel\";\n    }\n});\n\nexports.default = AdminPanel;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(0), __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_user_api_keys_vue__ = __webpack_require__(269);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_user_api_keys_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_user_api_keys_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3622e3b0_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_user_api_keys_vue__ = __webpack_require__(270);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(267)\n}\nvar normalizeComponent = __webpack_require__(83)\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_user_api_keys_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_3622e3b0_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_user_api_keys_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 267:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(268);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(82)(\"3c2bc722\", content, true);\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(81)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _axios = __webpack_require__(84);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    data: function data() {\n        return {\n            // Should really do something with errors here.  Eventually.\n            users: [],\n            errors: []\n        };\n    },\n\n    created: function created() {\n        var _this = this;\n\n        _axios2.default.get(Galaxy.root + \"userskeys/all_users\").then(function (response) {\n            _this.users = response.data;\n        }).catch(function (e) {\n            _this.errors.push(e);\n        });\n    },\n    methods: {\n        generateKey: function generateKey(id) {\n            var _this2 = this;\n\n            _axios2.default.get(Galaxy.root + \"userskeys/admin_api_keys\", { params: { uid: id } }).then(function (response) {\n                _this2.users = response.data;\n            }).catch(function (e) {\n                _this2.errors.push(e);\n            });\n        }\n    }\n}; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolForm\",attrs:{\"id\":\"form-userkeys\"}},[_c('div',{staticClass:\"toolFormTitle\"},[_vm._v(\"User Information\")]),_vm._v(\" \"),(_vm.users && _vm.users.length > 0)?_c('div',[_c('table',{staticClass:\"grid\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.users),function(user){return _c('tr',[_c('td',[_vm._v(\"\\n                        \"+_vm._s(user.uid)+\"\\n                    \")]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                        \"+_vm._s(user.email)+\"\\n                    \")]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                        \"+_vm._s(user.key)+\"\\n                    \")]),_vm._v(\" \"),_c('td',[_c('input',{attrs:{\"type\":\"button\",\"value\":\"Generate a new key now\"},on:{\"click\":function($event){_vm.generateKey( user.uid )}}})])])}))])]):_c('div',[_c('div',[_vm._v(\"No user information available\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"Encoded UID\")]),_c('th',[_vm._v(\"Email\")]),_c('th',[_vm._v(\"API Key\")]),_c('th',[_vm._v(\"Actions\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Backbone) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _queryStringParsing = __webpack_require__(10);\n\nvar _queryStringParsing2 = _interopRequireDefault(_queryStringParsing);\n\nvar _uiMisc = __webpack_require__(6);\n\nvar _uiMisc2 = _interopRequireDefault(_uiMisc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $ = _jquery2.default;\n\n\nvar Router = Backbone.Router.extend({\n    // TODO: not many client routes at this point - fill and remove from server.\n    // since we're at root here, this may be the last to be routed entirely on the client.\n    initialize: function initialize(page, options) {\n        this.page = page;\n        this.options = options;\n    },\n\n    /** helper to push a new navigation state */\n    push: function push(url, data) {\n        data = data || {};\n        data.__identifer = Math.random().toString(36).substr(2);\n        if (!$.isEmptyObject(data)) {\n            url += url.indexOf(\"?\") == -1 ? \"?\" : \"&\";\n            url += $.param(data, true);\n        }\n        Galaxy.params = data;\n        this.navigate(url, { trigger: true });\n    },\n\n    /** override to parse query string into obj and send to each route */\n    execute: function execute(callback, args, name) {\n        Galaxy.debug(\"router execute:\", callback, args, name);\n        var queryObj = _queryStringParsing2.default.parse(args.pop());\n        args.push(queryObj);\n        if (callback) {\n            if (this.authenticate(args, name)) {\n                callback.apply(this, args);\n            } else {\n                this.access_denied();\n            }\n        }\n    },\n\n    authenticate: function authenticate(args, name) {\n        return true;\n    },\n\n    access_denied: function access_denied() {\n        this.page.display(new _uiMisc2.default.Message({\n            status: \"danger\",\n            message: \"You must be logged in with proper credentials to make this request.\",\n            persistent: true\n        }));\n    }\n});\n\nexports.default = Router;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Backbone, $) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _formView = __webpack_require__(11);\n\nvar _formView2 = _interopRequireDefault(_formView);\n\nvar _uiMisc = __webpack_require__(6);\n\nvar _uiMisc2 = _interopRequireDefault(_uiMisc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/** Generic form view */\nvar View = Backbone.View.extend({\n    initialize: function initialize(options) {\n        this.model = new Backbone.Model(options);\n        this.url = this.model.get(\"url\");\n        this.redirect = this.model.get(\"redirect\");\n        this.setElement(\"<div/>\");\n        this.render();\n    },\n\n    render: function render() {\n        var self = this;\n        $.ajax({\n            url: Galaxy.root + this.url,\n            type: \"GET\"\n        }).done(function (response) {\n            var options = $.extend({}, self.model.attributes, response);\n            var form = new _formView2.default({\n                title: options.title,\n                message: options.message,\n                status: options.status || \"warning\",\n                icon: options.icon,\n                inputs: options.inputs,\n                buttons: {\n                    submit: new _uiMisc2.default.Button({\n                        tooltip: options.submit_tooltip,\n                        title: options.submit_title || \"Save\",\n                        icon: options.submit_icon || \"fa-save\",\n                        cls: \"btn btn-primary ui-clear-float\",\n                        onclick: function onclick() {\n                            self._submit(form);\n                        }\n                    })\n                }\n            });\n            self.$el.empty().append(form.$el);\n        }).fail(function (response) {\n            self.$el.empty().append(new _uiMisc2.default.Message({\n                message: \"Failed to load resource \" + self.url + \".\",\n                status: \"danger\",\n                persistent: true\n            }).$el);\n        });\n    },\n\n    _submit: function _submit(form) {\n        var self = this;\n        $.ajax({\n            url: Galaxy.root + self.url,\n            data: JSON.stringify(form.data.create()),\n            type: \"PUT\",\n            contentType: \"application/json\"\n        }).done(function (response) {\n            var success_message = {\n                message: response.message,\n                status: \"success\",\n                persistent: false\n            };\n            if (self.redirect) {\n                window.location = Galaxy.root + self.redirect + \"?\" + $.param(success_message);\n            } else {\n                form.data.matchModel(response, function (input, input_id) {\n                    form.field_list[input_id].value(input.value);\n                });\n                self._showMessage(form, success_message);\n            }\n        }).fail(function (response) {\n            self._showMessage(form, {\n                message: response.responseJSON.err_msg,\n                status: \"danger\",\n                persistent: false\n            });\n        });\n    },\n\n    _showMessage: function _showMessage(form, options) {\n        var $panel = form.$el.parents().filter(function () {\n            return [\"auto\", \"scroll\"].indexOf($(this).css(\"overflow\")) != -1;\n        }).first();\n        $panel.animate({ scrollTop: 0 }, 500);\n        form.message.update(options);\n    }\n});\n\nexports.default = {\n    View: View\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(0)))\n\n/***/ })\n\n},[264]);\n\n\n// WEBPACK FOOTER //\n// admin.bundled.js","import jQuery from \"jquery\";\nvar $ = jQuery;\nimport GalaxyApp from \"galaxy\";\nimport AdminPanel from \"./panels/admin-panel\";\nimport FormWrapper from \"mvc/form/form-wrapper\";\nimport GridView from \"mvc/grid/grid-view\";\nimport Ui from \"mvc/ui/ui-misc\";\nimport QueryStringParsing from \"utils/query-string-parsing\";\nimport Router from \"layout/router\";\nimport Utils from \"utils/utils\";\nimport Page from \"layout/page\";\nimport Vue from \"libs/vue\";\nimport UserAPIKeys from \"components/user_api_keys.vue\";\n\nwindow.app = function app(options, bootstrapped) {\n    window.Galaxy = new GalaxyApp.GalaxyApp(options, bootstrapped);\n    Galaxy.debug(\"admin app\");\n\n    /** Routes */\n    var AdminRouter = Router.extend({\n        routes: {\n            \"(/)admin(/)users\": \"show_users\",\n            \"(/)admin(/)roles\": \"show_roles\",\n            \"(/)admin(/)groups\": \"show_groups\",\n            \"(/)admin(/)tool_versions\": \"show_tool_versions\",\n            \"(/)admin(/)quotas\": \"show_quotas\",\n            \"(/)admin(/)repositories\": \"show_repositories\",\n            \"(/)admin(/)forms\": \"show_forms\",\n            \"(/)admin(/)form(/)(:form_id)\": \"show_form\",\n            \"(/)admin/api_keys\": \"show_user_api_keys\"\n        },\n\n        authenticate: function(args, name) {\n            return Galaxy.user && Galaxy.user.id && Galaxy.user.get(\"is_admin\");\n        },\n\n        show_users: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}admin/users_list`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_roles: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}admin/roles_list`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_groups: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}admin/groups_list`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_repositories: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}admin_toolshed/browse_repositories`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_tool_versions: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}admin/tool_versions_list`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_quotas: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}admin/quotas_list`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_user_api_keys: function() {\n            var vuemount = document.createElement('div');\n            this.page.display(vuemount);\n            new Vue(UserAPIKeys).$mount(vuemount);\n        },\n\n        show_forms: function() {\n            this.page.display(\n                new GridView({\n                    url_base: `${Galaxy.root}forms/forms_list`,\n                    url_data: Galaxy.params,\n                    dict_format: true\n                })\n            );\n        },\n\n        show_form: function(form_id) {\n            var id = `?id=${QueryStringParsing.get(\"id\")}`;\n            var form_defs = {\n                reset_user_password: {\n                    title: \"Reset passwords\",\n                    url: `admin/reset_user_password${id}`,\n                    icon: \"fa-user\",\n                    submit_title: \"Save new password\",\n                    redirect: \"admin/users\"\n                },\n                manage_roles_and_groups_for_user: {\n                    url: `admin/manage_roles_and_groups_for_user${id}`,\n                    icon: \"fa-users\",\n                    redirect: \"admin/users\"\n                },\n                manage_users_and_groups_for_role: {\n                    url: `admin/manage_users_and_groups_for_role${id}`,\n                    redirect: \"admin/roles\"\n                },\n                manage_users_and_roles_for_group: {\n                    url: `admin/manage_users_and_roles_for_group${id}`,\n                    redirect: \"admin/groups\"\n                },\n                manage_users_and_groups_for_quota: {\n                    url: `admin/manage_users_and_groups_for_quota${id}`,\n                    redirect: \"admin/quotas\"\n                },\n                create_role: {\n                    url: \"admin/create_role\",\n                    redirect: \"admin/roles\"\n                },\n                create_group: {\n                    url: \"admin/create_group\",\n                    redirect: \"admin/groups\"\n                },\n                create_quota: {\n                    url: \"admin/create_quota\",\n                    redirect: \"admin/quotas\"\n                },\n                rename_role: {\n                    url: `admin/rename_role${id}`,\n                    redirect: \"admin/roles\"\n                },\n                rename_group: {\n                    url: `admin/rename_group${id}`,\n                    redirect: \"admin/groups\"\n                },\n                rename_quota: {\n                    url: `admin/rename_quota${id}`,\n                    redirect: \"admin/quotas\"\n                },\n                edit_quota: {\n                    url: `admin/edit_quota${id}`,\n                    redirect: \"admin/quotas\"\n                },\n                set_quota_default: {\n                    url: `admin/set_quota_default${id}`,\n                    redirect: \"admin/quotas\"\n                },\n                create_form: {\n                    url: \"forms/create_form\",\n                    redirect: \"admin/forms\"\n                },\n                edit_form: {\n                    url: `forms/edit_form${id}`,\n                    redirect: \"admin/forms\"\n                }\n            };\n            this.page.display(new FormWrapper.View(form_defs[form_id]));\n        }\n    });\n\n    $(() => {\n        _.extend(options.config, { active_view: \"admin\" });\n        Utils.setWindowTitle(\"Administration\");\n        Galaxy.page = new Page.View(\n            _.extend(options, {\n                Left: AdminPanel,\n                Router: AdminRouter\n            })\n        );\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/admin.js","import _l from \"utils/localization\";\n\nvar AdminPanel = Backbone.View.extend({\n    initialize: function(page, options) {\n        var self = this;\n        this.page = page;\n        this.root = options.root;\n        this.config = options.config;\n        this.settings = options.settings;\n        this.message = options.message;\n        this.status = options.status;\n        this.model = new Backbone.Model({\n            title: _l(\"Administration\")\n        });\n        this.categories = new Backbone.Collection([\n            {\n                title: \"Server\",\n                items: [\n                    {\n                        title: \"Data types\",\n                        url: \"admin/view_datatypes_registry\"\n                    },\n                    {\n                        title: \"Data tables\",\n                        url: \"admin/view_tool_data_tables\"\n                    },\n                    {\n                        title: \"Display applications\",\n                        url: \"admin/display_applications\"\n                    },\n                    {\n                        title: \"Manage jobs\",\n                        url: \"admin/jobs\"\n                    },\n                    {\n                        title: \"Local data\",\n                        url: \"data_manager\"\n                    }\n                ]\n            },\n            {\n                title: \"User Management\",\n                items: [\n                    {\n                        title: \"Users\",\n                        url: \"admin/users\",\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"Quotas\",\n                        url: \"admin/quotas\",\n                        target: \"__use_router__\",\n                        enabled: self.config.enable_quotas\n                    },\n                    {\n                        title: \"Groups\",\n                        url: \"admin/groups\",\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"Roles\",\n                        url: \"admin/roles\",\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"Forms\",\n                        url: \"admin/forms\",\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"API keys\",\n                        url: \"admin/api_keys\",\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"Impersonate a user\",\n                        url: \"admin/impersonate\",\n                        enabled: self.config.allow_user_impersonation\n                    }\n                ]\n            },\n            {\n                title: \"Tool Management\",\n                items: [\n                    {\n                        title: \"Install new tools\",\n                        url: \"admin_toolshed/browse_tool_sheds\",\n                        enabled: self.settings.is_tool_shed_installed\n                    },\n                    {\n                        title: \"Install new tools (Beta)\",\n                        url: \"admin_toolshed/browse_toolsheds\",\n                        enabled: self.settings.is_tool_shed_installed && self.config.enable_beta_ts_api_install\n                    },\n                    {\n                        title: \"Monitor installation\",\n                        url: \"admin_toolshed/monitor_repository_installation\",\n                        enabled: self.settings.installing_repository_ids\n                    },\n                    {\n                        title: \"Manage tools\",\n                        url: \"admin/repositories\",\n                        enabled: self.settings.is_repo_installed,\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"Manage metadata\",\n                        url: \"admin_toolshed/reset_metadata_on_selected_installed_repositories\",\n                        enabled: self.settings.is_repo_installed\n                    },\n                    {\n                        title: \"Manage whitelist\",\n                        url: \"admin/sanitize_whitelist\"\n                    },\n                    {\n                        title: \"Manage dependencies\",\n                        url: \"admin/manage_tool_dependencies\"\n                    },\n                    {\n                        title: \"View lineage\",\n                        url: \"admin/tool_versions\",\n                        target: \"__use_router__\"\n                    },\n                    {\n                        title: \"View migration stages\",\n                        url: \"admin/review_tool_migration_stages\"\n                    },\n                    {\n                        title: \"View error logs\",\n                        url: \"admin/tool_errors\"\n                    }\n                ]\n            }\n        ]);\n        this.setElement(this._template());\n    },\n\n    render: function() {\n        var self = this;\n        this.$el.empty();\n        this.categories.each(category => {\n            var $section = $(self._templateSection(category.attributes));\n            var $entries = $section.find(\".ui-side-section-body\");\n            _.each(category.get(\"items\"), item => {\n                if (item.enabled === undefined || item.enabled) {\n                    var $link = $(\"<a/>\")\n                        .attr({ href: self.root + item.url })\n                        .text(_l(item.title));\n                    if (item.target == \"__use_router__\") {\n                        $link.on(\"click\", e => {\n                            e.preventDefault();\n                            self.page.router.push(item.url);\n                        });\n                    } else {\n                        $link.attr(\"target\", \"galaxy_main\");\n                    }\n                    $entries.append(\n                        $(\"<div/>\")\n                            .addClass(\"ui-side-section-body-title\")\n                            .append($link)\n                    );\n                }\n            });\n            self.$el.append($section);\n        });\n        this.page\n            .$(\"#galaxy_main\")\n            .prop(\"src\", `${this.root}admin/center?message=${this.message}&status=${this.status}`);\n    },\n\n    _templateSection: function(options) {\n        return [\n            \"<div>\",\n            `<div class=\"ui-side-section-title\">${_l(options.title)}</div>`,\n            '<div class=\"ui-side-section-body\"/>',\n            \"</div>\"\n        ].join(\"\");\n    },\n\n    _template: function() {\n        return '<div class=\"ui-side-panel\"/>';\n    },\n\n    toString: function() {\n        return \"adminPanel\";\n    }\n});\n\nexport default AdminPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/panels/admin-panel.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3622e3b0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user_api_keys.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user_api_keys.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3622e3b0\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user_api_keys.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./galaxy/scripts/components/user_api_keys.vue\n// module id = 266\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3622e3b0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./user_api_keys.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3c2bc722\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3622e3b0\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./galaxy/scripts/components/user_api_keys.vue\n// module id = 267\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3622e3b0\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./galaxy/scripts/components/user_api_keys.vue\n// module id = 268\n// module chunks = 1","<template>\n    <div id=\"form-userkeys\" class=\"toolForm\" v-cloak>\n        <div class=\"toolFormTitle\">User Information</div>\n        <div v-if=\"users && users.length > 0\">\n            <table class=\"grid\">\n                <thead><th>Encoded UID</th><th>Email</th><th>API Key</th><th>Actions</th></thead>\n                <tbody>\n                    <tr v-for=\"user in users\">\n                        <td>\n                            {{ user.uid }}\n                        </td>\n                        <td>\n                            {{ user.email }}\n                        </td>\n                        <td>\n                            {{ user.key }}\n                        </td>\n                        <td>\n                            <input type=\"button\" value=\"Generate a new key now\" v-on:click=\"generateKey( user.uid )\" />\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div v-else>\n            <div>No user information available</div>\n        </div>\n        <div style=\"clear: both\"></div>\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n    data() {\n        return {\n            // Should really do something with errors here.  Eventually.\n            users: [],\n            errors: []\n        };\n    },\n    created: function() {\n        axios\n            .get(`${Galaxy.root}userskeys/all_users`)\n            .then(response => {\n                this.users = response.data;\n            })\n            .catch(e => {\n                this.errors.push(e);\n            });\n    },\n    methods: {\n        generateKey: function(id) {\n            axios\n                .get(`${Galaxy.root}userskeys/admin_api_keys`, { params: { uid: id } })\n                .then(response => {\n                    this.users = response.data;\n                })\n                .catch(e => {\n                    this.errors.push(e);\n                });\n        }\n    }\n};\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// galaxy/scripts/components/user_api_keys.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toolForm\",attrs:{\"id\":\"form-userkeys\"}},[_c('div',{staticClass:\"toolFormTitle\"},[_vm._v(\"User Information\")]),_vm._v(\" \"),(_vm.users && _vm.users.length > 0)?_c('div',[_c('table',{staticClass:\"grid\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.users),function(user){return _c('tr',[_c('td',[_vm._v(\"\\n                        \"+_vm._s(user.uid)+\"\\n                    \")]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                        \"+_vm._s(user.email)+\"\\n                    \")]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                        \"+_vm._s(user.key)+\"\\n                    \")]),_vm._v(\" \"),_c('td',[_c('input',{attrs:{\"type\":\"button\",\"value\":\"Generate a new key now\"},on:{\"click\":function($event){_vm.generateKey( user.uid )}}})])])}))])]):_c('div',[_c('div',[_vm._v(\"No user information available\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"Encoded UID\")]),_c('th',[_vm._v(\"Email\")]),_c('th',[_vm._v(\"API Key\")]),_c('th',[_vm._v(\"Actions\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3622e3b0\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./galaxy/scripts/components/user_api_keys.vue\n// module id = 270\n// module chunks = 1","import jQuery from \"jquery\";\nvar $ = jQuery;\nimport QUERY_STRING from \"utils/query-string-parsing\";\nimport Ui from \"mvc/ui/ui-misc\";\n\nvar Router = Backbone.Router.extend({\n    // TODO: not many client routes at this point - fill and remove from server.\n    // since we're at root here, this may be the last to be routed entirely on the client.\n    initialize: function(page, options) {\n        this.page = page;\n        this.options = options;\n    },\n\n    /** helper to push a new navigation state */\n    push: function(url, data) {\n        data = data || {};\n        data.__identifer = Math.random()\n            .toString(36)\n            .substr(2);\n        if (!$.isEmptyObject(data)) {\n            url += url.indexOf(\"?\") == -1 ? \"?\" : \"&\";\n            url += $.param(data, true);\n        }\n        Galaxy.params = data;\n        this.navigate(url, { trigger: true });\n    },\n\n    /** override to parse query string into obj and send to each route */\n    execute: function(callback, args, name) {\n        Galaxy.debug(\"router execute:\", callback, args, name);\n        var queryObj = QUERY_STRING.parse(args.pop());\n        args.push(queryObj);\n        if (callback) {\n            if (this.authenticate(args, name)) {\n                callback.apply(this, args);\n            } else {\n                this.access_denied();\n            }\n        }\n    },\n\n    authenticate: function(args, name) {\n        return true;\n    },\n\n    access_denied: function() {\n        this.page.display(\n            new Ui.Message({\n                status: \"danger\",\n                message: \"You must be logged in with proper credentials to make this request.\",\n                persistent: true\n            })\n        );\n    }\n});\n\nexport default Router;\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/layout/router.js","/** Generic form view */\nimport Form from \"mvc/form/form-view\";\nimport Ui from \"mvc/ui/ui-misc\";\nvar View = Backbone.View.extend({\n    initialize: function(options) {\n        this.model = new Backbone.Model(options);\n        this.url = this.model.get(\"url\");\n        this.redirect = this.model.get(\"redirect\");\n        this.setElement(\"<div/>\");\n        this.render();\n    },\n\n    render: function() {\n        var self = this;\n        $.ajax({\n            url: Galaxy.root + this.url,\n            type: \"GET\"\n        })\n            .done(response => {\n                var options = $.extend({}, self.model.attributes, response);\n                var form = new Form({\n                    title: options.title,\n                    message: options.message,\n                    status: options.status || \"warning\",\n                    icon: options.icon,\n                    inputs: options.inputs,\n                    buttons: {\n                        submit: new Ui.Button({\n                            tooltip: options.submit_tooltip,\n                            title: options.submit_title || \"Save\",\n                            icon: options.submit_icon || \"fa-save\",\n                            cls: \"btn btn-primary ui-clear-float\",\n                            onclick: function() {\n                                self._submit(form);\n                            }\n                        })\n                    }\n                });\n                self.$el.empty().append(form.$el);\n            })\n            .fail(response => {\n                self.$el.empty().append(\n                    new Ui.Message({\n                        message: `Failed to load resource ${self.url}.`,\n                        status: \"danger\",\n                        persistent: true\n                    }).$el\n                );\n            });\n    },\n\n    _submit: function(form) {\n        var self = this;\n        $.ajax({\n            url: Galaxy.root + self.url,\n            data: JSON.stringify(form.data.create()),\n            type: \"PUT\",\n            contentType: \"application/json\"\n        })\n            .done(response => {\n                var success_message = {\n                    message: response.message,\n                    status: \"success\",\n                    persistent: false\n                };\n                if (self.redirect) {\n                    window.location = `${Galaxy.root + self.redirect}?${$.param(success_message)}`;\n                } else {\n                    form.data.matchModel(response, (input, input_id) => {\n                        form.field_list[input_id].value(input.value);\n                    });\n                    self._showMessage(form, success_message);\n                }\n            })\n            .fail(response => {\n                self._showMessage(form, {\n                    message: response.responseJSON.err_msg,\n                    status: \"danger\",\n                    persistent: false\n                });\n            });\n    },\n\n    _showMessage: function(form, options) {\n        var $panel = form.$el\n            .parents()\n            .filter(function() {\n                return [\"auto\", \"scroll\"].indexOf($(this).css(\"overflow\")) != -1;\n            })\n            .first();\n        $panel.animate({ scrollTop: 0 }, 500);\n        form.message.update(options);\n    }\n});\n\nexport default {\n    View: View\n};\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/mvc/form/form-wrapper.js"],"sourceRoot":""}