define([],function(){var a=Backbone.Model.extend({defaults:{activate:!1}}),b=Backbone.Collection.extend({model:a}),c=Backbone.View.extend({el:"#webhook-view",initialize:function(b){var c=this;this.model=new a,this.model.urlRoot=b.urlRoot,this.model.fetch({success:function(){c.render()}})},render:function(){var a=this.model.toJSON();return a.activate&&(this.$el.html('<div id="'+a.name+'"></div>'),a.styles&&$("<style/>",{type:"text/css"}).text(a.styles).appendTo("head"),a.script&&$("<script/>",{type:"text/javascript"}).text(a.script).appendTo("head")),this}}),d=function(){var a=new b;a.url=Galaxy.root+"api/webhooks/masthead/all",a.fetch({success:function(){$(document).ready(function(){$.each(a.models,function(a,b){var c=b.toJSON();c.activate&&Galaxy.page.masthead.collection.add({id:c.name,icon:"undefined"!=typeof c.config.icon?c.config.icon:"",url:"undefined"!=typeof c.config.url?c.config.url:"",tooltip:"undefined"!=typeof c.config.tooltip?c.config.tooltip:"",onclick:"undefined"!=typeof c.config.function?new Function(c.config.function):""})})})}})},e=function(a,c){var d=new b;d.url=Galaxy.root+"api/webhooks/history-menu/all",d.fetch({async:!1,success:function(){var b=[];$.each(d.models,function(c,d){var e=d.toJSON();e.activate&&b.push({html:a(e.config.title),anon:!0})}),b.length>0&&(b.unshift({html:a("Webhooks"),header:!0}),$.merge(c,b))}})};return{Webhooks:b,WebhookView:c,addToMastheadMenu:d,addToHistoryMenu:e}});
//# sourceMappingURL=../../maps/mvc/webhooks.js.map