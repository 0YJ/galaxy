define(["mvc/base-mvc","utils/localization"],function(a){var b=Backbone.Model.extend(a.LoggableMixin).extend({initialize:function(){var a=this.attributes.content,b=BibtexParser(a);if(b.errors.length){var c=b.errors.reduce(function(a,b){return a+"; "+b});this.log("Error parsing bibtex: "+c)}if(this._fields={},this.entry=_.first(b.entries),this.entry){var d=this.entry.Fields;for(var e in d){var f=d[e],g=e.toLowerCase();this._fields[g]=f}}},entryType:function(){return this.entry?this.entry.EntryType:void 0},fields:function(){return this._fields}}),c=Backbone.Collection.extend(a.LoggableMixin).extend({urlRoot:galaxy_config.root+"api",partial:!0,model:b}),d=c.extend({url:function(){return this.urlRoot+"/histories/"+this.history_id+"/citations"}}),e=c.extend({url:function(){return this.urlRoot+"/tools/"+this.tool_id+"/citations"},partial:!1});return{Citation:b,HistoryCitationCollection:d,ToolCitationCollection:e}});
//# sourceMappingURL=../../../maps/mvc/citation/citation-model.js.map