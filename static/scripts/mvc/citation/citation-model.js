define("mvc/citation/citation-model",["exports","libs/bibtexParse","mvc/base-mvc"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(e),o=function(t){return t&&t.__esModule?t:{default:t}}(i);_.extend(n.ENTRY_TYPES_,{online:998,data:999});var r=Backbone.Model.extend(o.default.LoggableMixin).extend({_logNamespace:"citation",defaults:{content:""},initialize:function(){var t;try{t=bibtexParse.toJSON(this.attributes.content)}catch(t){this.log("Error parsing bibtex: "+t)}if(this._fields={},this.entry=_.first(t),this.entry){var e=this.entry.entryTags;for(var i in e){var n=e[i],o=i.toLowerCase();this._fields[o]=n}}},entryType:function(){return this.entry?this.entry.entryType:void 0},fields:function(){return this._fields}}),a=Backbone.Collection.extend(o.default.LoggableMixin).extend({_logNamespace:"citation",urlRoot:Galaxy.root+"api",partial:!0,model:r}),l=a.extend({url:function(){return this.urlRoot+"/histories/"+this.history_id+"/citations"}}),s=a.extend({url:function(){return this.urlRoot+"/tools/"+this.tool_id+"/citations"},partial:!1});t.default={Citation:r,HistoryCitationCollection:l,ToolCitationCollection:s}});
//# sourceMappingURL=../../../maps/mvc/citation/citation-model.js.map
