"use strict";define(["libs/bibtexParse","mvc/base-mvc","utils/localization"],function(t,i,e){var o=Backbone.Model.extend(i.LoggableMixin).extend({_logNamespace:"citation",defaults:{content:""},initialize:function(){var i;try{i=t.toJSON(this.attributes.content)}catch(t){this.log("Error parsing bibtex: "+t)}if(this._fields={},this.entry=_.first(i),this.entry){var e=this.entry.entryTags;for(var o in e){var n=e[o],r=o.toLowerCase();this._fields[r]=n}}},entryType:function(){return this.entry?this.entry.entryType:void 0},fields:function(){return this._fields}}),n=Backbone.Collection.extend(i.LoggableMixin).extend({_logNamespace:"citation",urlRoot:Galaxy.root+"api",partial:!0,model:o});return{Citation:o,HistoryCitationCollection:n.extend({url:function(){return this.urlRoot+"/histories/"+this.history_id+"/citations"}}),ToolCitationCollection:n.extend({url:function(){return this.urlRoot+"/tools/"+this.tool_id+"/citations"},partial:!1})}});
//# sourceMappingURL=../../../maps/mvc/citation/citation-model.js.map
