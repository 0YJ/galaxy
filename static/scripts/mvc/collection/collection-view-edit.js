"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _collectionView=require("mvc/collection/collection-view"),_collectionView2=_interopRequireDefault(_collectionView),_collectionModel=require("mvc/collection/collection-model"),_collectionModel2=_interopRequireDefault(_collectionModel),_collectionLiEdit=require("mvc/collection/collection-li-edit"),_collectionLiEdit2=_interopRequireDefault(_collectionLiEdit),_baseMvc=require("mvc/base-mvc"),_baseMvc2=_interopRequireDefault(_baseMvc),_tag=require("mvc/tag"),_tag2=_interopRequireDefault(_tag),_faIconButton=require("ui/fa-icon-button"),_faIconButton2=_interopRequireDefault(_faIconButton),_localization=require("utils/localization"),_localization2=_interopRequireDefault(_localization);require("ui/editable-text");var _super=_collectionView2.default.CollectionView,CollectionViewEdit=_super.extend({DatasetDCEViewClass:_collectionLiEdit2.default.DatasetDCEListItemEdit,NestedDCDCEViewClass:_collectionLiEdit2.default.NestedDCDCEListItemEdit,initialize:function(t){_super.prototype.initialize.call(this,t)},_setUpBehaviors:function(t){if(t=t||this.$el,_super.prototype._setUpBehaviors.call(this,t),this.model&&Galaxy.user&&!Galaxy.user.isAnonymous()){this.tagsEditorShown=!0;var e=this;t.find("> .controls .name").attr("title",(0,_localization2.default)("Click to rename collection")).tooltip({placement:"bottom"}).make_text_editable({on_finish:function(t){var i=e.model.get("name");t&&t!==i?(e.$el.find("> .controls .name").text(t),e.model.save({name:t}).fail(function(){e.$el.find("> .controls .name").text(e.model.previous("name"))})):e.$el.find("> .controls .name").text(i)}}),this.tagsEditor=new _tag2.default.TagsEditor({model:this.model,el:t.find(".tags-display"),onshowFirstTime:function(){this.render()},usePrompt:!1}),this.tagsEditor.toggle(!0)}},toString:function(){return"CollectionViewEdit("+(this.model?this.model.get("name"):"")+")"}}),ListCollectionViewEdit=CollectionViewEdit.extend({DatasetDCEViewClass:_collectionLiEdit2.default.DatasetDCEListItemEdit,toString:function(){return"ListCollectionViewEdit("+(this.model?this.model.get("name"):"")+")"}}),PairCollectionViewEdit=ListCollectionViewEdit.extend({toString:function(){return"PairCollectionViewEdit("+(this.model?this.model.get("name"):"")+")"}}),NestedPairCollectionViewEdit=PairCollectionViewEdit.extend({_setUpBehaviors:function(t){_super.prototype._setUpBehaviors.call(this,t)},toString:function(){return"NestedPairCollectionViewEdit("+(this.model?this.model.get("name"):"")+")"}}),ListOfPairsCollectionViewEdit=CollectionViewEdit.extend({NestedDCDCEViewClass:_collectionLiEdit2.default.NestedDCDCEListItemEdit.extend({foldoutPanelClass:NestedPairCollectionViewEdit}),toString:function(){return"ListOfPairsCollectionViewEdit("+(this.model?this.model.get("name"):"")+")"}}),ListOfListsCollectionViewEdit=CollectionViewEdit.extend({NestedDCDCEViewClass:_collectionLiEdit2.default.NestedDCDCEListItemEdit.extend({foldoutPanelClass:NestedPairCollectionViewEdit}),toString:function(){return"ListOfListsCollectionViewEdit("+(this.model?this.model.get("name"):"")+")"}});exports.default={CollectionViewEdit:CollectionViewEdit,ListCollectionViewEdit:ListCollectionViewEdit,PairCollectionViewEdit:PairCollectionViewEdit,ListOfPairsCollectionViewEdit:ListOfPairsCollectionViewEdit,ListOfListsCollectionViewEdit:ListOfListsCollectionViewEdit};
//# sourceMappingURL=../../../maps/mvc/collection/collection-view-edit.js.map
