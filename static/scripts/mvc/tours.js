define([],function(){var a=Backbone.Model.extend({urlRoot:"/api/tours"}),b=Backbone.Collection.extend({url:"/api/tours",model:a}),c=Backbone.View.extend({initialize:function(){var a=this;this.setElement("<div/>"),this.model=new b,this.model.fetch({success:function(b){console.log(b),a.render()},error:function(){console.error("Failed to fetch tours.")}})},render:function(){var a=_.template(["<h2>Available Galaxy Tours</h2>","<ul>","<% _.each(tours, function(tour) { %>","<li>",'<a href="#" class="tourItem" data-tour.id=<%- tour.id %>>',"<%- tour.id %>","</a>","- <%- tour.attributes.description %>","</li>","<% }); %>","</ul>"].join(""));this.$el.html(a({tours:this.model.models,Galaxy:Galaxy})).on("click",".tourItem",function(){Galaxy.app.giveTour($(this).data("tour.id"))})}});return{ToursView:c}});
//# sourceMappingURL=../../maps/mvc/tours.js.map