define(["utils/utils","mvc/ui/ui-portlet","mvc/ui/ui-misc","galaxy.masthead","galaxy.menu","mvc/ui/ui-modal","galaxy.frame","mvc/user/user-model","mvc/user/user-quotameter","mvc/app/app-analysis"],function(a,b,c,d,e,f,g,h,i,j){return Backbone.View.extend({initialize:function(b){this.options=a.merge(b,{}),this.setElement(this._template(b)),ensure_dd_helper(),$("body").append(this.$el),Galaxy.currUser||(Galaxy.currUser=new h.User(b.user.json)),Galaxy.masthead||(Galaxy.masthead=new d.GalaxyMasthead(b),Galaxy.modal=new f.View,Galaxy.frame=new g.GalaxyFrame,Galaxy.menu=new e.GalaxyMenu({masthead:Galaxy.masthead,config:b}),Galaxy.quotaMeter=new i.UserQuotaMeter({model:Galaxy.currUser,el:Galaxy.masthead.$(".quota-meter-container")}).render()),this._buildPanel("left",new j.left(b)),this._buildPanel("right",new j.right(b)),this.$("#center").append(new j.center(b).$el)},_buildPanel:function(b,c){var d=a.merge(c.components,{header:{title:"",cls:"",buttons:[]}}),e=$(this._templatePanel(b));e.find(".panel-header-text").html(d.header.title),e.find(".unified-panel-header-inner").addClass(d.header.cls);for(var f in d.header.buttons)e.find(".panel-header-buttons").append(d.header.buttons[f].$el);e.find(".unified-panel-body").append(c.$el);new Panel({center:this.$("#center"),panel:e,drag:e.find(".unified-panel-footer > .drag"),toggle:e.find(".unified-panel-footer > .panel-collapse"),right:"right"==b});this.$el.append(e)},_templatePanel:function(a){return'<div id="'+a+'"><div class="unified-panel-header" unselectable="on"><div class="unified-panel-header-inner"><div class="panel-header-buttons" style="float: right"/><div class="panel-header-text"/></div></div><div class="unified-panel-body"/><div class="unified-panel-footer"><div class="panel-collapse '+a+'"/><div class="drag"/></div></div>'},_template:function(){return'<div id="everything" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><div id="background"/><div id="messagebox"/><div id="inactivebox" class="panel-warning-message"/><div id="center" class="inbound"/></div>'}})});
//# sourceMappingURL=../../../maps/mvc/app/app-view.js.map