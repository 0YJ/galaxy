define(["utils/utils","galaxy.masthead","mvc/ui/ui-portlet","mvc/ui/ui-misc","mvc/ui/ui-modal","panel","mvc/app/app-login","mvc/app/app-analysis"],function(a,b,c,d,e,f,g,h){return console.debug("loading app-view"),console.debug("panel:",f),Backbone.View.extend({initialize:function(c){this.options=a.merge(c,{}),this.setElement(this._template(c)),Galaxy.app=this,Galaxy.params=this.options.params,Galaxy.router=new Backbone.Router,$("body").append(this.$el);var d=$(this.$el.parent()).attr("scroll","no").addClass("full-content");this.options.message_box_visible&&(d.addClass("has-message-box"),this.$("#messagebox").show()),this.options.show_inactivity_warning&&(d.addClass("has-inactivity-box"),this.$("#inactivebox").show()),Galaxy.modal=new e.View,Galaxy.masthead=new b.GalaxyMasthead(this.options),this.build(Galaxy.config.require_login&&!Galaxy.user.id?g:h)},display:function(a,b){$(".select2-hidden-accessible").remove(),this.panels&&this.panels[b||"center"].display(a)},build:function(b){this.panels=[];var c=$.extend(!0,{},this.options),d=["center","left","right"];for(var e in d){var g=d[e];if(this.$("#"+g).remove(),b[g]){var h=this.panels[g]=new b[g](c);if("center"==g)this.$el.append($('<div id="'+g+'"/>').addClass("inbound").append(h.$el));else{var i=a.merge(h.components,{header:{title:"",cls:"",buttons:[]},body:{cls:""}}),j=$(this._templatePanel(g));j.find(".panel-header-text").html(i.header.title),j.find(".unified-panel-header-inner").addClass(i.header.cls);for(var e in i.header.buttons)j.find(".panel-header-buttons").append(i.header.buttons[e].$el);j.find(".unified-panel-body").addClass(i.body.cls).append(h.$el);{new f({center:this.$("#center"),panel:j,drag:j.find(".unified-panel-footer > .drag"),toggle:j.find(".unified-panel-footer > .panel-collapse"),right:"right"==g})}this.$el.append(j)}}else this.$("#center").css(g,"0")}},_templatePanel:function(a){return'<div id="'+a+'"><div class="unified-panel-header" unselectable="on"><div class="unified-panel-header-inner"><div class="panel-header-buttons" style="float: right"/><div class="panel-header-text"/></div></div><div class="unified-panel-body"/><div class="unified-panel-footer"><div class="panel-collapse '+a+'"/><div class="drag"/></div></div>'},_template:function(){return'<div id="everything" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"><div id="background"/><div id="messagebox" class="panel-'+Galaxy.config.message_box_class+'-message" style="display: none;">'+Galaxy.config.message_box_content+'</div><div id="inactivebox" class="panel-warning-message" style="display: none;">'+Galaxy.config.inactivity_box_content+' <a href="'+Galaxy.root+'user/resend_verification">Resend verification.</a></div></div>'}})});
//# sourceMappingURL=../../../maps/mvc/app/app-view.js.map