"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _states=require("mvc/dataset/states"),_states2=_interopRequireDefault(_states),_collectionLi=require("mvc/collection/collection-li"),_collectionLi2=_interopRequireDefault(_collectionLi),_collectionView=require("mvc/collection/collection-view"),_collectionView2=_interopRequireDefault(_collectionView),_baseMvc=require("mvc/base-mvc"),_baseMvc2=_interopRequireDefault(_baseMvc),_localization=require("utils/localization"),_localization2=_interopRequireDefault(_localization),_super=_collectionLi2.default.DCListItemView,HDCAListItemView=_super.extend({className:_super.prototype.className+" history-content",_setUpListeners:function(){_super.prototype._setUpListeners.call(this),this.listenTo(this.model,{"change:tags change:populated change:visible":function(e,t){this.render()}})},_getFoldoutPanelClass:function(){switch(this.model.get("collection_type")){case"list":return _collectionView2.default.ListCollectionView;case"paired":return _collectionView2.default.PairCollectionView;case"list:paired":return _collectionView2.default.ListOfPairsCollectionView;case"list:list":return _collectionView2.default.ListOfListsCollectionView}throw new TypeError("Uknown collection_type: "+this.model.get("collection_type"))},_swapNewRender:function(e){_super.prototype._swapNewRender.call(this,e);var t=this.model.get("populated")?_states2.default.OK:_states2.default.RUNNING;return this.$el.addClass("state-"+t),this.$el},toString:function(){return"HDCAListItemView("+(this.model?this.model+"":"(no model)")+")"}});HDCAListItemView.prototype.templates=function(){var e=_.extend({},_super.prototype.templates.warnings,{hidden:_baseMvc2.default.wrapTemplate(["<% if( !collection.visible ){ %>",'<div class="hidden-msg warningmessagesmall">',(0,_localization2.default)("This collection has been hidden"),"</div>","<% } %>"],"collection")}),t=_baseMvc2.default.wrapTemplate(['<div class="title-bar clear" tabindex="0">','<span class="state-icon"></span>','<div class="title">','<span class="hid"><%- collection.hid %></span> ','<span class="name"><%- collection.name %></span>',"</div>",'<div class="subtitle"></div>','<span class="nametags">',"<% _.each(_.sortBy(_.uniq(collection.tags), function(x) { return x }), function(tag){ %>",'<% if (tag.indexOf("name:") == 0){ %>','<span class="label label-info"><%- tag.slice(5) %></span>',"<% } %>","<% }); %>","</span>","</div>"],"collection");return _.extend({},_super.prototype.templates,{warnings:e,titleBar:t})}(),exports.default={HDCAListItemView:HDCAListItemView};
//# sourceMappingURL=../../../maps/mvc/history/hdca-li.js.map
