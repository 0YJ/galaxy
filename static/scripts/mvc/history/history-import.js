define("mvc/history/history-import",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Backbone.View.extend({initialize:function(){this.setElement(this._mainTemplate());var t=this.$("form"),e=this.$(".ui-message");this.$(".btn-primary").on("click",function(){$.ajax({url:Galaxy.root+"api/histories",data:new FormData(t[0]),cache:!1,contentType:!1,processData:!1,method:"POST"}).done(function(t){}).fail(function(t){var i=t.responseJSON&&t.responseJSON.err_msg;e.removeClass().addClass("ui-message alert alert-danger").text(i||"Import failed for unkown reason.").show()})})},_mainTemplate:function(){return"<div class='ui-portlet-limited'>\n            <div class='portlet-header'>\n                <div class='portlet-title'>\n                    <i class='portlet-title-icon fa fa-upload'></i>\n                    <span class='portlet-title-text'><b>Import a History from an Archive</b></span>\n                </div>\n            </div>\n            <div class='portlet-content'>\n                <div class='portlet-body'>\n                    <div class='ui-message'/>\n                    <form>\n                        <div class='ui-form-element'>\n                            <div class='ui-form-title'>Archived History URL</div>\n                            <input class='ui-input' type='text' name='archive_source'/>\n                        </div>\n                        <div class='ui-form-element'>\n                            <div class='ui-form-title'>Archived History file</div>\n                            <input type='file' name='archive_file'/>\n                        </div>\n                    </form>\n                </div>\n                <div class='portlet-buttons'>\n                    <input class='btn btn-primary' type='button' value='Import History'/>\n                </div>\n            </div>\n        </div>"}});t.default={View:e}});
//# sourceMappingURL=../../../maps/mvc/history/history-import.js.map
