"use strict";define(["utils/utils"],function(t){return{View:Backbone.View.extend({row:null,row_count:0,optionsDefault:{content:"No content available.",onchange:null,ondblclick:null,onconfirm:null,cls:"ui-table",cls_tr:""},events:{click:"_onclick",dblclick:"_ondblclick"},initialize:function(i){this.options=t.merge(i,this.optionsDefault);var n=$(this._template(this.options));this.$thead=n.find("thead"),this.$tbody=n.find("tbody"),this.$tmessage=n.find("tmessage"),this.setElement(n),this.row=this._row()},addHeader:function(t){var i=$("<th></th>");i.append(t),this.row.append(i)},appendHeader:function(){this.$thead.append(this.row),this.row=$("<tr></tr>")},add:function(t,i,n){var e=$("<td></td>");i&&e.css("width",i),n&&e.css("text-align",n),e.append(t),this.row.append(e)},append:function(t,i){this._commit(t,i,!1)},prepend:function(t,i){this._commit(t,i,!0)},get:function(t){return this.$el.find("#"+t)},del:function(t){var i=this.$tbody.find("#"+t);i.length>0&&(i.remove(),this.row_count--,this._refresh())},delAll:function(){this.$tbody.empty(),this.row_count=0,this._refresh()},value:function(t){this.before=this.$tbody.find(".current").attr("id"),void 0!==t&&(this.$tbody.find("tr").removeClass("current"),t&&this.$tbody.find("#"+t).addClass("current"));var i=this.$tbody.find(".current").attr("id");return void 0===i?null:(i!=this.before&&this.options.onchange&&this.options.onchange(t),i)},size:function(){return this.$tbody.find("tr").length},_commit:function(t,i,n){this.del(t),this.row.attr("id",t),n?this.$tbody.prepend(this.row):this.$tbody.append(this.row),i&&(this.row.hide(),this.row.fadeIn()),this.row=this._row(),this.row_count++,this._refresh()},_row:function(){return $('<tr class="'+this.options.cls_tr+'"></tr>')},_onclick:function(t){var i=this.value(),n=$(t.target).closest("tr").attr("id");""!=n&&n&&i!=n&&(this.options.onconfirm?this.options.onconfirm(n):this.value(n))},_ondblclick:function(t){var i=this.value();i&&this.options.ondblclick&&this.options.ondblclick(i)},_refresh:function(){0==this.row_count?this.$tmessage.show():this.$tmessage.hide()},_template:function(t){return'<div><table class="'+t.cls+'"><thead></thead><tbody></tbody></table><tmessage>'+t.content+"</tmessage><div>"}})}});
//# sourceMappingURL=../../../maps/mvc/ui/ui-table.js.map
