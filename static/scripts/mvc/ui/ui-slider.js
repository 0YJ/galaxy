define(["utils/utils"],function(a){var b=Backbone.View.extend({initialize:function(b){var c=this;this.model=b&&b.model||new Backbone.Model({id:a.uid(),min:null,max:null,step:null,precise:!1,split:1e4,value:null}).set(b),this.setElement(this._template(this.model.attributes)),this.$text=this.$(".ui-form-slider-text"),this.$slider=this.$(".ui-form-slider-element");var d=[];this.$text.on("change",function(){c.value($(this).val())}).on("keyup",function(a){d[a.which]=!1,c.model.get("onchange")&&c.model.get("onchange")($(this).val())}).on("keydown",function(a){var b=a.which;d[b]=!0,c.model.get("is_workflow")&&d[16]&&52==b?(c.value("$"),event.preventDefault()):8==b||9==b||13==b||37==b||39==b||b>=48&&57>=b&&!d[16]||b>=96&&105>=b||(190==b||110==b)&&-1==$(this).val().indexOf(".")&&c.model.get("precise")||(189==b||109==b)&&-1==$(this).val().indexOf("-")||c._isParameter($(this).val())||d[91]||d[17]||event.preventDefault()}),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var a=this.model.attributes,b=null!==a.max&&null!==a.min&&a.max>a.min,c=a.step;c||(c=a.precise&&b?(a.max-a.min)/a.split:1),b?(this.$slider.slider({min:a.min,max:a.max,step:c}).on("slide",function(a,b){self.value(b.value)}).show(),this.$text.css("width","auto")):(this.$slider.hide(),this.$text.css("width","100%"))},value:function(a){var b=this.model.attributes;return void 0!==a&&(null===a||""===a||this._isParameter(a)||(isNaN(a)&&(a=0),null!==b.max&&(a=Math.min(a,b.max)),null!==b.min&&(a=Math.max(a,b.min))),this.$slider&&this.$slider.slider("value",a),this.$text.val(a),b.onchange&&b.onchange(a)),this.$text.val()},_isParameter:function(a){return this.model.get("is_workflow")&&"$"===String(a).substring(0,1)},_template:function(a){return'<div id="'+a.id+'" class="ui-form-slider"><input type="text" class="ui-form-slider-text"/><div class="ui-form-slider-element"/></div>'}});return{View:b}});
//# sourceMappingURL=../../../maps/mvc/ui/ui-slider.js.map