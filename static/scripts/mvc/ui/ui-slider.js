"use strict";define(["utils/utils"],function(i){return{View:Backbone.View.extend({initialize:function(t){var s=this;this.options=i.merge(t,{id:i.uid(),min:null,max:null,step:null,precise:!1,split:1e4}),this.setElement(this._template(this.options)),this.useslider=null!==this.options.max&&null!==this.options.min&&this.options.max>this.options.min,null===this.options.step&&(this.options.step=1,this.options.precise&&this.useslider&&(this.options.step=(this.options.max-this.options.min)/this.options.split)),this.useslider?(this.$slider=this.$("#slider"),this.$slider.slider(this.options),this.$slider.on("slide",function(i,t){s.value(t.value)})):this.$(".ui-form-slider-text").css("width","100%"),this.$text=this.$("#text"),void 0!==this.options.value&&this.value(this.options.value);var e=[];this.$text.on("change",function(){s.value($(this).val())}),this.$text.on("keyup",function(i){e[i.which]=!1,s.options.onchange&&s.options.onchange($(this).val())}),this.$text.on("keydown",function(i){var t=i.which;e[t]=!0,s.options.is_workflow&&e[16]&&52==t?(s.value("$"),event.preventDefault()):8==t||9==t||13==t||37==t||39==t||t>=48&&t<=57&&!e[16]||t>=96&&t<=105||(190==t||110==t)&&-1==$(this).val().indexOf(".")&&s.options.precise||(189==t||109==t)&&-1==$(this).val().indexOf("-")||s._isParameter($(this).val())||e[91]||e[17]||event.preventDefault()})},value:function(i){return void 0!==i&&(null===i||""===i||this._isParameter(i)||(isNaN(i)&&(i=0),null!==this.options.max&&(i=Math.min(i,this.options.max)),null!==this.options.min&&(i=Math.max(i,this.options.min))),this.$slider&&this.$slider.slider("value",i),this.$text.val(i),this.options.onchange&&this.options.onchange(i)),this.$text.val()},_isParameter:function(i){return this.options.is_workflow&&"$"===String(i).substring(0,1)},_template:function(i){return'<div id="'+i.id+'" class="ui-form-slider"><input id="text" type="text" class="ui-form-slider-text"/><div id="slider" class="ui-form-slider-element"/></div>'}})}});
//# sourceMappingURL=../../../maps/mvc/ui/ui-slider.js.map
