"use strict";define(["utils/utils","mvc/ui/ui-options"],function(e,a){return{View:a.BaseIcons.extend({initialize:function(e){e.type=e.display||"checkbox",e.multiple="checkbox"==e.type,a.BaseIcons.prototype.initialize.call(this,e)},_setValue:function(e){if(a.BaseIcons.prototype._setValue.call(this,e),void 0!==e&&null!==e&&this.header_index){var i=this,t=$.isArray(e)?e:[e];_.each(t,function(e){var a=i.header_index[e];_.each(a,function(e){i._setState(e,!0)})})}},_setState:function(e,a){var i=this.$(".button-"+e),t=this.$(".subgroup-"+e);i.data("is_expanded",a),a?(t.show(),i.removeClass("fa-plus-square").addClass("fa-minus-square")):(t.hide(),i.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){function a(e,a){var i=e.find(".button-"+a);i.on("click",function(){s._setState(a,!i.data("is_expanded"))})}function t(n,d,l){l=l||[];for(i in d){var u=d[i],o=u.options&&u.options.length>0,p=l.slice(0);s.header_index[u.value]=p.slice(0);var r=$("<div/>");if(o){var c=e.uid(),v=$("<span/>").addClass("button-"+c).addClass("ui-drilldown-button fa fa-plus-square"),f=$("<div/>").addClass("subgroup-"+c).addClass("ui-drilldown-subgroup");r.append($("<div/>").append(v).append(s._templateOption({label:u.name,value:u.value}))),p.push(c),t(f,u.options,p),r.append(f),a(r,c)}else r.append(s._templateOption({label:u.name,value:u.value}));n.append(r)}}var s=this;this.header_index={};var n=$("<div/>");return t(n,this.model.get("data")),n},_template:function(){return $("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}})}});
//# sourceMappingURL=../../../maps/mvc/ui/ui-drilldown.js.map
