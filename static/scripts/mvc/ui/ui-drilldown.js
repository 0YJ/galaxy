define([],function(){"use strict";define(["utils/utils","mvc/ui/ui-options"],function(e,a){return{View:a.BaseIcons.extend({initialize:function(e){e.type=e.display||"checkbox",e.multiple="checkbox"==e.type,a.BaseIcons.prototype.initialize.call(this,e)},_setValue:function(e){if(a.BaseIcons.prototype._setValue.call(this,e),void 0!==e&&null!==e&&this.header_index){var t=this,i=$.isArray(e)?e:[e];_.each(i,function(e){var a=t.header_index[e];_.each(a,function(e){t._setState(e,!0)})})}},_setState:function(e,a){var t=this.$(".button-"+e),i=this.$(".subgroup-"+e);t.data("is_expanded",a),a?(i.show(),t.removeClass("fa-plus-square").addClass("fa-minus-square")):(i.hide(),t.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){function a(e,a){var t=e.find(".button-"+a);t.on("click",function(){i._setState(a,!t.data("is_expanded"))})}function t(n,s,d){d=d||[];for(var l in s){var u=s[l],o=u.options&&u.options.length>0,p=d.slice(0);i.header_index[u.value]=p.slice(0);var r=$("<div/>");if(o){var c=e.uid(),f=$("<span/>").addClass("button-"+c).addClass("ui-drilldown-button fa fa-plus-square"),v=$("<div/>").addClass("subgroup-"+c).addClass("ui-drilldown-subgroup");r.append($("<div/>").append(f).append(i._templateOption({label:u.name,value:u.value}))),p.push(c),t(v,u.options,p),r.append(v),a(r,c)}else r.append(i._templateOption({label:u.name,value:u.value}));n.append(r)}}var i=this;this.header_index={};var n=$("<div/>");return t(n,this.model.get("data")),n},_template:function(){return $("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}})}})});
//# sourceMappingURL=../../../maps/mvc/ui/ui-drilldown.js.map
