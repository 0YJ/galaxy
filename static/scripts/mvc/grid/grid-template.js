"use strict";define(["utils/utils"],function(e){return{grid:function(e){var a="";return a=e.embedded?this.grid_header(e)+this.grid_table(e):'<div class="loading-elt-overlay"></div><table><tr><td width="75%">'+this.grid_header(e)+'</td><td></td><td></td></tr><tr><td width="100%" id="grid-message" valign="top"></td><td></td><td></td></tr></table>'+this.grid_table(e),e.info_text&&(a+='<br><div class="toolParamHelp" style="clear: both;">'+e.info_text+"</div>"),a},grid_table:function(e){return'<form method="post" onsubmit="return false;"><table id="grid-table" class="grid"><thead id="grid-table-header"></thead><tbody id="grid-table-body"></tbody><tfoot id="grid-table-footer"></tfoot></table></form>'},grid_header:function(e){var a='<div class="grid-header">';if(e.embedded||(a+="<h2>"+e.title+"</h2>"),e.global_actions){a+='<ul class="manage-table-actions">';var t=e.global_actions.length>=3;t&&(a+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');for(i in e.global_actions){var r=e.global_actions[i],l="";l="inbound"==r.target?"use-inbound":"use-outbound",a+='<li><a class="action-button '+l+'" href="'+r.url_args+'" onclick="return false;">'+r.label+"</a></li>"}t&&(a+="</div>"),a+="</ul>"}return e.insert&&(a+=e.insert),a+=this.grid_filters(e),a+="</div>"},header:function(e){var a="<tr>";e.show_item_checkboxes&&(a+="<th>",e.items.length>0&&(a+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),a+="</th>");for(var t in e.columns){var i=e.columns[t];i.visible&&(a+='<th id="'+i.key+'-header">',i.href?a+='<a href="'+i.href+'" class="sort-link" sort_key="'+i.key+'">'+i.label+"</a>":a+=i.label,a+='<span class="sort-arrow">'+i.extra+"</span></th>")}return a+="</tr>"},body:function(e){var a="",t=0;0==e.items.length&&(a+='<tr><td colspan="100"><em>No Items</em></td></tr>',t=1);for(var i in e.items){var r=e.items[i],l=r.encode_id;a+="<tr ",e.current_item_id==r.id&&(a+='class="current"'),a+=">",e.show_item_checkboxes&&(a+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'+l+'" id="'+l+'" class="grid-row-select-checkbox" /></td>');for(j in e.columns){var n=e.columns[j];if(n.visible){var s="";n.nowrap&&(s='style="white-space:nowrap;"');var o=r.column_config[n.label],d=o.link,c=o.value,p=o.target;"string"===jQuery.type(c)&&(c=c.replace(/\/\//g,"/"));var f="",u="";n.attach_popup&&(f="grid-"+i+"-popup",u="menubutton",""!=d&&(u+=" split"),u+=" popup"),a+="<td "+s+">",d?(0!=e.operations.length&&(a+='<div id="'+f+'" class="'+u+'" style="float: left;">'),a+='<a class="menubutton-label use-target" target="'+p+'" href="'+d+'" onclick="return false;">'+c+"</a>",0!=e.operations.length&&(a+="</div>")):a+='<div id="'+f+'" class="'+u+'"><label id="'+n.label_id_prefix+l+'" for="'+l+'">'+(c||"")+"</label></div>",a+="</td>"}}a+="</tr>",t++}return a},footer:function(e){var a="";if(e.use_paging&&e.num_pages>1){var t=e.num_page_links,r=e.cur_page_num,l=e.num_pages,n=t/2,s=r-n,o=0;s<=0&&(s=1,o=n-(r-s));var d=n+o,c=r+d;c<=l?max_offset=0:(c=l,max_offset=d-(c+1-r)),0!=max_offset&&(s-=max_offset)<1&&(s=1),a+='<tr id="page-links-row">',e.show_item_checkboxes&&(a+="<td></td>"),a+='<td colspan="100"><span id="page-link-container">Page:',s>1&&(a+='<span class="page-link" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var p=s;p<c+1;p++)p==e.cur_page_num?a+='<span class="page-link inactive-link" id="page-link-'+p+'">'+p+"</span>":a+='<span class="page-link" id="page-link-'+p+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+p+'">'+p+"</a></span>";c<l&&(a+='...<span class="page-link" id="page-link-'+l+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+l+'">'+l+"</a></span>"),a+="</span>",a+='<span class="page-link" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span></td></tr>'}if(e.show_item_checkboxes){a+='<tr><input type="hidden" id="operation" name="operation" value=""><td></td><td colspan="100">For <span class="grid-selected-count"></span> selected '+e.get_class_plural+": ";for(i in e.operations){var f=e.operations[i];f.allow_multiple&&(a+='<input type="button" value="'+f.label+'" class="operation-button action-button">&nbsp;')}a+="</td></tr>"}var u=!1;for(i in e.operations)if(e.operations[i].global_operation){u=!0;break}if(u){a+='<tr><td colspan="100">';for(i in e.operations){var f=e.operations[i];f.global_operation&&(a+='<a class="action-button" href="'+f.global_operation+'">'+f.label+"</a>")}a+="</td></tr>"}return e.legend&&(a+='<tr><td colspan="100">'+e.legend+"</td></tr>"),a},message:function(e){return'<p><div class="'+e.status+'message transient-message">'+e.message+'</div><div style="clear: both"></div></p>'},grid_filters:function(e){var a=e.default_filter_dict,t=e.filters,i="none";e.advanced_search&&(i="block");var r=!1;for(var l in e.columns){var n=e.columns[l];if("advanced"==n.filterable){var s=n.key,o=t[s],d=a[s];o&&d&&o!=d&&(i="block"),r=!0}}var c="block";"block"==i&&(c="none");var p='<div id="standard-search" style="display: '+c+';"><table><tr><td style="padding: 0;"><table>';for(var l in e.columns){var n=e.columns[l];"standard"==n.filterable&&(p+=this.grid_column_filter(e,n))}p+="</table></td></tr><tr><td>",r&&(p+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),p+="</td></tr></table></div>",p+='<div id="advanced-search" style="display: '+i+'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>';for(var l in e.columns){var n=e.columns[l];"advanced"==n.filterable&&(p+=this.grid_column_filter(e,n))}return p+="</table></div>"},grid_column_filter:function(e,a){var t=(e.default_filter_dict,e.filters),i=a.label,r=a.key;"advanced"==a.filterable&&(i=i.toLowerCase());var l="<tr>";if("advanced"==a.filterable&&(l+='<td align="left" style="padding-left: 10px">'+i+":</td>"),l+='<td style="padding-bottom: 1px;">',a.is_text){l+='<form class="text-filter-form" column_key="'+r+'" action="'+e.url+'" method="get" >';for(c in e.columns){var n=e.columns[c],s=t[n.key];s&&"All"!=s&&(n.is_text&&(s=JSON.stringify(s)),l+='<input type="hidden" id="'+n.key+'" name="f-'+n.key+'" value="'+s+'"/>')}l+='<span id="'+r+'-filtering-criteria">';var o=t[r];if(o){var d=jQuery.type(o);if("string"==d&&"All"!=o&&(l+=this.filter_element(r,o)),"array"==d)for(var c in o){var p=o[c],f=o;f=f.slice(c),l+=this.filter_element(r,p)}}l+="</span>";var u="";if("standard"==a.filterable){u=a.label.toLowerCase();var g=u.length;g<20&&(g=20),g+=4}l+='<span class="search-box"><input class="search-box-input" id="input-'+r+'-filter" name="f-'+r+'" type="text" placeholder="'+u+'" size="'+g+'"/><button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;"><i class="fa fa-search"></i></button></span></form>'}else{l+='<span id="'+r+'-filtering-criteria">';var v=!1;for(cf_label in e.categorical_filters[r]){var b=e.categorical_filters[r][cf_label],_="",h="";for(key in b)_=key,h=b[key];v&&(l+=" | "),v=!0;var p=t[r];p&&b[r]&&p==h?l+='<span class="categorical-filter '+r+'-filter current-filter">'+cf_label+"</span>":l+='<span class="categorical-filter '+r+'-filter"><a href="javascript:void(0);" filter_key="'+_+'" filter_val="'+h+'">'+cf_label+"</a></span>"}l+="</span>"}return l+="</td></tr>"},filter_element:function(a,t){return'<span class="text-filter-val">'+(t=e.sanitize(t))+'<a href="javascript:void(0);" filter_key="'+a+'" filter_val="'+t+'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>'}}});
//# sourceMappingURL=../../../maps/mvc/grid/grid-template.js.map
