define("mvc/library/library-model",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Backbone.Model.extend({urlRoot:Galaxy.root+"api/libraries/",isVisible:function(e){var t=!0;return!e&&this.get("deleted")&&(t=!1),t}}),o=Backbone.Collection.extend({urlRoot:Galaxy.root+"api/libraries",model:t,sort_key:"name",sort_order:null,initialize:function(e){e=e||{}},search:function(e){if(""==e)return this;var t=e.toLowerCase();return this.filter(function(e){return-1!==e.get("name").toLowerCase().indexOf(t)})},getVisible:function(e,t){return t=t||[],new o(this.filter(function(t){return t.isVisible(e)}))},sortByNameAsc:function(){return this.comparator=function(e,t){return e.get("name").toLowerCase()>t.get("name").toLowerCase()?1:t.get("name").toLowerCase()>e.get("name").toLowerCase()?-1:0},this.sort(),this},sortByNameDesc:function(){return this.comparator=function(e,t){return e.get("name").toLowerCase()>t.get("name").toLowerCase()?-1:t.get("name").toLowerCase()>e.get("name").toLowerCase()?1:0},this.sort(),this}}),r=Backbone.Model.extend({}),n=r.extend({urlRoot:Galaxy.root+"api/libraries/datasets/"}),a=r.extend({urlRoot:Galaxy.root+"api/folders/"}),i=Backbone.Collection.extend({model:r,sortByNameAsc:function(){return this.comparator=function(e,t){return e.get("type")===t.get("type")?e.get("name").toLowerCase()>t.get("name").toLowerCase()?1:t.get("name").toLowerCase()>e.get("name").toLowerCase()?-1:0:"folder"===e.get("type")?-1:1},this.sort(),this},sortByNameDesc:function(){return this.comparator=function(e,t){return e.get("type")===t.get("type")?e.get("name").toLowerCase()>t.get("name").toLowerCase()?-1:t.get("name").toLowerCase()>e.get("name").toLowerCase()?1:0:"folder"===e.get("type")?-1:1},this.sort(),this}}),s=Backbone.Model.extend({defaults:{folder:new i,urlRoot:Galaxy.root+"api/folders/",id:"unknown"},parse:function(e){this.get("folder").reset();for(var t=0;t<e.folder_contents.length;t++)if("folder"===e.folder_contents[t].type){var o=new a(e.folder_contents[t]);this.get("folder").add(o)}else if("file"===e.folder_contents[t].type){var r=new n(e.folder_contents[t]);this.get("folder").add(r)}else Galaxy.emit.error("Unknown folder item type encountered while parsing response.");return e}}),l=Backbone.Model.extend({urlRoot:Galaxy.root+"api/histories/"}),d=Backbone.Collection.extend({urlRoot:Galaxy.root+"api/histories/",initialize:function(e){this.id=e.id},url:function(){return this.urlRoot+this.id+"/contents"},model:l}),u=Backbone.Model.extend({urlRoot:Galaxy.root+"api/histories/"}),c=Backbone.Collection.extend({url:Galaxy.root+"api/histories",model:u}),f=Backbone.Model.extend({urlRoot:Galaxy.root+"api/remote_files"});e.default={Library:t,Libraries:o,Item:n,Ldda:n,FolderAsModel:a,Folder:i,FolderContainer:s,HistoryItem:l,HistoryContents:d,GalaxyHistory:u,GalaxyHistories:c,Jstree:f}});
//# sourceMappingURL=../../../maps/mvc/library/library-model.js.map
