"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _utils=require("utils/utils"),_utils2=_interopRequireDefault(_utils),_uiMisc=require("mvc/ui/ui-misc"),_uiMisc2=_interopRequireDefault(_uiMisc),_uiSelectContent=require("mvc/ui/ui-select-content"),_uiSelectContent2=_interopRequireDefault(_uiSelectContent),_uiSelectLibrary=require("mvc/ui/ui-select-library"),_uiSelectLibrary2=_interopRequireDefault(_uiSelectLibrary),_uiSelectFtp=require("mvc/ui/ui-select-ftp"),_uiSelectFtp2=_interopRequireDefault(_uiSelectFtp),_uiSelectGenomespace=require("mvc/ui/ui-select-genomespace"),_uiSelectGenomespace2=_interopRequireDefault(_uiSelectGenomespace),_uiColorPicker=require("mvc/ui/ui-color-picker"),_uiColorPicker2=_interopRequireDefault(_uiColorPicker);exports.default=Backbone.Model.extend({types:{text:"_fieldText",password:"_fieldText",select:"_fieldSelect",data_column:"_fieldSelect",genomebuild:"_fieldSelect",data:"_fieldData",data_collection:"_fieldData",integer:"_fieldSlider",float:"_fieldSlider",boolean:"_fieldBoolean",drill_down:"_fieldDrilldown",color:"_fieldColor",hidden:"_fieldHidden",hidden_data:"_fieldHidden",baseurl:"_fieldHidden",library_data:"_fieldLibrary",ftpfile:"_fieldFtp",upload:"_fieldUpload",genomespacefile:"_fieldGenomeSpace"},create:function(e){var i=this.types[e.type],l="function"==typeof this[i]?this[i].call(this,e):null;return l||(l=e.options?this._fieldSelect(e):this._fieldText(e),Galaxy.emit.debug("form-parameters::_addRow()","Auto matched field type ("+e.type+").")),void 0===e.value&&(e.value=null),l.value(e.value),l},_fieldData:function(e){return new _uiSelectContent2.default.View({id:"field-"+e.id,extensions:e.extensions,optional:e.optional,multiple:e.multiple,type:e.type,flavor:e.flavor,data:e.options,onchange:e.onchange})},_fieldSelect:function(e){if(e.is_workflow)return this._fieldText(e);"data_column"==e.type&&(e.error_text="Missing columns in referenced dataset.");var i=e.data;i||(i=[],_.each(e.options,function(e){i.push({label:e[0],value:e[1]})}));var l=_uiMisc2.default.Select;switch(e.display){case"checkboxes":l=_uiMisc2.default.Checkbox;break;case"radio":l=_uiMisc2.default.Radio;break;case"radiobutton":l=_uiMisc2.default.RadioButton}return new l.View({id:"field-"+e.id,data:i,error_text:e.error_text||"No options available",readonly:e.readonly,multiple:e.multiple,optional:e.optional,onchange:e.onchange,individual:e.individual,searchable:"workflow"!==e.flavor})},_fieldDrilldown:function(e){return e.is_workflow?this._fieldText(e):new _uiMisc2.default.Drilldown.View({id:"field-"+e.id,data:e.options,display:e.display,optional:e.optional,onchange:e.onchange})},_fieldText:function(e){if(e.options&&e.data)if(e.area=e.multiple,_utils2.default.isEmpty(e.value))e.value=null;else if($.isArray(e.value)){var i="";for(var l in e.value){if(i+=String(e.value[l]),!e.multiple)break;i+="\n"}e.value=i}return new _uiMisc2.default.Input({id:"field-"+e.id,type:e.type,area:e.area,readonly:e.readonly,placeholder:e.placeholder,datalist:e.datalist,onchange:e.onchange})},_fieldSlider:function(e){return new _uiMisc2.default.Slider.View({id:"field-"+e.id,precise:"float"==e.type,is_workflow:e.is_workflow,min:e.min,max:e.max,onchange:e.onchange})},_fieldHidden:function(e){return new _uiMisc2.default.Hidden({id:"field-"+e.id,info:e.info})},_fieldBoolean:function(e){return new _uiMisc2.default.RadioButton.View({id:"field-"+e.id,data:[{label:"Yes",value:"true"},{label:"No",value:"false"}],onchange:e.onchange})},_fieldColor:function(e){return new _uiColorPicker2.default({id:"field-"+e.id,onchange:e.onchange})},_fieldLibrary:function(e){return new _uiSelectLibrary2.default.View({id:"field-"+e.id,optional:e.optional,multiple:e.multiple,onchange:e.onchange})},_fieldFtp:function(e){return new _uiSelectFtp2.default.View({id:"field-"+e.id,optional:e.optional,multiple:e.multiple,onchange:e.onchange})},_fieldGenomeSpace:function(e){var i=this;return new _uiSelectGenomespace2.default.View({id:"field-"+e.id,onchange:function(){i.app.trigger("change")}})},_fieldUpload:function(e){return new _uiMisc2.default.Upload({id:"field-"+e.id,onchange:e.onchange})}});
//# sourceMappingURL=../../../maps/mvc/form/form-parameters.js.map
