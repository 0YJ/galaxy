define(["mvc/form/form-view","mvc/ui/ui-misc"],function(a,b){var c=Backbone.View.extend({initialize:function(c,d){var e=this;this.model=d&&d.model||new Backbone.Model(d),this.form=new a({title:"Web API Key",inputs:[{name:"api-key",type:"text",label:"Current API key:",value:d.user_api_key||"Not available.",readonly:!0,help:" An API key will allow you to access "+("galaxy"===d.app_name?"Galaxy":"the Tool Shed")+" via its web API. Please note that this key acts as an alternate means to access your account and should be treated with the same care as your login password."}],operations:{back:new b.ButtonIcon({icon:"fa-caret-left",tooltip:"Return to user preferences",title:"Preferences",onclick:function(){e.remove(),c.showPreferences()}})},buttons:{generatenewkey:new b.Button({tooltip:"Generate new key "+(d.user_api_key?"(invalidates old key) ":""),title:"Generate a new key",cls:"ui-button btn btn-primary",floating:"clear",onclick:function(){e._getNewApiKey()}})}}),this.setElement(this.form.$el)},_getNewApiKey:function(){var a=this;$.getJSON(Galaxy.root+"api/user_preferences/change_api_key",{new_api_key:!0},function(b){if(b.user_api_key){var c=a.form.data.match("api-key");a.form.field_list[c].value(b.user_api_key),a.form.message.update({message:b.message,status:"error"===b.status?"danger":"success"})}})}});return{APIKeys:c}});
//# sourceMappingURL=../../../maps/mvc/user/change-api-key.js.map