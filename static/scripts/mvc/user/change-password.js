define(["mvc/form/form-view","mvc/ui/ui-misc"],function(a,b){return Backbone.View.extend({initialize:function(c,d){var e=this;this.model=d&&d.model||new Backbone.Model(d),this.form=new a({title:"Change Password",icon:"fa-key",inputs:[{name:"current",type:"password",label:"Current password"},{name:"password",type:"password",label:"New password"},{name:"confirm",type:"password",label:"Confirm password"},{name:"token",type:"hidden",hidden:!0,ignore:null}],operations:{back:new b.ButtonIcon({icon:"fa-caret-left",tooltip:"Return to user preferences",title:"Preferences",onclick:function(){e.remove(),c.showPreferences()}})},buttons:{save:new b.Button({icon:"fa-save",tooltip:"Save settings",title:"Save Password",cls:"ui-button btn btn-primary",floating:"clear",onclick:function(){e._save()}})}}),this.setElement(this.form.$el)},_save:function(){var a=this;$.getJSON(Galaxy.root+"api/user_preferences/change_password",this.form.data.create(),function(b){a.form.message.update({message:b.message,status:"error"===b.status?"danger":"success"})})}})});
//# sourceMappingURL=../../../maps/mvc/user/change-password.js.map