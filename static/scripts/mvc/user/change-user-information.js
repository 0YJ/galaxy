define(["mvc/form/form-view","mvc/ui/ui-misc","mvc/user/add-edit-address"],function(a,b){var c=Backbone.View.extend({initialize:function(c,d){var e=this;this.app=c,window.console.log(d),this.model=d&&d.model||new Backbone.Model(d),this.original_email=d.email,this.original_username=d.username,this.form=new a({title:"Login Information",inputs:d.inputs,operations:{back:new b.ButtonIcon({icon:"fa-caret-left",tooltip:"Return to user preferences",title:"Preferences",onclick:function(){e.remove(),c.showPreferences()}})},buttons:{save:new b.Button({tooltip:"Save",title:"Save",cls:"ui-button btn btn-primary",floating:"clear",onclick:function(){e._save()}})}}),this.setElement("<div/>"),this.$el.append(this.form.$el)},_save:function(){var a=this;$.getJSON(Galaxy.root+"api/user_preferences/change_information",a.form.data.create(),function(b){a.form.message.update({message:b.message,status:"error"===b.status?"danger":"success"})}).always(function(){a.form.message.update({message:"Failed to contact server. Please wait and try again.",status:"danger"})})}});return{ManageUserInformation:c}});
//# sourceMappingURL=../../../maps/mvc/user/change-user-information.js.map