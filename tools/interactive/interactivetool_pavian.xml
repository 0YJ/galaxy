<tool id="interactive_tool_pavian" tool_type="interactive" name="Pavian" version="1.0" profile="22.01">
    <description>Interactive analysis of metagenomics data</description>
    <requirements>
        <container type="docker">florianbw/pavian:latest</container>
    </requirements>
    <entry_points>
        <entry_point name="Pavian visualisation" requires_domain="True">
            <port>80</port>
            <url>/</url>
        </entry_point>
    </entry_points>
    <command><![CDATA[
        mkdir -p /srv/shiny-server/data/ &&
        cp '$infile' /srv/shiny-server/data/inputdata.txt &&
        /usr/bin/shiny-server.sh
    ]]>
    </command>
    <inputs>
        <param name="infile" type="data" multiple="true" optional="true" format="tabular" label="Input biodiversity data file(s)"/>
    </inputs>
    <outputs>
        <data name="outfile" format="txt" />
    </outputs>
    <tests>
    </tests>
    <help>
<![CDATA[

`Pavian <https://github.com/fbreitwieser/pavian>`_  is a interactive browser application for analyzing and visualization metagenomics classification results from classifiers such as Kraken, KrakenUniq, Kraken 2, Centrifuge and MetaPhlAn. Pavian also provides an alignment viewer for validation of matches to a particular genome.

pavian natively supports the Kraken and MetaPhlAn-style report formats. In extension, you can use Centrifuge results by running centrifuge-kreport on Centrifuge output files, and Kaiju results by running kraken-report on Kaiju output files.
]]>
    </help>
    <citations>
           <citation type="doi">10.1093/bioinformatics/btz715</citation>
    </citations>
</tool>
